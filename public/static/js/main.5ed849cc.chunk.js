(this.webpackJsonpecollab=this.webpackJsonpecollab||[]).push([[0],{326:function(e,t,s){},327:function(e,t,s){},328:function(e,t,s){},353:function(e,t){},355:function(e,t){},365:function(e,t){},367:function(e,t){},394:function(e,t){},395:function(e,t){},400:function(e,t){},402:function(e,t){},409:function(e,t){},428:function(e,t){},617:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(20),r=s.n(i),c=(s(324),s(146),s(325),s(326),s(327),s(11)),o=s(12),l=s(14),d=s(13),h=(s.p,s(328),s(115)),u=s(29),j=s(4),b=s(65),p=new(s(303).Dispatcher),v=new(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).list=[],e.multipleList=[],e.instance=null,e.klass=null,e.reason=null,e}return Object(o.a)(s,[{key:"listModel",value:function(e){this.list=[],this.klass=e.klass;for(var t=0,s=e.data.length;t<s;++t)this.list.push(e.data[t]),t===s-1&&this.emit("got_list");0==e.data.length&&this.emit("got_list")}},{key:"listMultipleModel",value:function(e){console.log(">>>>>",e),this.multipleList=e.data,this.klass=e.klass,this.emit("got_multiple_list")}},{key:"showIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("got_instance")}},{key:"setIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("set_instance")}},{key:"deleteIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("deleted_instance")}},{key:"postFile",value:function(e){console.log(e),this.klass=e.klass,this.instance=e.data,this.emit("file_posted")}},{key:"setIntanceFailure",value:function(){this.klass="Error",this.emit("set_instance")}},{key:"getReason",value:function(){return this.reason}},{key:"getIntance",value:function(){return this.instance}},{key:"getList",value:function(){return this.list}},{key:"getListnKlass",value:function(){return[this.list,this.klass]}},{key:"getMutipleList",value:function(){return this.multipleList}},{key:"getKlass",value:function(){return this.klass}},{key:"handleActions",value:function(e){switch(e.type){case"LIST_MODEL_SUCCESS":this.listModel(e.list);break;case"MULTIPLE_LIST_MODEL_SUCCESS":this.listMultipleModel(e.list);break;case"GET_INSTANCE_SUCCESS":this.showIntance(e.instance);break;case"DELETE_INSTANCE_SUCCESS":this.deleteIntance(e.instance);break;case"SET_INSTANCE_SUCCESS":this.setIntance(e.instance);break;case"POST_FILE_SUCCESS":this.postFile(e.instance);break;case"SET_INSTANCE_FAILURE":this.setIntanceFailure()}}}]),s}(b.EventEmitter));p.register(v.handleActions.bind(v));var g=v,m=s(40),f=s.n(m),x="/v1",O="https://connect.ut.ac.ir/",w="https://sync.ut.ac.ir:8089/janus",y=x;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=Object.keys(s).map((function(e){return e+"="+s[e]})).join("&");f.a.get(y+"/"+e+"?page="+t+"&"+a,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){p.dispatch({type:"LIST_MODEL_SUCCESS",list:e.data})})).catch((function(e){console.log(e)}))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=Object.keys(s).map((function(e){return e+"="+s[e]})).join("&");f.a.get(y+"/"+e+"?page="+t+"&"+a,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){p.dispatch({type:"MULTIPLE_LIST_MODEL_SUCCESS",list:e.data})})).catch((function(e){console.log(e)}))}function S(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;f.a.get(y+"/"+e+"/"+t+"?page="+n,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){p.dispatch({type:"GET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");f.a.get(y+"/"+e+"/delete?"+n,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){p.dispatch({type:"DELETE_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}function I(e,t,s){f.a.post(y+"/"+e+"/",t,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){p.dispatch({type:"SET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e,t){p.dispatch({type:"SET_INSTANCE_FAILURE",instance:e})}))}function N(e,t,s){f.a.put(y+"/"+e+"/"+t.id,t,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){p.dispatch({type:"SET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}var M,T,D=s(2),A={farsi:(M={overview:"\u0646\u0645\u0627\u06cc \u06a9\u0644\u06cc",events:"\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627",home:"\u062e\u0627\u0646\u0647",meetings:"\u0646\u0634\u0633\u062a \u0647\u0627",users:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",your_country:"\u06a9\u0634\u0648\u0631",bio:"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0646",write_about_yourself:"\u062f\u0631\u0628\u0627\u0631\u0647 \u062e\u0648\u062f\u062a\u0627\u0646 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f ...",complete_your_profile:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u062a\u06a9\u0645\u06cc\u0644 \u06a9\u0646\u06cc\u062f",continue:"\u0627\u062f\u0627\u0645\u0647",profiles:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",settings:"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a",event_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0631\u0648\u06cc\u062f\u0627\u062f",event_title:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0648\u06cc\u062f\u0627\u062f",event_info:"\u0634\u0631\u062d \u0631\u0648\u06cc\u062f\u0627\u062f",event_type:"\u0646\u0648\u0639 \u0631\u0648\u06cc\u062f\u0627\u062f",event:"\u0631\u0648\u06cc\u062f\u0627\u062f",create_event:"\u0627\u06cc\u062c\u0627\u062f \u0631\u0648\u06cc\u062f\u0627\u062f",create_event_page:"\u0627\u06cc\u062c\u0627\u062f \u0631\u0648\u06cc\u062f\u0627\u062f",in_person:"\u062d\u0636\u0648\u0631\u06cc",online:"\u0628\u0631\u062e\u0637",hybrid:"\u062a\u0644\u0641\u06cc\u0642\u06cc",filter_events:"\u062c\u0633\u062a\u062c\u0648 \u0648 \u0641\u06cc\u0644\u062a\u0631 \u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627",event_start_date:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639",event_end_date:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646",event_not_found_by_name:"\u0631\u062e\u062f\u0627\u062f\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0646\u0627\u0645 \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f",not_found_note:"\u0644\u0637\u0641\u0627 \u0645\u0637\u0645\u0626\u0646 \u0634\u0648\u06cc\u062f \u06a9\u0647 \u0646\u0627\u0645 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u06cc\u0627 \u0644\u06cc\u0646\u06a9 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0635\u062d\u06cc\u062d \u0627\u0633\u062a. \u062f\u0631  \u0635\u0648\u0631\u062a \u0646\u06cc\u0627\u0632 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u062f\u0631 \u0628\u06cc\u0646 \u062a\u0645\u0627\u0645\u06cc \u0631\u062e\u062f\u0627\u062f \u0647\u0627 \u062c\u0633\u062a\u062c\u0648 \u06a9\u0646\u06cc\u062f",all_events:"\u0647\u0645\u0647 \u0631\u062e\u062f\u0627\u062f\u0647\u0627",event_shortname:"\u0646\u0627\u0645 \u06a9\u0648\u062a\u0627\u0647",shortname_note:"\u0628\u0627\u06cc\u062f \u0641\u0642\u0637 \u0634\u0627\u0645\u0644 \u0627\u0639\u062f\u0627\u062f \u0648 \u062d\u0631\u0648\u0641 \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc \u0628\u0627\u0634\u062f \u0648 \u062d\u062f\u0627\u0642\u0644 \u06f3 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f",abilities:"\u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",restrictions:"\u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",reports:"\u06af\u0632\u0627\u0631\u0634\u0627\u062a","":"",meeting_info:"\u0634\u0631\u062d \u0646\u0634\u0633\u062a",meeting_title:"\u0639\u0646\u0648\u0627\u0646 \u0646\u0634\u0633\u062a",meeting_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0646\u0634\u0633\u062a",meeting_type:"\u0646\u0648\u0639 \u0646\u0634\u0633\u062a",meeting_capacity:"\u0638\u0631\u0641\u06cc\u062a \u0646\u0634\u0633\u062a",meeting_external_link:"\u0644\u06cc\u0646\u06a9 \u0646\u0634\u0633\u062a",meeting_start_time:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",meeting_end_time:"\u0632\u0645\u0627\u0646 \u067e\u0627\u06cc\u0627\u0646",related_to_event:"\u0646\u0634\u0633\u062a\u06cc \u0627\u0632 \u0631\u0648\u06cc\u062f\u0627\u062f",create_meeting:"\u0627\u06cc\u062c\u0627\u062f \u0646\u0634\u0633\u062a",create_meeting_page:"\u0627\u06cc\u062c\u0627\u062f \u0646\u0634\u0633\u062a",online_external:"\u0628\u0631\u062e\u0637 \u0628\u06cc\u0631\u0648\u0646\u06cc",filter_meetings:"\u062c\u0633\u062a\u062c\u0648 \u0648 \u0641\u06cc\u0644\u062a\u0631 \u0646\u0634\u0633\u062a \u0647\u0627",service_type:"\u0646\u0648\u0639 \u0633\u0631\u0648\u06cc\u0633 \u062c\u0644\u0633\u0627\u062a",internal:"\u062f\u0631\u0648\u0646 \u0633\u0627\u0645\u0627\u0646\u0647",bigblue:"\u0628\u06cc\u06af \u0628\u0644\u0648 \u0628\u0627\u062a\u0646",exhibition_info:"\u0634\u0631\u062d",exhibition_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u063a\u0631\u0641\u0647",exhibition_title:"\u0639\u0646\u0648\u0627\u0646 \u0634\u0631\u06a9\u062a/\u0645\u0648\u0633\u0633\u0647"},Object(D.a)(M,"related_to_event","\u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0631\u0648\u06cc\u062f\u0627\u062f"),Object(D.a)(M,"create_exhibition","\u0627\u06cc\u062c\u0627\u062f \u063a\u0631\u0641\u0647"),Object(D.a)(M,"create_exhibition_page","\u0627\u06cc\u062c\u0627\u062f \u063a\u0631\u0641\u0647"),Object(D.a)(M,"exhibitions","\u0646\u0645\u0627\u06cc\u0634\u06af\u0627\u0647"),Object(D.a)(M,"stations","\u063a\u0631\u0641\u0647 \u0647\u0627"),Object(D.a)(M,"enter_room_with_admin","\u0645\u0630\u0627\u06a9\u0631\u0647 \u0628\u0627 \u063a\u0631\u0641\u0647 \u062f\u0627\u0631"),Object(D.a)(M,"choose_participants","\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 \u0645\u0648\u0631\u062f\u0646\u0638\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"participants","\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(M,"add_participants","\u0627\u0641\u0632\u0648\u062f\u0646 \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u0647"),Object(D.a)(M,"pages","\u0635\u0641\u062d\u0627\u062a"),Object(D.a)(M,"page_content","\u0645\u062d\u062a\u0648\u0627\u06cc \u0635\u0641\u062d\u0647"),Object(D.a)(M,"page_title","\u0639\u0646\u0648\u0627\u0646 \u0635\u0641\u062d\u0647"),Object(D.a)(M,"create_page","\u0627\u06cc\u062c\u0627\u062f \u0635\u0641\u062d\u0647"),Object(D.a)(M,"default_page","\u0635\u0641\u062d\u0647 \u067e\u06cc\u0634 \u0641\u0631\u0636"),Object(D.a)(M,"default_page_info","\u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u067e\u06cc\u0634 \u0641\u0631\u0635 \u062f\u0631 \u0646\u0634\u0633\u062a \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u0648\u062f"),Object(D.a)(M,"create_upload","\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u0645\u0646\u0628\u0639"),Object(D.a)(M,"upload_title","\u0639\u0646\u0648\u0627\u0646 \u0645\u0646\u0628\u0639"),Object(D.a)(M,"default_is_private_upload","\u0628\u0647 \u062c\u0632 \u0645\u062f\u06cc\u0631\u0627\u0646 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u062f\u06cc\u062f\u0647 \u0646\u0634\u0648\u062f"),Object(D.a)(M,"cover","\u06a9\u0627\u0648\u0631"),Object(D.a)(M,"file","\u0641\u0627\u06cc\u0644"),Object(D.a)(M,"video","\u0648\u06cc\u062f\u06cc\u0648"),Object(D.a)(M,"choose_file","\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"),Object(D.a)(M,"resources","\u0645\u0646\u0627\u0628\u0639"),Object(D.a)(M,"all","\u0647\u0645\u0647"),Object(D.a)(M,"resource_type","\u0646\u0648\u0639 \u0645\u0646\u0628\u0639"),Object(D.a)(M,"q_and_a_s","\u067e\u0631\u0633\u0634 \u0648 \u067e\u0627\u0633\u062e \u0647\u0627"),Object(D.a)(M,"create_question_page","\u062b\u0628\u062a \u067e\u0631\u0633\u0634"),Object(D.a)(M,"create_question","\u062b\u0628\u062a \u067e\u0631\u0633\u0634"),Object(D.a)(M,"question_content","\u0645\u062a\u0646 \u067e\u0631\u0633\u0634"),Object(D.a)(M,"default_is_private_question","\u067e\u0631\u0633\u0634 \u0641\u0642\u0637 \u062a\u0648\u0633\u0637 \u0645\u062f\u06cc\u0631\u0627\u0646 \u062f\u06cc\u062f\u0647 \u0634\u0648\u062f"),Object(D.a)(M,"",""),Object(D.a)(M,"take_me_home","\u0628\u0627\u0632\u06af\u0634\u062a"),Object(D.a)(M,"chats","\u06af\u0641\u062a\u06af\u0648"),Object(D.a)(M,"details","\u062c\u0632\u0626\u06cc\u0627\u062a"),Object(D.a)(M,"welcome","\u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f"),Object(D.a)(M,"welcome_note","\u0628\u0627 \u0648\u0631\u0648\u062f \u0628\u0647 \u0627\u06cc\u0646 \u0633\u0627\u0645\u0627\u0646\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0646\u06cc\u062f \u06cc\u0627 \u062f\u0631 \u0633\u0627\u06cc\u0631 \u0631\u0648\u06cc\u062f\u0627\u062f \u0647\u0627 \u0634\u0631\u06a9\u062a \u06a9\u0646\u06cc\u062f."),Object(D.a)(M,"sign_up_now","\u0647\u0645 \u0627\u06a9\u0646\u0648\u0646 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"your_email","\u0627\u06cc\u0645\u06cc\u0644"),Object(D.a)(M,"your_name","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644"),Object(D.a)(M,"choose_password","\u0627\u0646\u062a\u062e\u0627\u0628 \u0631\u0645\u0632\u0639\u0628\u0648\u0631"),Object(D.a)(M,"repeat_password","\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632\u0639\u0628\u0648\u0631"),Object(D.a)(M,"password_rule","\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u062d\u062a\u0645\u0627 \u0628\u0627\u06cc\u062f \u06f8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f"),Object(D.a)(M,"sign_up_and_continue","\u062b\u0628\u062a \u0646\u0627\u0645 \u0648 \u0627\u062f\u0627\u0645\u0647"),Object(D.a)(M,"login_if_registered","\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"),Object(D.a)(M,"if_not_registered","\u0627\u06af\u0631 \u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"),Object(D.a)(M,"login","\u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),Object(D.a)(M,"sign_up","\u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"password","\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),Object(D.a)(M,"enter_bigblue_room","\u0648\u0631\u0648\u062f \u0628\u0647 \u0627\u062a\u0627\u0642 \u062a\u0639\u0627\u0645\u0644"),Object(D.a)(M,"",""),Object(D.a)(M,"poll_content","\u0645\u062a\u0646 \u067e\u0631\u0633\u0634 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),Object(D.a)(M,"single_select","\u0686\u0646\u062f\u06af\u0632\u06cc\u0646\u0647 \u062a\u06a9 \u0627\u0646\u062a\u062e\u0627\u0628"),Object(D.a)(M,"multiple_select","\u0686\u0646\u062f \u06af\u0632\u06cc\u0646\u0647 \u0686\u0646\u062f \u0627\u0646\u062a\u062e\u0627\u0628"),Object(D.a)(M,"star","\u0633\u062a\u0627\u0631\u0647"),Object(D.a)(M,"binary","\u0628\u0644\u06cc/\u062e\u06cc\u0631"),Object(D.a)(M,"trinary","\u0645\u0648\u0627\u0641\u0642/\u0645\u062e\u0627\u0644\u0641/\u0645\u0645\u062a\u0646\u0639"),Object(D.a)(M,"answer_type","\u0646\u0648\u0639 \u067e\u0627\u0633\u062e"),Object(D.a)(M,"select_content","\u067e\u0627\u0633\u062e \u0647\u0627\u06cc \u0686\u0646\u062f \u06af\u0632\u06cc\u0646\u0647 \u0627\u06cc"),Object(D.a)(M,"separate_with_enter","\u0628\u0627 \u062f\u06a9\u0645\u0647 enter \u067e\u0627\u0633\u062e \u0647\u0627 \u0631\u0627 \u062c\u062f\u0627 \u06a9\u0646\u06cc\u062f."),Object(D.a)(M,"polls","\u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),Object(D.a)(M,"per_display","\u062f\u0631 \u0647\u0631 \u0646\u0645\u0627\u06cc\u0634\u06af\u0631"),Object(D.a)(M,"sata_displays","\u062a\u0639\u062f\u0627\u062f \u0646\u0645\u0627\u06cc\u0634\u06af\u0631\u0647\u0627\u06cc \u0633\u0627\u062a\u0627"),Object(D.a)(M,"my_profile","\u067e\u0631\u0648\u0641\u0627\u06cc\u0644 \u0645\u0646"),Object(D.a)(M,"email_and_password_does_not_match","\u0627\u06cc\u0645\u06cc\u0644 \u0648 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0647\u0645\u062e\u0648\u0627\u0646 \u0646\u06cc\u0633\u062a"),Object(D.a)(M,"change_avatar","\u062a\u063a\u06cc\u06cc\u0631 \u0639\u06a9\u0633"),Object(D.a)(M,"profile","\u067e\u0631\u0648\u0641\u0627\u06cc\u0644"),Object(D.a)(M,"recent_meetings","\u0646\u0634\u0633\u062a \u0647\u0627\u06cc \u0627\u062e\u06cc\u0631"),Object(D.a)(M,"recent_events","\u0631\u0648\u06cc\u062f\u0627\u062f \u0647\u0627\u06cc \u0627\u062e\u06cc\u0631"),Object(D.a)(M,"recent_exhibitions","\u0646\u0645\u0627\u06cc\u0634\u06af\u0627\u0647 \u0647\u0627\u06cc \u0627\u062e\u06cc\u0631"),Object(D.a)(M,"country","\u06a9\u0634\u0648\u0631"),Object(D.a)(M,"is_active","\u0641\u0639\u0627\u0644"),Object(D.a)(M,"is_active_notice","\u0641\u0642\u0637 \u063a\u0631\u0641\u0647 \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0641\u0639\u0627\u0644 \u0628\u0627\u0634\u0646\u062f \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062f\u0647 \u0647\u0633\u062a\u0646\u062f"),Object(D.a)(M,"forget_password","\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),Object(D.a)(M,"you_are_not_registered","\u0634\u0645\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u0646\u0634\u0633\u062a \u06cc\u0627 \u0631\u062e\u062f\u0627\u062f \u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"),Object(D.a)(M,"not_registered_note","\u0627\u06af\u0631 \u062a\u0645\u0627\u06cc\u0644 \u062f\u0627\u0631\u06cc\u062f \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f."),Object(D.a)(M,"just_listen_click","\u0627\u06af\u0631 \u0641\u0642\u0637 \u0645\u0627\u06cc\u0644 \u0628\u0647 \u0634\u0646\u06cc\u062f\u0646 \u0647\u0633\u062a\u06cc\u062f \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"piano1","\u067e\u06cc\u0627\u0646\u0648 \u06f1"),Object(D.a)(M,"piano2","\u067e\u06cc\u0627\u0646\u0648 \u06f2"),Object(D.a)(M,"ended","\u062a\u0645\u0627\u0645"),Object(D.a)(M,"quran","\u0642\u0631\u0622\u0646"),Object(D.a)(M,"applause1","\u062a\u0634\u0648\u06cc\u0642"),Object(D.a)(M,"applause2","\u062a\u0634\u0648\u06cc\u0642 \u06af\u0631\u0648\u0647\u06cc"),Object(D.a)(M,"laugh","\u062e\u0646\u062f\u0647"),Object(D.a)(M,"laughing","\u0642\u0647\u0642\u0647\u0647"),Object(D.a)(M,"snoring","\u062e\u0631 \u0648 \u067e\u0641"),Object(D.a)(M,"throat","\u0635\u0627\u0641 \u06a9\u0631\u062f\u0646 \u0635\u062f\u0627"),Object(D.a)(M,"footsteps","\u0635\u062f\u0627\u06cc \u067e\u0627"),Object(D.a)(M,"play_sound","\u067e\u062e\u0634 \u0635\u062f\u0627 \u062f\u0631 \u062c\u0644\u0633\u0647"),Object(D.a)(M,"remaining","\u0628\u0627\u0642\u06cc\u0645\u0627\u0646\u062f\u0647"),Object(D.a)(M,"seconds","\u062b\u0627\u0646\u06cc\u0647"),Object(D.a)(M,"anthem-iran","\u0633\u0631\u0648\u062f \u0645\u0644\u06cc \u0627\u06cc\u0631\u0627\u0646"),Object(D.a)(M,"Permission denied","\u0645\u062c\u0648\u0632 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0645\u06cc\u06a9\u0631\u0648\u0641\u0646 \u06cc\u0627 \u062f\u0648\u0631\u0628\u06cc\u0646 \u062f\u0627\u062f\u0647 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a"),Object(D.a)(M,"error","\u062e\u0637\u0627"),Object(D.a)(M,"sata","\u0633\u0627\u062a\u0627"),Object(D.a)(M,"close","\u0628\u0633\u062a\u0646"),Object(D.a)(M,"maximize","\u0628\u0632\u0631\u06af\u0646\u0645\u0627\u06cc\u06cc"),Object(D.a)(M,"yes","\u0628\u0644\u0647"),Object(D.a)(M,"no","\u062e\u06cc\u0631"),Object(D.a)(M,"abstention","\u0645\u0645\u062a\u0646\u0639"),Object(D.a)(M,"viewers","\u062d\u0627\u0636\u0631\u06cc\u0646"),Object(D.a)(M,"my_calendar","\u062a\u0642\u0648\u06cc\u0645 \u0645\u0646"),Object(D.a)(M,"registeration","\u0648\u0636\u0639\u06cc\u062a \u062b\u0628\u062a \u0646\u0627\u0645"),Object(D.a)(M,"registered","\u062b\u0628\u062a \u0646\u0627\u0645 \u0634\u062f\u0647"),Object(D.a)(M,"not_registered","\u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u0634\u062f\u0647"),Object(D.a)(M,"are_you_sure","\u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f"),Object(D.a)(M,"delete","\u062d\u0630\u0641"),Object(D.a)(M,"true","\u0645\u062b\u0628\u062a"),Object(D.a)(M,"false","\u0645\u0646\u0641\u06cc"),Object(D.a)(M,"create_event","\u0627\u06cc\u062c\u0627\u062f \u0631\u062e\u062f\u0627\u062f"),Object(D.a)(M,"create_exhibition","\u0627\u06cc\u062c\u0627\u062f \u063a\u0631\u0641\u0647"),Object(D.a)(M,"modify_ability","\u062a\u063a\u06cc\u06cc\u0631 \u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"),Object(D.a)(M,"administration","\u0645\u062f\u06cc\u0631\u06cc\u062a \u062a\u0646\u0638\u06cc\u0645\u0627\u062a"),Object(D.a)(M,"view","\u0646\u0645\u0627\u06cc\u0634"),Object(D.a)(M,"out_of_time","\u062e\u0627\u0631\u062c \u0627\u0632 \u0632\u0645\u0627\u0646 \u0646\u0634\u0633\u062a"),Object(D.a)(M,"room_is_full","\u0627\u062a\u0627\u0642 \u067e\u0631 \u0627\u0633\u062a"),Object(D.a)(M,"unregister","\u0644\u063a\u0648 \u062b\u0628\u062a \u0646\u0627\u0645"),Object(D.a)(M,"register","\u062b\u0628\u062a \u0646\u0627\u0645"),Object(D.a)(M,"check_your_spam_folder","\u062f\u0631 \u0635\u0648\u0631\u062a \u0639\u062f\u0645 \u0645\u0634\u0627\u0647\u062f\u0647\u060c \u067e\u0648\u0634\u0647 spam \u0631\u0627 \u0647\u0645 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"your_account_is_not_verified","\u0644\u0637\u0641\u0627 \u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0634\u0645\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0634\u062f\u0647 \u0627\u0633\u062a \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"verfication_code","\u06a9\u062f \u0641\u0639\u0627\u0644\u0633\u0627\u0632\u06cc"),Object(D.a)(M,"email","\u0627\u06cc\u0645\u06cc\u0644"),Object(D.a)(M,"name","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644"),Object(D.a)(M,"password","\u0631\u0645\u0632\u0639\u0628\u0648\u0631"),Object(D.a)(M,"password_confirmation","\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),Object(D.a)(M,"file","\u0641\u0627\u06cc\u0644"),Object(D.a)(M,"info","\u0634\u0631\u062d"),Object(D.a)(M,"title","\u0639\u0646\u0648\u0627\u0646"),Object(D.a)(M,"the_following_should_not_be_empty","\u0645\u0642\u0627\u062f\u06cc\u0631 \u0632\u06cc\u0631 \u0646\u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u062e\u0627\u0644\u06cc \u0628\u0627\u0634\u062f"),Object(D.a)(M,"error","\u062e\u0637\u0627"),Object(D.a)(M,"no_result_to_show","\u0645\u0648\u0631\u062f\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"),Object(D.a)(M,"try_adjusting_your_search","\u0644\u0637\u0641\u0627 \u0645\u0648\u0627\u0631\u062f \u062c\u0633\u062a\u062c\u0648 \u0631\u0648 \u0645\u062c\u062f\u062f\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"cas","\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0645\u0631\u06a9\u0632\u06cc"),Object(D.a)(M,"more","\u0628\u06cc\u0634\u062a\u0631"),Object(D.a)(M,"date_from","\u0627\u0632 \u062a\u0627\u0631\u06cc\u062e"),Object(D.a)(M,"date_to","\u062a\u0627 \u062a\u0627\u0631\u06cc\u062e"),Object(D.a)(M,"logout","\u062e\u0631\u0648\u062c"),Object(D.a)(M,"write_something","\u0627\u06cc\u0646\u062c\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f ..."),Object(D.a)(M,"provide_following_info","\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u062a\u06a9\u0645\u06cc\u0644 \u06a9\u0646\u06cc\u062f"),Object(D.a)(M,"cancel","\u0627\u0646\u0635\u0631\u0627\u0641"),Object(D.a)(M,"submit","\u062b\u0628\u062a"),Object(D.a)(M,"filter","\u0641\u06cc\u0644\u062a\u0631 \u06a9\u0646"),Object(D.a)(M,"search_placeholder","\u062c\u0633\u062a\u062c\u0648..."),Object(D.a)(M,"contains_words","\u0634\u0627\u0645\u0644 \u062d\u0631\u0648\u0641"),Object(D.a)(M,"save","\u0630\u062e\u06cc\u0631\u0647"),Object(D.a)(M,"filter_and_search","\u0641\u06cc\u0644\u062a\u0631 \u0648 \u062c\u0633\u062a\u062c\u0648"),Object(D.a)(M,"tags","\u0628\u0631\u0686\u0633\u0628 \u0647\u0627"),Object(D.a)(M,"is_private","\u062e\u0635\u0648\u0635\u06cc"),Object(D.a)(M,"speakers","\u0635\u062d\u0628\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(M,"listeners","\u0634\u0646\u0648\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(M,"moderator","\u0645\u062f\u06cc\u0631"),Object(D.a)(M,"listener","\u0634\u0646\u0648\u0646\u062f\u0647"),Object(D.a)(M,"presenter","\u0627\u0631\u0627\u0626\u0647 \u062f\u0647\u0646\u062f\u0647"),Object(D.a)(M,"speaker","\u0635\u062d\u0628\u062a \u06a9\u0646\u0646\u062f\u0647"),Object(D.a)(M,"calendar","\u062a\u0642\u0648\u06cc\u0645"),Object(D.a)(M,"enter_room","\u0648\u0631\u0648\u062f \u0628\u0647 \u062c\u0644\u0633\u0647"),Object(D.a)(M,"default_is_private_info","\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u062e\u0648\u062f\u0634\u0627\u0646 \u062f\u0631 \u0631\u0648\u06cc\u062f\u0627\u062f \u0647\u0627 \u06cc\u0627 \u0646\u0634\u0633\u062a \u0647\u0627\u06cc \u062e\u0635\u0648\u0635\u06cc \u0639\u0636\u0648 \u0634\u0648\u0646\u062f \u0648 \u0635\u0631\u0641\u0627 \u0628\u0627\u06cc\u062f \u062f\u0639\u0648\u062a \u0634\u0648\u0646\u062f"),M),english:(T={overview:"Overview",events:"Events",home:"Home",meetings:"Meetings",users:"Users",your_country:"Your Country",bio:"Bio",write_about_yourself:"Write about yourself",complete_your_profile:"Complete your profile",continue:"Continue",profiles:"Users",settings:"Settings",event_detail:"Details",event_title:"Event's title",event_info:"More info",event_type:"Event type",event:"Event",create_event:"Create Event",create_event_page:"Create Event",in_person:"In person",online:"Online",hybrid:"Hybrid",filter_events:"Filter events",event_start_date:"Starts at",event_end_date:"Ends at",all_events:"All events",event_shortname:"Event shortname",abilities:"\u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",restrictions:"\u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",reports:"\u06af\u0632\u0627\u0631\u0634\u0627\u062a","":"",meeting_info:"More info",meeting_title:"Meeting title",meeting_detail:"Details",meeting_type:"Meeting tpe",meeting_capacity:"Meeting capacity",meeting_external_link:"External link",meeting_start_time:"Starts at",meeting_end_time:"Ends at",related_to_event:"Related to event",create_meeting:"Create meeting",create_meeting_page:"Create meeting",online_external:"Online/External",filter_meetings:"Filter & search meetings",service_type:"Service type",internal:"Internal collaboration room",bigblue:"BigBlueButton",exhibition_info:"More info",exhibition_detail:"Details",exhibition_title:"Title"},Object(D.a)(T,"related_to_event","Event"),Object(D.a)(T,"create_exhibition","Create booth"),Object(D.a)(T,"create_exhibition_page","Create booth"),Object(D.a)(T,"exhibitions","Exhibitions"),Object(D.a)(T,"stations","Stations"),Object(D.a)(T,"enter_room_with_admin","Negotiate with Exhibitor"),Object(D.a)(T,"choose_participants","Choose participants"),Object(D.a)(T,"participants","Participants"),Object(D.a)(T,"add_participants","Add participants"),Object(D.a)(T,"pages","Pages"),Object(D.a)(T,"page_content","Page content"),Object(D.a)(T,"page_title","Page title"),Object(D.a)(T,"create_page","Create page"),Object(D.a)(T,"default_page","Deafult page"),Object(D.a)(T,"default_page_info","Show this page as default"),Object(D.a)(T,"create_upload","Upload resource"),Object(D.a)(T,"upload_title","Resource title"),Object(D.a)(T,"default_is_private_upload","This resource is private. Only moderators can view this."),Object(D.a)(T,"cover","Cover image"),Object(D.a)(T,"file","File"),Object(D.a)(T,"video","Video"),Object(D.a)(T,"choose_file","Choose file"),Object(D.a)(T,"resources","Resources"),Object(D.a)(T,"all","All"),Object(D.a)(T,"resource_type","Resource type"),Object(D.a)(T,"q_and_a_s","Questions & answers"),Object(D.a)(T,"create_question_page","Submit question"),Object(D.a)(T,"create_question","Ask your question"),Object(D.a)(T,"question_content","Content"),Object(D.a)(T,"default_is_private_question","Only moderators can view the question"),Object(D.a)(T,"",""),Object(D.a)(T,"chats","Chats"),Object(D.a)(T,"details","Details"),Object(D.a)(T,"welcome","Welcome"),Object(D.a)(T,"welcome_note","In this application, you can participate in the exisiting events or you can manage your own events."),Object(D.a)(T,"sign_up_now","Sign up now"),Object(D.a)(T,"your_email","Email"),Object(D.a)(T,"your_name","Fullname"),Object(D.a)(T,"choose_password","Choose pasword"),Object(D.a)(T,"repeat_password","Repeat password"),Object(D.a)(T,"password_rule","Password should be at least 8 character"),Object(D.a)(T,"sign_up_and_continue","Sign up and continue"),Object(D.a)(T,"login_if_registered","If you already registered"),Object(D.a)(T,"if_not_registered","If you did not register"),Object(D.a)(T,"login","Login"),Object(D.a)(T,"sign_up","Sign up"),Object(D.a)(T,"password","Password"),Object(D.a)(T,"enter_bigblue_room","Enter room (BBB)"),Object(D.a)(T,"",""),Object(D.a)(T,"poll_content","\u0645\u062a\u0646 \u067e\u0631\u0633\u0634 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),Object(D.a)(T,"single_select","\u0686\u0646\u062f\u06af\u0632\u06cc\u0646\u0647 \u062a\u06a9 \u0627\u0646\u062a\u062e\u0627\u0628"),Object(D.a)(T,"multiple_select","\u0686\u0646\u062f \u06af\u0632\u06cc\u0646\u0647 \u0686\u0646\u062f \u0627\u0646\u062a\u062e\u0627\u0628"),Object(D.a)(T,"star","\u0633\u062a\u0627\u0631\u0647"),Object(D.a)(T,"binary","\u0628\u0644\u06cc/\u062e\u06cc\u0631"),Object(D.a)(T,"trinary","\u0645\u0648\u0627\u0641\u0642/\u0645\u062e\u0627\u0644\u0641/\u0645\u0645\u062a\u0646\u0639"),Object(D.a)(T,"answer_type","\u0646\u0648\u0639 \u067e\u0627\u0633\u062e"),Object(D.a)(T,"select_content","\u067e\u0627\u0633\u062e \u0647\u0627\u06cc \u0686\u0646\u062f \u06af\u0632\u06cc\u0646\u0647 \u0627\u06cc"),Object(D.a)(T,"separate_with_enter","\u0628\u0627 \u062f\u06a9\u0645\u0647 enter \u067e\u0627\u0633\u062e \u0647\u0627 \u0631\u0627 \u062c\u062f\u0627 \u06a9\u0646\u06cc\u062f."),Object(D.a)(T,"polls","Polls"),Object(D.a)(T,"per_display","Per display"),Object(D.a)(T,"sata_displays","SATA displays"),Object(D.a)(T,"my_profile","My profile"),Object(D.a)(T,"email_and_password_does_not_match","Email and password does not match"),Object(D.a)(T,"change_avatar","Change avatar"),Object(D.a)(T,"profile","Profile"),Object(D.a)(T,"recent_meetings","Recent meetings"),Object(D.a)(T,"recent_events","Recent events"),Object(D.a)(T,"recent_exhibitions","Recent exhibitions"),Object(D.a)(T,"country","Country"),Object(D.a)(T,"is_active","Active"),Object(D.a)(T,"is_active_notice","Only active boothes can be viewed"),Object(D.a)(T,"forget_password","Forget your password?"),Object(D.a)(T,"you_are_not_registered","You did not register in this event or meeting"),Object(D.a)(T,"not_registered_note","Do you want to register now?"),Object(D.a)(T,"just_listen_click","If you just want to listen, click here!"),Object(D.a)(T,"piano1","Piano 1"),Object(D.a)(T,"piano2","Piano 2"),Object(D.a)(T,"ended","Ended"),Object(D.a)(T,"quran","Quran"),Object(D.a)(T,"applause1","Applause 1"),Object(D.a)(T,"applause2","Applause 2"),Object(D.a)(T,"laugh","\u062e\u0646\u062f\u0647"),Object(D.a)(T,"laughing","\u0642\u0647\u0642\u0647\u0647"),Object(D.a)(T,"snoring","Snoring"),Object(D.a)(T,"throat","Clear throat"),Object(D.a)(T,"footsteps","footsteps"),Object(D.a)(T,"play_sound","Play sound"),Object(D.a)(T,"remaining","Remaining"),Object(D.a)(T,"seconds","Seconds"),Object(D.a)(T,"anthem-iran","IRI National Anthem"),Object(D.a)(T,"Permission denied","Permission to webcam/microphone is denied"),Object(D.a)(T,"sata","SATA"),Object(D.a)(T,"close","Close"),Object(D.a)(T,"maximize","Maximize"),Object(D.a)(T,"yes","Yes"),Object(D.a)(T,"no","No"),Object(D.a)(T,"abstention","Abstention"),Object(D.a)(T,"viewers","Viewers"),Object(D.a)(T,"my_calendar","My calendar"),Object(D.a)(T,"registeration","Status"),Object(D.a)(T,"registered","Registered"),Object(D.a)(T,"not_registered","Not registered"),Object(D.a)(T,"are_you_sure","Are you sure?"),Object(D.a)(T,"delete","Delete"),Object(D.a)(T,"true","True"),Object(D.a)(T,"false","False"),Object(D.a)(T,"create_event","Create Event"),Object(D.a)(T,"create_exhibition","Create Booth"),Object(D.a)(T,"modify_ability","Modify user abilities"),Object(D.a)(T,"administration","Administration"),Object(D.a)(T,"view","View"),Object(D.a)(T,"out_of_time","Out of time"),Object(D.a)(T,"room_is_full","Room is full"),Object(D.a)(T,"unregister","Leave"),Object(D.a)(T,"register","Register"),Object(D.a)(T,"check_your_spam_folder","Please also check your spam folder"),Object(D.a)(T,"your_account_is_not_verified","Your account is not verified yet"),Object(D.a)(T,"verfication_code","Verification code"),Object(D.a)(T,"email","Email"),Object(D.a)(T,"name","Full name"),Object(D.a)(T,"password","Password"),Object(D.a)(T,"password_confirmation","Password confirmation"),Object(D.a)(T,"file","File"),Object(D.a)(T,"info","Info"),Object(D.a)(T,"title","Title"),Object(D.a)(T,"the_following_should_not_be_empty","The following field(s) cannot be empty"),Object(D.a)(T,"error","Error"),Object(D.a)(T,"no_result_to_show","No results to show"),Object(D.a)(T,"try_adjusting_your_search","Adjust your search"),Object(D.a)(T,"cas","\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0645\u0631\u06a9\u0632\u06cc"),Object(D.a)(T,"more","More"),Object(D.a)(T,"date_from","From date"),Object(D.a)(T,"date_to","To date"),Object(D.a)(T,"logout","Logout"),Object(D.a)(T,"write_something","Write something ..."),Object(D.a)(T,"provide_following_info","Fill out the following items"),Object(D.a)(T,"cancel","Cancel"),Object(D.a)(T,"submit","Submit"),Object(D.a)(T,"filter","Filter results"),Object(D.a)(T,"search_placeholder","Search ..."),Object(D.a)(T,"contains_words","Contains words"),Object(D.a)(T,"save","Save"),Object(D.a)(T,"filter_and_search","Filter results"),Object(D.a)(T,"tags","Tags"),Object(D.a)(T,"is_private","Private"),Object(D.a)(T,"speakers","Speakers"),Object(D.a)(T,"listeners","Listeners"),Object(D.a)(T,"moderator","Moderator"),Object(D.a)(T,"listener","Listener"),Object(D.a)(T,"presenter","Presenter"),Object(D.a)(T,"speaker","Speaker"),Object(D.a)(T,"calendar","Calendar"),Object(D.a)(T,"enter_room","Enter room"),Object(D.a)(T,"default_is_private_info","User cannot register themselves. They should be added by moderators"),T)},R=s(0),P=A.farsi,L=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.logout=n.logout.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_name:window.localStorage.getItem("event_name"),profile:{name:"",initials:""},userAbilities:null,langBtnActive:!1,eventBtnActive:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),(this.state.lang||null!==this.state.lang)&&(P=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){this.state.lang&&""!==this.state.lang||this.changeLang("farsi","rtl"),this.state.token&&this.state.token.length>10?k("profiles/mine",1,{},this.state.token):this.props.history.push("/login"),document.dir=this.state.dir}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"MyProfile"===t&&this.setState({profile:e[0],userAbilities:e[0].abilities})}},{key:"handleChange",value:function(e){}},{key:"logout",value:function(){this.setState({token:null}),window.localStorage.removeItem("token"),window.location.replace("/")}},{key:"settingsBtn",value:function(){if(this.state.userAbilities&&this.state.userAbilities.administration)return Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"/#/settings",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.settings})]})})}},{key:"eventsBtn",value:function(){if(""===this.state.event_name||null===this.state.event_name)return Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"/#/events",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(R.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(R.jsx)("rect",{x:"8",y:"15",width:"2",height:"2"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.events})]})})}},{key:"languageBtn",value:function(){var e=this;return Object(R.jsx)("div",{className:"navbar-nav flex-row order-md-1",children:Object(R.jsx)("div",{className:"nav-item",children:Object(R.jsxs)("div",{class:"dropdown",children:[Object(R.jsxs)("button",{type:"button",onClick:function(){return e.setState({langBtnActive:!e.state.langBtnActive})},className:this.state.langBtnActive?"btn btn-secondary dropdown-toggle show":"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown",children:[Object(R.jsx)("span",{className:"mx-1",children:"Language"}),Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5 7h7m-2 -2v2a5 8 0 0 1 -5 8m1 -4a7 4 0 0 0 6.7 4"}),Object(R.jsx)("path",{d:"M11 19l4 -9l4 9m-.9 -2h-6.2"})]})]}),Object(R.jsxs)("div",{className:this.state.langBtnActive?"dropdown-menu show":"dropdown-menu",children:[Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("farsi","rtl")},children:"\u0641\u0627\u0631\u0633\u06cc"}),Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("english","ltr")},children:"English"})]})]})})})}},{key:"changeLang",value:function(e,t){window.localStorage.setItem("lang",e),window.localStorage.setItem("dir",t),window.location.reload()}},{key:"eventBadge",value:function(){var e=this;if(this.state.event_name&&""!==this.state.event_name)return Object(R.jsx)("div",{className:"navbar-nav flex-row order-md-2 mx-1",children:Object(R.jsx)("div",{className:"nav-item",children:Object(R.jsxs)("div",{class:"dropdown",children:[Object(R.jsxs)("button",{type:"button",onClick:function(){return e.setState({eventBtnActive:!e.state.eventBtnActive})},className:this.state.eventBtnActive?"btn btn-facebook dropdown-toggle show":"btn btn-facebook dropdown-toggle","data-bs-toggle":"dropdown",children:[Object(R.jsx)("span",{className:"mx-2",children:this.state.event_name}),Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(R.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(R.jsx)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),Object(R.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})]})]}),Object(R.jsx)("div",{className:this.state.eventBtnActive?"dropdown-menu show":"dropdown-menu",children:Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeEvent()},children:P.all_events})})]})})})}},{key:"changeEvent",value:function(){window.localStorage.setItem("event_id",""),window.localStorage.setItem("event_name",""),window.location.reload()}},{key:"avatar",value:function(e){return e.cover?Object(R.jsx)("span",{class:"avatar avatar-sm",style:{backgroundImage:"url("+e.cover+")"}}):Object(R.jsx)("span",{class:"avatar avatar-sm",children:e.initials})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("header",{className:"navbar navbar-expand-md navbar-dark d-print-none",children:Object(R.jsxs)("div",{className:"container-xl",children:[Object(R.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-menu",children:Object(R.jsx)("span",{className:"navbar-toggler-icon"})}),Object(R.jsx)("h1",{className:"navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3",children:Object(R.jsx)("a",{href:"/#/"})}),Object(R.jsx)("div",{className:"navbar-nav flex-row order-md-last mx-2",children:Object(R.jsxs)("div",{className:"nav-item dropdown",children:[Object(R.jsxs)("a",{href:"#",className:"nav-link d-flex lh-1 text-reset p-0","data-bs-toggle":"dropdown","aria-label":"Open user menu",children:[this.avatar(this.state.profile),Object(R.jsxs)("div",{className:"d-xl-block ps-2",children:[Object(R.jsx)("div",{children:this.state.profile.name}),Object(R.jsx)("div",{className:"mt-1 small text-muted"})]})]}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end dropdown-menu-arrow",children:[Object(R.jsx)("a",{href:"#/profiles/"+this.state.profile.id,className:"dropdown-item",children:P.my_profile}),Object(R.jsx)("a",{onClick:function(){return e.logout()},className:"dropdown-item",children:P.logout})]})]})}),this.languageBtn(),this.eventBadge(),Object(R.jsx)("div",{className:"collapse navbar-collapse",id:"navbar-menu",children:Object(R.jsx)("div",{className:"d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center",children:Object(R.jsxs)("ul",{className:"navbar-nav",children:[Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"#/",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),Object(R.jsx)("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),Object(R.jsx)("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.home})]})}),this.eventsBtn(),Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"#/meetings",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"3",y1:"4",x2:"21",y2:"4"}),Object(R.jsx)("path",{d:"M4 4v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-10"}),Object(R.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"20"}),Object(R.jsx)("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),Object(R.jsx)("path",{d:"M8 12l3 -3l2 2l3 -3"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.meetings})]})}),Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"#/exhibitions",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"3.6",y1:"9",x2:"20.4",y2:"9"}),Object(R.jsx)("line",{x1:"3.6",y1:"15",x2:"20.4",y2:"15"}),Object(R.jsx)("path",{d:"M11.5 3a17 17 0 0 0 0 18"}),Object(R.jsx)("path",{d:"M12.5 3a17 17 0 0 1 0 18"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.exhibitions})]})}),Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"#/calendar",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(R.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(R.jsx)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),Object(R.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.my_calendar})]})}),Object(R.jsx)("li",{className:"nav-item",children:Object(R.jsxs)("a",{className:"nav-link",href:"#/profiles",children:[Object(R.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(R.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),Object(R.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),Object(R.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]})}),Object(R.jsx)("span",{className:"nav-link-title",children:P.users})]})}),this.settingsBtn()]})})})]})})}}]),s}(a.a.Component),B=(s(38),s(39)),E=s(31),U=s.n(E),H=s(23),z=s.n(H);U.a.locale("fa",{useGregorianParser:!0});var F=function(e){var t=A[e.lang];function s(e){if(e.cover)return Object(R.jsx)("a",{href:"/#/events/"+e.id,children:Object(R.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function n(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}function i(s){if(console.log("event",s),!s.is_admin)return s.attending?Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsxs)("a",{href:"/#/events/"+s.id,class:"btn btn-facebook ms-auto mx-1",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"2"}),Object(R.jsx)("path",{d:"M12 19c-4 0 -7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7c-.42 .736 -.858 1.414 -1.311 2.033"}),Object(R.jsx)("path",{d:"M15 19l2 2l4 -4"})]}),t.view]}),Object(R.jsxs)("a",{onClick:function(){return e.attend(!1,s.id)},class:"btn btn-outline-secondary",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-1",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M10 10l4 4m0 -4l-4 4"})]}),t.unregister]})]})}):Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsx)("div",{class:"d-flex",children:Object(R.jsxs)("a",{onClick:function(){return e.attend(!0,s.id)},class:"btn bg-dark-lt ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-1",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M9 12l2 2l4 -4"})]}),t.register]})})})}function r(e){return e.attending?Object(R.jsx)("a",{href:"/#/events/"+e.id,children:e.title}):Object(R.jsx)("span",{children:e.title})}function c(t){return"farsi"===e.lang?U()(function(e){var t=new Date(e),s=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"/"+n+"/"+s+" "+t.getHours()+":"+t.getMinutes()}(t)).format("jYYYY/jMM/jDD"):z()(t).format("YYYY/MM/DD")}return Object(R.jsx)(a.a.Fragment,{children:function(){var a=[];return e.events&&e.events.map((function(o){a.push(Object(R.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(R.jsxs)("div",{className:"card",children:[s(o),Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h3",{class:"card-title",children:r(o)}),Object(R.jsx)("p",{style:{textAlign:"justify"},children:o.truncated_info}),Object(R.jsxs)("h4",{children:[t.event_type,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:t[o.event_type]}),Object(R.jsxs)("div",{className:"row",children:[Object(R.jsxs)("div",{className:"col-md-6",children:[Object(R.jsxs)("h4",{children:[t.meeting_start_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:c(o.start_date)})]}),Object(R.jsxs)("div",{className:"col-md-6",children:[Object(R.jsxs)("h4",{children:[t.meeting_end_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:c(o.end_date)})]})]}),Object(R.jsx)("h4",{children:t.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:n(o.tags)})]}),i(o)]})}))})),a}()})},V=function(e){return Object(R.jsx)("div",{className:"col-lg-4",children:Object(R.jsxs)("div",{className:"card",style:{height:"24rem"},children:[Object(R.jsx)("div",{className:"card-header",children:"Pepole to follow"}),Object(R.jsxs)("div",{className:"list-group card-list-group card-body-scrollable card-body-scrollable-shadow",children:[Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"1"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/a4fb1d293bd8d3fd38352418c50fcf1369a7a87d.jpg",className:"rounded",alt:"G\xf3r\u0105 ty",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["G\xf3r\u0105 ty",Object(R.jsx)("div",{className:"text-muted",children:"GOLEC UORKIESTRA, Gromee, Bedoes"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:41"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"2"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/f04bb6fba32e89475d9981007aff21e13745dec2.jpg",className:"rounded",alt:"High Life",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["High Life",Object(R.jsx)("div",{className:"text-muted",children:"Daft Punk"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:21"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"3"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/c3f13b4f7a674abda9aa36fd72fa341e918c0f26.jpg",className:"rounded",alt:"Houdini",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Houdini",Object(R.jsx)("div",{className:"text-muted",children:"Foster The People"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:23"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"4"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/4d4ab714dfca7b9df41d4a02a2c39394ebdeb6b6.jpg",className:"rounded",alt:"Safe And Sound",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Safe And Sound",Object(R.jsx)("div",{className:"text-muted",children:"Capital Cities"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:12"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"5"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/79b2422b467ad20c07576e8f8f5f2f1692ac7142.jpg",className:"rounded",alt:"Partied Out",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Partied Out",Object(R.jsx)("div",{className:"text-muted",children:"Con Bro Chill"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:17"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"6"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/aac97056fc02fe02c7e95f7ff77a07c6e82f7d6e.jpg",className:"rounded",alt:"Runaway (U & I)",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Runaway (U & I)",Object(R.jsx)("div",{className:"text-muted",children:"Galantis"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:47"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"7"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/859337f0eaa49b1ad6ed76719b7c1ae26d6412c8.jpg",className:"rounded",alt:"Light It Up",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Light It Up",Object(R.jsx)("div",{className:"text-muted",children:"Major Lazer, Nyla, Fuse ODG"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"02:46"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"8"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/2e7357491deb8a6796ee8d9181ca9ea1f407bb5f.jpg",className:"rounded",alt:"Hangover",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Hangover",Object(R.jsx)("div",{className:"text-muted",children:"Taio Cruz, Flo Rida"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"04:04"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"9"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/c976bfc96d5e44820e553a16a6097cd02a61fd2f.jpg",className:"rounded",alt:"Shape of You",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Shape of You",Object(R.jsx)("div",{className:"text-muted",children:"Ed Sheeran"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:53"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"10"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/c9a8350feee77e9345eec4155cddc96694803d1a.jpg",className:"rounded",alt:"Alone",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Alone",Object(R.jsx)("div",{className:"text-muted",children:"Alan Walker"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"02:41"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"11"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/fe4ee21d30450829e5b172e806b3c1e14ca1e5f3.jpg",className:"rounded",alt:"Langrennsfar",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Langrennsfar",Object(R.jsx)("div",{className:"text-muted",children:"Ylvis"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"02:43"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(R.jsx)("div",{className:"col-auto text-h3",children:"12"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("img",{src:"./static/tracks/f4e96086f44c4dff1758b1fc1338cd88c1b5ce9c.jpg",className:"rounded",alt:"Skibidi",width:"40",height:"40"})}),Object(R.jsxs)("div",{className:"col",children:["Skibidi",Object(R.jsx)("div",{className:"text-muted",children:"Little Big"})]}),Object(R.jsx)("div",{className:"col-auto text-muted",children:"03:12"}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"#",className:"link-secondary",children:Object(R.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(R.jsx)("span",{className:"switch-icon-a text-muted",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(R.jsx)("span",{className:"switch-icon-b text-red",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(R.jsx)("div",{className:"col-auto lh-1",children:Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(R.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(R.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(R.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})})]})]})})},q=function(e){var t=A[e.lang];return Object(R.jsxs)("div",{className:"card mb-3",style:e.height?{height:e.height}:{height:"auto"},children:[Object(R.jsx)("div",{class:"card-status-top bg-cyan"}),Object(R.jsxs)("div",{className:"card-header ",children:[Object(R.jsx)("h3",{class:"card-title",children:t.participants}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:function(){if(e.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/attendances/create?"+e.attendable_type+"_id="+e.attendable_id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(R.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),Object(R.jsx)("path",{d:"M16 11h6m-3 -3v6"})]})})})}()})]}),Object(R.jsx)("div",{className:"card-body card-body-scrollable card-body-scrollable-shadow",children:Object(R.jsx)("div",{class:"avatar-list avatar-list-stacked",children:function(){var t=[];return e.attendees&&e.attendees.map((function(e){var s;t.push((s=e).cover?Object(R.jsx)("span",{class:"avatar avatar-sm avatar-rounded",style:{backgroundImage:"url("+s.cover+")"}}):Object(R.jsx)("span",{class:"avatar avatar-sm avatar-rounded",children:s.initials}))})),e.attendeesCount&&e.attendeesCount>10&&t.push(Object(R.jsxs)("span",{class:"avatar avatar-sm avatar-rounded",children:[e.attendeesCount-10,"+"]})),t}()})})]})},W=(a.a.Component,s(6)),G=s.n(W),J=s(24),Y=s.n(J),K=s(18),Z=s.n(K),Q=function(e){var t=A[e.lang];return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("a",{href:"#",ref:e.modal,class:"btn btn-white","data-bs-toggle":"modal","data-bs-target":"#modal-danger",style:{display:"none"},children:"Danger modal"}),Object(R.jsx)("div",{class:"modal modal-blur fade",id:"modal-danger",tabindex:"-1",style:{display:"none"},"aria-hidden":"true",children:Object(R.jsx)("div",{class:"modal-dialog modal-sm modal-dialog-centered",role:"document",children:Object(R.jsxs)("div",{class:"modal-content",children:[Object(R.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}),Object(R.jsx)("div",{class:"modal-status bg-danger"}),Object(R.jsxs)("div",{class:"modal-body text-center py-2",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon mb-2 text-danger icon-lg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 9v2m0 4v.01"}),Object(R.jsx)("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"})]}),Object(R.jsx)("h3",{children:t.error}),Object(R.jsx)("div",{class:"text-muted",children:t.the_following_should_not_be_empty})]}),Object(R.jsx)("div",{children:Object(R.jsx)("ul",{class:"list-unstyled px-4",children:function(){var s=[];return e.items&&e.items.map((function(e){s.push(Object(R.jsx)("li",{children:t[e]}))})),s}()})}),Object(R.jsx)("div",{class:"modal-footer",children:Object(R.jsx)("div",{class:"w-100",children:Object(R.jsx)("div",{class:"row",children:Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("a",{href:"#",class:"btn btn-white w-100","data-bs-dismiss":"modal",children:t.cancel})})})})})]})})})]})},X=s(135),$=s(22);function ee(e){var t=this,s=!0,n=0,a=[];if(e.map((function(e){n+=1,t.state[e]||(a.push(e),s=!1)})),e.length===n)return console.log(n,this.state.validationItems),this.setState({validationItems:a}),s||this.modal.current.click(),s}var te=Object($.b)($.a),se=x,ne=A.farsi,ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n,i;return Object(c.a)(this,s),(i=t.call(this,e)).submit=i.submit.bind(Object(j.a)(i)),i.setInstance=i.setInstance.bind(Object(j.a)(i)),i.getList=i.getList.bind(Object(j.a)(i)),i.handleChange=i.handleChange.bind(Object(j.a)(i)),i.modal=a.a.createRef(),i.validateExistence=ee.bind(Object(j.a)(i)),i.state=(n={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),email:null,name:null,password:null,password_confirmation:null,id:null,bio:null,country:null,initials:"NN",options:[],tags:[],validationItems:[],disableSubmit:!0,twitter:null,instagram:null,telegram:null},Object(D.a)(n,"email",null),Object(D.a)(n,"phone",null),Object(D.a)(n,"linkdin",null),n),i}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){ne=A[this.state.lang],this.state.token&&""!==this.state.token&&k("profiles/mine",1,{},this.state.token)}},{key:"getInstance",value:function(){var e=g.getIntance(),t=g.getKlass();e&&"Profile"===t&&(this.setState({id:e.id,name:e.name,bio:e.bio,country:e.country,initials:e.initials,tags:e.tags,twitter:e.twitter,instagram:e.instagram,telegram:e.telegram,email:e.email,phone:e.phone,linkdin:e.linkdin}),console.log(e.tags))}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();if(e&&"MyProfile"===t){var s=e[0];console.log(s),this.setState({id:s.id,name:s.name,bio:s.bio,country:s.country,initials:s.initials,tags:s.tags,twitter:s.twitter,instagram:s.instagram,telegram:s.telegram,email:s.email,phone:s.phone,linkdin:s.linkdin})}}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"handleChange",value:function(e){this.setState(e),Object.keys(e)&&Object.keys(e)[0]&&"password_confirmation"===Object.keys(e)[0]&&(e.password_confirmation!==this.state.password?(this.setState({disableSubmit:!0}),G()("#password_confirmation").addClass(" is-invalid ")):(this.setState({disableSubmit:!1}),G()("#password_confirmation").removeClass(" is-invalid ").addClass(" is-valid "))),Object.keys(e)&&Object.keys(e)[0]&&"password"===Object.keys(e)[0]&&(e.password.length<8?(this.setState({disableSubmit:!0}),G()("#password").addClass(" is-invalid ")):(this.setState({disableSubmit:!1}),G()("#password").removeClass(" is-invalid ").addClass(" is-valid "))),Object.keys(e)&&Object.keys(e)[0]&&"email"===Object.keys(e)[0]&&(this.validateEmail(e.email)?(this.setState({disableSubmit:!1}),G()("#email").removeClass(" is-invalid ").addClass(" is-valid ")):(this.setState({disableSubmit:!0}),G()("#email").addClass(" is-invalid ")))}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"SignUp"===e&&(window.localStorage.setItem("token",t.token),window.location.reload()),"Profile"===e&&this.props.history.push("/")}},{key:"submit",value:function(){this.validateExistence(["email","name","password","password_confirmation"])&&(G()("#submit-button").hide(),G()("#submit-spinner").show(),I("users/sign_up",this.state))}},{key:"submitProfile",value:function(){N("profiles",this.state,this.state.token)}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"checkSignUp",value:function(){return this.state.token&&""!==this.state.token?this.signedUp():this.notSignedUp()}},{key:"notSignedUp",value:function(){var e=this;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("div",{class:"text-center mb-4",children:Object(R.jsx)("a",{href:".",children:Object(R.jsx)("img",{src:"./static/logo.svg",height:"36",alt:""})})}),Object(R.jsxs)("div",{class:"card card-md",children:[Object(R.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[Object(R.jsx)("img",{src:"./static/illustrations/undraw_sign_in_e6hj.svg",height:"128",class:"mb-n2",alt:""}),Object(R.jsx)("h1",{class:"mt-5",children:ne.welcome}),Object(R.jsx)("p",{class:"text-muted",children:ne.welcome_note}),Object(R.jsx)("p",{class:"text-muted",children:ne.login_if_registered}),Object(R.jsx)("a",{href:"/#/login",class:"btn btn-outline-success w-100",children:ne.login})]}),Object(R.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:ne.sign_up_now}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.your_email}),Object(R.jsx)("input",{type:"text",id:"email",name:"email",onInput:function(t){e.handleChange({email:t.target.value})},class:"form-control ps-1",autocomplete:"off"}),Object(R.jsx)("div",{class:"form-hint"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.your_name}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)("input",{type:"text",name:"fullname",onInput:function(t){e.handleChange({name:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(R.jsx)("div",{class:"form-hint"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.choose_password}),Object(R.jsx)("input",{type:"password",id:"password",onInput:function(t){e.handleChange({password:t.target.value})},class:"form-control ps-1 is-valid",autocomplete:"off"}),Object(R.jsx)("div",{class:"form-hint",children:ne.password_rule})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.repeat_password}),Object(R.jsx)("input",{type:"password",id:"password_confirmation",onInput:function(t){e.handleChange({password_confirmation:t.target.value})},class:"form-control ps-1",autocomplete:"off"}),Object(R.jsx)("div",{class:"form-hint"})]})]})]}),Object(R.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(R.jsx)("div",{class:"col-4",children:Object(R.jsx)("div",{class:"progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"25%"},role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"25% Complete"})})})}),Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("div",{class:"btn-list justify-content-end",children:Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},disabled:this.state.disableSubmit,class:"btn btn-primary",children:ne.sign_up_and_continue})})})]})]})}},{key:"signedUp",value:function(){var e,t,s,n,i,r,c=this;if(this.state.id)return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{class:"card card-md",children:[Object(R.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[Object(R.jsx)("span",{class:"avatar avatar-xl mb-2 avatar-rounded",children:this.state.initials}),Object(R.jsx)("p",{class:"text-muted"})]}),Object(R.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:ne.complete_your_profile}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.your_country}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)(X.a,{classes:"form-control ps-1",priorityOptions:["CA","IR","US"],value:this.state.country,onChange:function(e){return c.handleChange({country:e})}})]})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ne.bio,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{class:"form-control",name:"example-textarea-input",rows:"6",placeholder:ne.write_about_yourself,onInput:function(e){c.handleChange({bio:e.target.value})},value:this.state.bio})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ne.tags}),Object(R.jsx)(te,{id:"yytyty",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(e){c.setState({isLoading:!0}),fetch(se+"/tags/search?q="+e).then((function(e){return e.json()})).then((function(e){var t=e.items;c.setState({options:t,isLoading:!1},(function(){return console.log(c.state.options)}))}))},onChange:function(e){return c.tagSelected(e)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})]}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(e={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({email:e.target.value})},id:"title"},Object(D.a)(e,"class","form-control"),Object(D.a)(e,"name","text-input"),Object(D.a)(e,"value",this.state.email),e)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),Object(R.jsx)("polyline",{points:"3 7 12 13 21 7"})]})})})]})}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(t={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({phone:e.target.value})},id:"title"},Object(D.a)(t,"class","form-control"),Object(D.a)(t,"name","text-input"),Object(D.a)(t,"value",this.state.phone),t)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"})]})})})]})}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(s={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({linkdin:e.target.value})},id:"title"},Object(D.a)(s,"class","form-control"),Object(D.a)(s,"name","text-input"),Object(D.a)(s,"value",this.state.linkdin),s)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"8",y1:"11",x2:"8",y2:"16"}),Object(R.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"8.01"}),Object(R.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"11"}),Object(R.jsx)("path",{d:"M16 16v-3a2 2 0 0 0 -4 0"})]})})})]})}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(n={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({twitter:e.target.value})},id:"title"},Object(D.a)(n,"class","form-control"),Object(D.a)(n,"name","text-input"),Object(D.a)(n,"value",this.state.twitter),n)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]})})})]})}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(i={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({telegram:e.target.value})},id:"title"},Object(D.a)(i,"class","form-control"),Object(D.a)(i,"name","text-input"),Object(D.a)(i,"value",this.state.telegram),i)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"})]})})})]})}),Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("input",(r={type:"text",dir:"ltr",class:"form-control",autocomplete:"off",onInput:function(e){c.handleChange({instagram:e.target.value})},id:"title"},Object(D.a)(r,"class","form-control"),Object(D.a)(r,"name","text-input"),Object(D.a)(r,"value",this.state.instagram),r)),Object(R.jsx)("span",{class:"input-group-text",children:Object(R.jsx)("a",{class:"link-secondary",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(R.jsx)("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]})})})]})})]})]}),Object(R.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(R.jsx)("div",{class:"col-4",children:Object(R.jsx)("div",{class:"progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"75%"},role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"25% Complete"})})})}),Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("div",{class:"btn-list justify-content-end",children:Object(R.jsx)("button",{onClick:function(){return c.submitProfile()},class:"btn btn-primary",children:ne.continue})})})]})]})}},{key:"render",value:function(){return Object(R.jsxs)("div",{class:"page page-center",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsx)("div",{class:"container-tight py-4",children:this.checkSignUp()})]})}}]),s}(a.a.Component),ie=(Object($.b)($.a),A.farsi),re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).submit=n.submit.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),email:null,password:null,verify:!1,verification:null,error:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),(this.state.lang||null!==this.state.lang)&&(ie=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){document.dir=this.state.dir}},{key:"handleChange",value:function(e){this.setState(e),Object.keys(e)&&Object.keys(e)[0]&&"verification"===Object.keys(e)[0]&&(e.verification.length<6?(this.setState({disableSubmit:!0}),G()("#verification").addClass(" is-invalid ")):(this.setState({disableSubmit:!1}),G()("#verification").removeClass(" is-invalid ").addClass(" is-valid ")))}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Login"===e&&(this.setState({verify:!1,error:!1}),window.localStorage.setItem("token",t.token),this.props.history.push("events")),"VERIFY"===e&&this.setState({verify:!0}),"Error"===e&&this.setState({error:!0})}},{key:"submit",value:function(){I("users/login",this.state)}},{key:"verifyForm",value:function(){var e=this;if(this.state.verify)return Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ie.verfication_code}),Object(R.jsx)("input",{type:"text",id:"verification",onInput:function(t){e.handleChange({verification:t.target.value})},class:"form-control ps-1 is-invalid",autocomplete:"off"})]})}},{key:"loginError",value:function(){if(this.state.error)return Object(R.jsxs)("div",{class:"alert alert-important alert-danger alert-dismissible",role:"alert",children:[Object(R.jsx)("div",{class:"d-flex",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:ie.email_and_password_does_not_match})})}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"verified",value:function(){if(this.state.verify)return Object(R.jsxs)("div",{class:"alert alert-important alert-danger alert-dismissible",role:"alert",children:[Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:ie.your_account_is_not_verified}),Object(R.jsx)("p",{children:ie.check_your_spam_folder})]})]}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"languageBtn",value:function(){var e=this;return Object(R.jsxs)("div",{class:"dropdown",children:[Object(R.jsxs)("button",{type:"button",onClick:function(){return e.setState({langBtnActive:!e.state.langBtnActive})},className:this.state.langBtnActive?"btn btn-secondary dropdown-toggle show":"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown",children:[Object(R.jsx)("span",{className:"mx-1",children:"Language"}),Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5 7h7m-2 -2v2a5 8 0 0 1 -5 8m1 -4a7 4 0 0 0 6.7 4"}),Object(R.jsx)("path",{d:"M11 19l4 -9l4 9m-.9 -2h-6.2"})]})]}),Object(R.jsxs)("div",{className:this.state.langBtnActive?"dropdown-menu show":"dropdown-menu",children:[Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("farsi","rtl")},children:"\u0641\u0627\u0631\u0633\u06cc"}),Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("english","ltr")},children:"English"})]})]})}},{key:"changeLang",value:function(e,t){window.localStorage.setItem("lang",e),window.localStorage.setItem("dir",t),window.location.reload()}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{class:"page page-center",children:Object(R.jsx)("div",{class:"container-tight py-4",children:Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("div",{class:"text-center mb-4"}),Object(R.jsxs)("div",{class:"card card-md",children:[Object(R.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[this.languageBtn(),Object(R.jsx)("h1",{class:"mt-5",children:ie.welcome}),Object(R.jsx)("p",{class:"text-muted",children:ie.welcome_note}),Object(R.jsx)("p",{class:"text-muted",children:ie.if_not_registered}),Object(R.jsx)("a",{href:"/#/wizard",class:"btn btn-outline-primary w-100",children:ie.sign_up})]}),Object(R.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:ie.login_now}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ie.your_email}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)("input",{type:"text",onInput:function(t){e.handleChange({email:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(R.jsx)("div",{class:"form-hint"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ie.password}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)("input",{type:"password",onInput:function(t){e.handleChange({password:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]})]}),this.verifyForm()]})]}),this.verified(),this.loginError(),Object(R.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(R.jsx)("div",{class:"col-4"}),Object(R.jsx)("div",{class:"col",children:Object(R.jsxs)("div",{class:"btn-list justify-content-end",children:[Object(R.jsx)("a",{href:"https://auth.ut.ac.ir:8443/cas/login?service=https%3A%2F%2Fevent.ut.ac.ir%2Fusers%2Fservice",class:"btn bg-green-lt",children:ie.cas}),Object(R.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary",children:ie.login})]})})]})]})})})}}]),s}(a.a.Component),ce=(Object($.b)($.a),A.farsi),oe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).submit=n.submit.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),email:null,password:null,verify:!1,verification:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),ce=A[this.state.lang]}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){document.dir=this.state.dir}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Login"===e&&(window.localStorage.setItem("token",t.token),this.props.history.push("/#/events")),"VERIFY"===e&&this.setState({verify:!0})}},{key:"submit",value:function(){I("users/login",this.state)}},{key:"verifyForm",value:function(){var e=this;if(this.state.verify)return Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ce.verfication_code}),Object(R.jsx)("input",{type:"text",id:"verification",onInput:function(t){e.handleChange({verification:t.target.value})},class:"form-control ps-1 is-invalid",autocomplete:"off"})]})}},{key:"verified",value:function(){if(this.state.verify)return Object(R.jsxs)("div",{class:"alert alert-important alert-danger alert-dismissible",role:"alert",children:[Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:ce.your_account_is_not_verified}),Object(R.jsx)("p",{children:ce.check_your_spam_folder})]})]}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{class:"page page-center",children:Object(R.jsx)("div",{class:"container-tight py-4",children:Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("div",{class:"text-center mb-4"}),Object(R.jsx)("div",{class:"card card-md",children:Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ce.your_email}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)("input",{type:"text",onInput:function(t){e.handleChange({email:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(R.jsx)("div",{class:"form-hint"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ce.password}),Object(R.jsxs)("div",{class:"input-group input-group-flat",children:[Object(R.jsx)("span",{class:"input-group-text"}),Object(R.jsx)("input",{type:"password",onInput:function(t){e.handleChange({password:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]})]}),this.verifyForm()]})}),this.verified(),Object(R.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(R.jsx)("div",{class:"col-4"}),Object(R.jsx)("div",{class:"col",children:Object(R.jsxs)("div",{class:"btn-list justify-content-end",children:[Object(R.jsx)("a",{href:"https://auth.ut.ac.ir:8443/cas/login?service=https%3A%2F%2Fevent.ut.ac.ir%2Fusers%2Fservice",class:"btn bg-green-lt",children:ce.cas}),Object(R.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary",children:ce.login})]})})]})]})})})}}]),s}(a.a.Component),le=Object($.b)($.a),de=x,he=A.farsi,ue=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.attend=n.attend.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_id:window.localStorage.getItem("event_id"),title:null,events:null,allTags:null,q:"",start_from:z()(),start_to:z()().add(2,"Month"),tags:[],page:1,pages:0,userAbilities:null,isGregorian:!0},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),console.log(">>>>>>>>",this.state.lang),(this.state.lang||null!==this.state.lang)&&(console.log("333333"),he=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){"farsi"===this.state.lang&&this.setState({start_from:Z()(),start_to:Z()().add(2,"jMonth"),isGregorian:!1});var e={start_from:this.state.start_from,start_to:this.state.start_to};k("events/search",this.state.page,e,this.state.token),this.state.token&&this.state.token.length>10?k("profiles/mine",1,{},this.state.token):this.props.history.push("login"),this.state.event_id&&""!==this.state.event_id&&this.props.history.push("meetings")}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Event"===t&&(G()("#search-spinner").hide(),e[0]&&e[0].page?(1==e[0].page?this.setState({events:e}):this.setState({events:this.state.events.concat(e)}),this.setState({page:e[0].page,pages:e[0].pages})):this.setState({events:[],pages:0}),console.log(e)),e&&"Tag"===t&&this.setState({allTags:e}),e&&"MyProfile"===t&&this.setState({profile:e[0],userAbilities:e[0].abilities})}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();if(t&&"Event"===e){var s=this,n=s.state.events;if(n.length>0)for(var a=0;a<n.length;a++)if(n[a].id==t.id){var i=Object.assign({},s.state);i.events[a]=t,s.setState(i,(function(){return console.log(s.state.events)}))}console.log(t)}}},{key:"getInstance",value:function(){}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"noEventCard",value:function(){return Object(R.jsx)("div",{class:"card",children:Object(R.jsxs)("div",{class:"empty",children:[Object(R.jsx)("div",{class:"empty-img",children:Object(R.jsx)("div",{className:"demo-icon-preview",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 9v2m0 4v.01"}),Object(R.jsx)("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"})]})})}),Object(R.jsx)("p",{class:"empty-title",children:he.no_result_to_show}),Object(R.jsx)("p",{class:"empty-subtitle text-muted",children:he.try_adjusting_your_search})]})})}},{key:"checkEvent",value:function(){return this.state.events?Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("div",{class:"col-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{className:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:he.events}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/events/create",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem"})})]})}),Object(R.jsx)(F,{events:this.state.events,col:8,lang:this.state.lang})]}):this.noEventCard()}},{key:"cardMasonry",value:function(){var e=[];return this.state.events&&(0!==this.state.events.length&&e.push(Object(R.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(R.jsx)(F,{events:this.state.events,col:6,attend:this.attend,lang:this.state.lang})})),0===this.state.events.length&&e.push(this.noEventCard())),e}},{key:"attend",value:function(e,t){I("attendances/attend",{attendable_id:t,attendable_type:"Event",flag:e},this.state.token)}},{key:"search",value:function(){G()("#search-spinner").show();var e={q:this.state.q,start_from:this.state.start_from,start_to:this.state.start_to,tags:this.state.tags};k("events/search",this.state.page,e,this.state.token),this.setState({page:1})}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(s){t.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{id:"tag-check-"+s.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:s.id,onChange:function(t){return e.changeTags(t)}}),Object(R.jsx)("span",{class:"form-check-label",children:Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:s.title})})]}))})),t}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(le,{id:"search-tag",multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(de+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"loadMore",value:function(){var e={id:this.state.id,page:this.state.page+1,q:this.state.q,start_from:this.state.start_from,start_to:this.state.start_to,tags:this.state.tags};k("events/search",this.state.page,e,this.state.token)}},{key:"moreBtn",value:function(){var e=this;if(this.state.pages>this.state.page)return Object(R.jsx)("div",{class:"hr-text",children:Object(R.jsxs)("a",{onClick:function(){return e.loadMore()},children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"8",y1:"12",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"16",y1:"12",x2:"12",y2:"16"})]}),he.more]})})}},{key:"createBtn",value:function(){if(this.state.userAbilities&&this.state.userAbilities.create_event)return Object(R.jsx)("div",{class:"btn-list",children:Object(R.jsxs)("a",{href:"/#/events/create",class:"btn btn-primary",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),he.create_event]})})}},{key:"calendarType",value:function(e){return"farsi"===this.state.lang?Z()(e):z()(e)}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"page-header d-print-none",children:Object(R.jsxs)("div",{className:"row align-items-center",children:[Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:he.overview}),Object(R.jsx)("h2",{className:"page-title",children:he.events})]}),Object(R.jsx)("div",{class:"col-auto ms-auto d-print-none",children:this.createBtn()})]})})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col-lg-3",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{className:"card-header",children:Object(R.jsxs)("h4",{class:"card-title",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]}),he.filter_events]})}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:he.contains_words}),Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:he.search_placeholder,onInput:function(t){e.handleChange({q:t.target.value})}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})]}),Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsxs)("label",{class:"form-label ",children:[he.date_from,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:this.state.isGregorian,timePicker:!1,onChange:function(t){e.setState({start_from:t})},value:this.calendarType(this.state.start_from)}),Object(R.jsxs)("label",{class:"form-label mt-2",children:[he.date_to,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:this.state.isGregorian,timePicker:!1,onChange:function(t){e.setState({start_to:t})},value:this.calendarType(this.state.start_to)})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:he.tags}),this.tagInput()]})]}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("a",{onClick:function(){return e.search()},class:"btn btn-primary w-100",children:[Object(R.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),he.filter_and_search,Object(R.jsx)("div",{id:"search-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}})]})})]})}),Object(R.jsxs)("div",{class:"col-lg-9",children:[this.cardMasonry(),this.moreBtn()]})]})})})]})]})})}}]),s}(a.a.Component),je=(s(285),s(286),function(e){var t=A[e.lang];function s(e){var t=new Date(e),s=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"/"+n+"/"+s+" "+t.getHours()+":"+t.getMinutes()}function n(t){if(e.is_admin)return Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"/#/meetings/edit/"+t.id,class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})}function a(e){return e.attending?Object(R.jsx)("a",{href:"/#/meetings/"+e.id,children:e.title}):Object(R.jsx)("span",{children:e.title})}return Object(R.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(R.jsxs)("div",{className:"card mb-3",style:e.height?{height:e.height}:{height:"auto"},children:[Object(R.jsxs)("div",{className:"card-header header-compact",children:[Object(R.jsx)("div",{class:"card-status-top dark-bar"}),Object(R.jsx)("h3",{class:"card-title",children:t.meetings}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:function(){if(e.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/create?event_id="+e.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:function(){var t=[];return e.meetings.map((function(e){t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsxs)("div",{class:"col text-truncate",children:[a(e),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:U()(s(e.start_time)).format("HH:mm jYYYY/jMM/jDD")})]}),n(e)]})}))})),t}()}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{herf:"",class:"btn btn-link"}),Object(R.jsx)("a",{href:"/#/meetings?event_id="+e.id,class:"ms-auto",children:t.all})]})})]})})}),be=function(e){return e.lang&&"farsi"!==e.lang?Object(R.jsx)(J.Calendar,{ranges:e.highlightRanges,value:e.today,isGregorian:!0,inputFormat:"YYYY-M-D",inputJalaaliFormat:"jYYYY-jM-jD",onChange:function(t){return e.dateSelect(t)}}):Object(R.jsx)(J.Calendar,{ranges:e.highlightRanges,value:e.today,isGregorian:!1,inputFormat:"YYYY-M-D",inputJalaaliFormat:"jYYYY-jM-jD",onChange:function(t){return e.dateSelect(t)}})},pe=function(e){var t=A[e.lang];return Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{className:"card-header dark-header",children:[Object(R.jsxs)("h3",{class:"card-title",children:[e.title," "]}),Object(R.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(R.jsx)("li",{class:"nav-item mx-2",style:{marginRight:"10px"},children:e.isPrivateBadge()}),function(){if(e.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/events/edit/"+e.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})}()]})]}),Object(R.jsx)("a",{onClick:function(){return e.toggleCalendar()},children:Object(R.jsxs)("div",{className:"card-header cursor-pointer",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(R.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(R.jsx)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),Object(R.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})]}),t.calendar,Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills"})]})}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h4",{children:t.event_info}),Object(R.jsx)("div",{class:"text-muted mb-3",style:{textAlign:"justify"},children:e.info}),Object(R.jsx)("h4",{children:t.event_type}),Object(R.jsx)("div",{class:"text-muted mb-3",children:t[e.event_type]}),Object(R.jsx)("h4",{children:t.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:e.tagsShow(e.tags)})]}),function(){if(!e.is_admin)return e.attending?Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsx)("div",{class:"d-flex",children:Object(R.jsx)("a",{onClick:function(){return e.attend(!1,e.id)},class:"ms-auto",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M19.823 19.824a2 2 0 0 1 -1.823 1.176h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 1.175 -1.823m3.825 -.177h9a2 2 0 0 1 2 2v9"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"4"}),Object(R.jsx)("path",{d:"M4 11h7m4 0h5"}),Object(R.jsx)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),Object(R.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"18"}),Object(R.jsx)("line",{x1:"3",y1:"3",x2:"21",y2:"21"})]})})})}):Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsx)("div",{class:"d-flex",children:Object(R.jsx)("a",{onClick:function(){return e.attend(!0,e.id)},class:"ms-auto",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(R.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(R.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(R.jsx)("line",{x1:"10",y1:"16",x2:"14",y2:"16"}),Object(R.jsx)("line",{x1:"12",y1:"14",x2:"12",y2:"18"})]})})})})}()]})},ve=s(116),ge=s.n(ve),me=s(43),fe=s.n(me),xe=A.farsi,Oe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).dateSelect=n.dateSelect.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.isPrivateBadge=n.isPrivateBadge.bind(Object(j.a)(n)),n.toggleCalendar=n.toggleCalendar.bind(Object(j.a)(n)),n.attend=n.attend.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,id:null,event_type:null,info:null,meetings:[],flyers:[],quillOne:null,attendees:null,tags:[],is_private:!1,calendar:!1,today:Z()(),highlightRanges:[],meetingLoaded:!1,selectedMeeting:[],is_admin:!1,attending:!1,attendeesCount:0},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_instance",this.getInstance),g.on("deleted_instance",this.getInstance),g.on("set_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.getInstance),g.removeListener("set_instance",this.getInstance)}},{key:"componentDidMount",value:function(){xe=A[this.state.lang],S("events",this.props.match.params.id,this.state.token);var e=new fe.a("#editor-one",{readOnly:!0});this.setState({quillOne:e})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Event"===t&&this.setState({title:s.title,id:s.id,event_type:s.event_type,info:s.info,meetings:s.meetings,flyers:s.flyers,attendees:s.attendees,tags:s.tags,is_private:s.is_private,uploads:s.uploads,is_admin:s.is_admin,attending:s.attending,attendeesCount:s.attendees_count},(function(){e.constructCalendar()})),console.log(s)}},{key:"deleteFlyer",value:function(e){C("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"loadContent",value:function(e){G()("#content").html(),this.state.quillOne.setContents(e)}},{key:"toggleCalendar",value:function(){var e=this;this.setState({calendar:!this.state.calendar},(function(){e.state.calendar?G()("#calendar").show():G()("#calendar").hide()}))}},{key:"editFlyerBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsxs)("div",{class:"col-auto",children:[Object(R.jsx)("a",{href:"/#/flyers/edit/"+e.id,class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(R.jsx)("a",{onClick:function(){return t.deleteFlyer(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(t){t.is_default&&(G()("#content").html(),e.state.quillOne.setContents(t.quill_content))})),this.state.flyers.map((function(s){t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{onClick:function(){return e.loadContent(s.quill_content)},class:"text-body d-block",children:s.title})}),e.editFlyerBtn(s)]})}))})),t}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(R.jsx)("span",{class:"badge bg-red",children:xe.is_private})}},{key:"dateSelect",value:function(e){var t=[];this.state.meetings.map((function(s){Date.parse(s.start_day)<=e._d&&Date.parse(s.end_day)>=e._d&&t.push(s)})),this.setState({selectedMeeting:t})}},{key:"meetingList",value:function(){var e=this,t=[];return this.state.selectedMeeting.map((function(s){t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"/#/meetings/"+s.id,class:"text-body d-block",children:s.title}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:s.info})]}),Object(R.jsx)("div",{class:"col-auto",children:e.tagsShow(s.tags)})]})}))})),t}},{key:"constructCalendar",value:function(){var e=[];this.state.meetings.map((function(t){console.log(t),e.push({color:ge()(),start:t.start_time,end:t.end_time})})),this.setState({highlightRanges:this.state.highlightRanges.concat(e),today:null,meetingLoaded:!0})}},{key:"showCalendar",value:function(){if(this.state.meetings&&this.state.meetings.length>0&&this.state.meetingLoaded)return Object(R.jsxs)("div",{class:"row row-deck",id:"calendar",style:{display:"none"},children:[Object(R.jsx)("div",{class:"col-lg-6",children:Object(R.jsx)("div",{class:"card mb-3",children:Object(R.jsx)("div",{class:"card-body",children:Object(R.jsx)(be,{highlightRanges:this.state.highlightRanges,today:this.state.today,dateSelect:this.dateSelect,lang:this.state.lang})})})}),Object(R.jsx)("div",{class:"col-lg-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:xe.meetings})}),Object(R.jsx)("div",{class:"list-group list-group-flush overflow-auto",style:{maxHeight:"25rem"},children:this.meetingList()})]})})]})}},{key:"deleteUpload",value:function(e){C("uploads",{id:e},this.state.token)}},{key:"editUploadBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsx)("div",{class:"col-auto p-0",children:Object(R.jsx)("a",{onClick:function(){return t.deleteUpload(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(s){"cover"!==s.upload_type&&t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{style:{cursor:"pointer"},href:s.link,target:"_blank",class:"text-body d-block",children:s.title})}),e.editUploadBtn(s)]})}))})),t}},{key:"createFlyerBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/flyers/create?event_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"createUploadBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/uploads/create?event_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"attend",value:function(e,t){I("attendances/attend",{attendable_id:t,attendable_type:"Event",flag:e},this.state.token)}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:xe.overview}),Object(R.jsx)("h2",{className:"page-title",children:xe.event_detail})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row  row-cards",children:[Object(R.jsxs)("div",{class:"col-lg-4",children:[Object(R.jsx)(pe,{title:this.state.title,info:this.state.info,isPrivateBadge:this.isPrivateBadge,tagsShow:this.tagsShow,event_type:this.state.event_type,tags:this.state.tags,toggleCalendar:this.toggleCalendar,id:this.state.id,is_admin:this.state.is_admin,attend:this.attend,attending:this.state.attending,lang:this.state.lang}),Object(R.jsx)(je,{meetings:this.state.meetings,col:"12",id:this.state.id,is_admin:this.state.is_admin,lang:this.state.lang}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-status-top dark-bar"}),Object(R.jsxs)("div",{class:"card-header header-compact",children:[Object(R.jsx)("h3",{class:"card-title",children:xe.pages}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createFlyerBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-status-top dark-bar"}),Object(R.jsxs)("div",{class:"card-header header-compact",children:[Object(R.jsx)("h3",{class:"card-title",children:xe.resources}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createUploadBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]}),Object(R.jsx)(q,{attendees:this.state.attendees,attendable_type:"event",attendeesCount:this.state.attendeesCount,attendable_id:this.state.id,is_admin:this.state.is_admin,lang:this.state.lang})]}),Object(R.jsxs)("div",{class:"col-lg-8",children:[this.showCalendar(),Object(R.jsx)("div",{class:"card",children:Object(R.jsx)("div",{class:"card-body",id:"content",style:{margin:"initial"},children:Object(R.jsx)("div",{id:"editor-one"})})})]})]})})})]})]})})}}]),s}(a.a.Component),we=Object($.b)($.a),ye=x,ke=A.farsi,_e=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).submit=n.submit.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.deleteInstance=n.deleteInstance.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.validateExistence=ee.bind(Object(j.a)(n)),n.state=Object(D.a)({token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,id:null,info:null,event_type:null,start_date:Z()(),end_date:Z()(),is_private:!1,options:[],tags:[],validationItems:[],shortname:null,shortnameOk:!1,editing:!1},"id",null),n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("got_list",this.getList),g.on("deleted_instance",this.deleteInstance),(this.state.lang||null!==this.state.lang)&&(ke=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.deleteInstance),g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){this.props.match.params.id&&S("events",this.props.match.params.id,this.state.token)}},{key:"deleteInstance",value:function(){this.props.history.push("/events/")}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"handleShortname",value:function(e){var t=this;e.length>2&&e.match(/^[a-z0-9]*$/g)?this.setState({shortname:e},(function(){k("events/search_shortname",t.state.page,{shortname:e},t.state.token)})):this.setState({shortname:e,shortnameOk:!1})}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Event"===t&&e&&0==e.length?this.setState({shortnameOk:!0}):this.setState({shortnameOk:!1}),console.log(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Event"===e&&this.props.history.push("/events/"+t.id)}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();s&&"Event"===t&&this.setState({id:s.id,title:s.title,info:s.info,event_type:s.event_type,tags:s.tags,is_private:s.is_private,start_date:s.start_date,end_date:s.end_date,shortname:s.shortname,shortnameOk:!0,editing:!0},(function(){console.log(e.state),e.changeType(e.state.event_type),e.tagSelected(e.state.tags)}))}},{key:"submit",value:function(){var e=this.state;if(this.validateExistence(["title","info"])&&this.state.shortnameOk){G()("#submit-button").hide(),G()("#submit-spinner").show();e={title:this.state.title,id:this.state.id,info:this.state.info,event_type:this.state.event_type,start_date:this.state.start_date,end_date:this.state.end_date,is_private:this.state.is_private,tags:this.state.tags,shortname:this.state.shortname};this.state.editing?N("events",e,this.state.token):I("events",e,this.state.token)}}},{key:"changeType",value:function(e){var t=this;G()(".form-selectgroup-input").each((function(){G()(this).val()!==e||G()(this).checked?G()(this).prop("checked",!1):(G()(this).prop("checked",!0),t.setState({event_type:e}))}))}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(we,{id:"event-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(ye+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"deleteEvent",value:function(){C("events",{id:this.state.id},this.state.token)}},{key:"deleteBtn",value:function(){var e=this;if(this.state.editing)return Object(R.jsxs)("button",{id:"delete-button",onClick:function(){window.confirm(ke.are_you_sure)&&e.deleteEvent()},class:"btn btn-danger ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]}),ke.delete]})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:ke.create_event_page}),Object(R.jsx)("h2",{className:"page-title",children:ke.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:ke.create_event})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ke.event_title}),Object(R.jsx)("input",{type:"text",onInput:function(t){e.handleChange({title:t.target.value})},id:"title",class:"form-control",name:"text-input",placeholder:ke.write_something,value:this.state.title})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ke.event_info,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{onInput:function(t){e.handleChange({info:t.target.value})},class:"form-control",id:"content",name:"example-textarea-input",rows:"6",placeholder:ke.write_something,value:this.state.info})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ke.event_shortname}),Object(R.jsx)("input",{type:"text",onInput:function(t){e.handleShortname(t.target.value)},id:"shortanme",className:this.state.shortnameOk?"form-control is-valid":"form-control is-invalid",name:"text-input",placeholder:ke.write_something,value:this.state.shortname}),Object(R.jsx)("div",{class:"form-hint",children:ke.shortname_note})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:ke.tags}),this.tagShow()]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ke.event_type}),Object(R.jsxs)("div",{class:"form-selectgroup",children:[Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"in_person",class:"form-selectgroup-input",checked:"",onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ke.in_person})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"hybrid",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ke.hybrid})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"online",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ke.online})]})]})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ke.event_start_date,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({start_date:t})},value:Z()(this.state.start_date)})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ke.event_end_date,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({end_date:t})},value:Z()(this.state.end_date)})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:ke.is_private}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(R.jsx)("span",{class:"form-check-label",children:ke.default_is_private_info})]})]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/events",class:"btn btn-link",children:ke.cancel}),this.deleteBtn(),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:ke.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-md-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})]})}}]),s}(a.a.Component),Se=s(27),Ce=s.n(Se),Ie=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.getMultipleList=n.getMultipleList.bind(Object(j.a)(n)),n.search=n.search.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),title:null,attendances:null,users:null,attendable_type:"",attendable_id:0,q:"",selectedUser:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_multiple_list",this.getMultipleList),g.on("set_instance",this.setInstance),g.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_multiple_list",this.getMultipleList),g.removeListener("set_instance",this.setInstance),g.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this,t=Ce.a.parse(this.props.location.search),s="",n=0;Object.keys(t).map((function(e){var a=e.split("_");a[0]&&(s=a[0].charAt(0).toUpperCase()+a[0].slice(1),n=t[e])})),this.setState({attendable_type:s,attendable_id:n},(function(){_("attendances",e.state.page,e.state,e.state.token)}))}},{key:"getMultipleList",value:function(){var e=g.getMutipleList(),t=g.getKlass();console.log(e),e&&"Attendance"===t&&this.setState({users:e.users,attendances:e.attendances})}},{key:"getInstance",value:function(){_("attendances",this.state.page,this.state,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"search",value:function(e){var t=this;e.length>3?this.setState({q:e},(function(){return _("attendances",t.state.page,t.state,t.state.token)})):this.setState({q:""},(function(){return _("attendances",t.state.page,t.state,t.state.token)}))}},{key:"setInstance",value:function(){_("attendances",this.state.page,this.state,this.state.token)}},{key:"addParticipant",value:function(e){""!==this.state.attendable_type&&I("attendances",{attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type,user_id:e},this.state.token)}},{key:"removeParticipant",value:function(e){C("attendances",{id:e,attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type},this.state.token)}},{key:"userItems",value:function(e){var t=this,s=[];return e&&e.map((function(e){s.push(Object(R.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return t.addParticipant(e.user_id)},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar",children:e.initials})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:e.name}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:e.bio})]}),Object(R.jsx)("div",{class:"col-auto"})]})}))})),s}},{key:"attendanceItems",value:function(e){var t=this,s=[];return e&&e.map((function(e){var n=e.profile;s.push(Object(R.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return t.removeParticipant(e.id)},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar",children:n.initials})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:n.name}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:n.bio})]}),Object(R.jsx)("div",{class:"col-auto"})]})}))})),s}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:"add participants"}),Object(R.jsx)("h2",{className:"page-title",children:this.state.title})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:"All Users"})}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"input-icon ",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026",onInput:function(t){e.search(t.target.value)}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})})}),this.userItems(this.state.users)]})}),Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:"Participants"})}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.attendanceItems(this.state.attendances)})]})})]})})})]})]})})}}]),s}(a.a.Component),Ne=s(315);U.a.locale("fa",{useGregorianParser:!0});var Me=A.fa,Te=function(e){function t(){var t=[];return e.attendees&&e.attendees.map((function(e){t.push(Object(R.jsx)("span",{class:"avatar avatar-sm avatar-rounded",children:e.initials}))})),t}function s(e){var t=new Date(e),s=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"/"+n+"/"+s+" "+t.getHours()+":"+t.getMinutes()}function n(t,s){if(e[t])return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("h4",{children:[s,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:e[t]})]})}return Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{className:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:e.title}),Object(R.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(R.jsx)("li",{class:"nav-item",style:{marginRight:"10px"},children:e.isPrivateBadge()}),Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/edit/"+e.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})]})]}),Object(R.jsxs)("div",{class:"card-body",children:[function(){if(e.event)return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("h4",{children:[Me.related_to_event,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:Object(R.jsx)("a",{href:"/#/events/"+e.event.id,children:e.event.title})})]})}(),n("info",Me.meeting_info),Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("h4",{children:[Me.meeting_type,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:Me[e.meeting_type]})]}),n("capacity",Me.meeting_capacity),n("external_link",Me.meeting_external_link),Object(R.jsxs)("h4",{children:[Me.meeting_start_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:U()(s(e.start_time)).format("HH:mm jYYYY/jMM/jDD")}),Object(R.jsxs)("h4",{children:[Me.meeting_end_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:U()(s(e.end_time)).format("HH:mm YYYY/MM/DD")}),Object(R.jsx)("h4",{children:Me.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:e.tagsShow(e.tags)})]}),e.page&&"meeting"==e.page?Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsx)("div",{class:"mt-2",children:Object(R.jsx)("a",{href:"/#/rooms/"+e.room_id+"?rnd="+Object(B.v4)(),onClick:e.forceUpdate,class:"btn btn-primary bg-lime w-100",children:Me.enter_room})})}):e.page&&"detail"==e.page?Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsx)("div",{class:"row align-items-center",children:Object(R.jsx)("div",{class:"col-auto ",children:Object(R.jsx)("div",{class:"avatar-list avatar-list-stacked",children:t()})})})}):void 0]})},De=A.fa,Ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.isPrivateBadge=n.isPrivateBadge.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),title:null,id:null,event_type:null,info:null,meetings:[],tags:[],is_private:!1,allTags:[],start_time:Z()(),end_time:Z()(),selectedTags:[]},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_instance",this.getInstance),g.on("deleted_instance",this.getInstance),g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.getInstance),g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){S("events",this.props.match.params.id,this.state.token),k("events/tags",this.state.page,{id:this.props.match.params.id})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Event"===e&&this.setState({title:t.title,id:t.id,event_type:t.event_type,info:t.info,meetings:t.meetings,tags:t.tags,is_private:t.is_private},(function(){})),console.log(t)}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Tag"===t&&this.setState({allTags:e}),e&&"Meeting"===t&&this.setState({meetings:e}),console.log(e)}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(R.jsx)("span",{class:"badge bg-red-lt",children:De.is_private})}},{key:"changeTags",value:function(e){var t=this,s="#tag-check-"+e.target.value;if(console.log(G()(s),G()(s).is(":checked")),G()(s).is(":checked"))t.setState({selectedTags:t.state.selectedTags.concat(e.target.value)},(function(){console.log(t.state.selectedTags)}));else{var n=Object(Ne.a)(t.state.selectedTags),a=n.indexOf(e.target.value);-1!==a&&(n.splice(a,1),t.setState({selectedTags:n}))}}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(s){t.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{id:"tag-check-"+s.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:s.id,onChange:function(t){return e.changeTags(t)}}),Object(R.jsx)("span",{class:"form-check-label",children:Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:s.title})})]}))})),t}},{key:"checkTags",value:function(){}},{key:"meetingList",value:function(){var e=this,t=[];return this.state.meetings.map((function(s){t.push(Object(R.jsx)(Te,{title:s.title,info:s.info,start_time:s.start_time,end_time:s.end_time,isPrivateBadge:e.isPrivateBadge,tagsShow:e.tagsShow,meeting_type:s.meeting_type,tags:s.tags,id:s.id,event:s.event,page:"detail",attendees:s.attendees}))})),t}},{key:"filterSearch",value:function(){k("events/meetings",this.state.page,{tag_ids:this.state.selectedTags,start_time:this.state.start_time,end_time:this.state.end_time,id:this.props.match.params.id},this.state.token)}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:De.overview}),Object(R.jsx)("h2",{className:"page-title",children:De.event_detail})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row  row-cards",children:[Object(R.jsx)("div",{class:"col-lg-3",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:Object(R.jsx)("a",{href:"/#/events/"+this.state.id,children:this.state.title})})}),Object(R.jsx)("div",{class:"card-header",children:Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsxs)("label",{class:"form-label ",children:[De.meeting_start_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Z()(this.state.start_time)}),Object(R.jsxs)("label",{class:"form-label mt-2",children:[De.meeting_end_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Z()(this.state.end_time)})]})}),Object(R.jsx)("div",{class:"card-header",children:Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"subheader mb-2",children:De.tags}),Object(R.jsx)("div",{children:this.tagCheckbox()})]})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("a",{onClick:function(){return e.filterSearch()},class:"btn btn-primary w-100",children:[Object(R.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),De.filter]})})]})}),Object(R.jsx)("div",{class:"col-lg-9 col-xs-9",children:this.meetingList()})]})})})]})]})})}}]),s}(a.a.Component),Re=A.farsi,Pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),token:null,notFound:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){Re=A[this.state.lang],g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){document.dir=this.state.dir,k("events/shortname_list",1,{shortname:this.props.match.params.shortname},this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"getList",value:function(){var e=g.getKlass(),t=g.getList();"Event"===e&&t&&t[0]?(window.localStorage.setItem("event_id",t[0].id),window.localStorage.setItem("event_name",t[0].shortname),this.props.history.push("/events")):this.setState({notFound:!0}),console.log(t)}},{key:"languageBtn",value:function(){var e=this;return Object(R.jsxs)("div",{class:"dropdown",children:[Object(R.jsxs)("button",{type:"button",onClick:function(){return e.setState({langBtnActive:!e.state.langBtnActive})},className:this.state.langBtnActive?"btn btn-secondary dropdown-toggle show":"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown",children:[Object(R.jsx)("span",{className:"mx-1",children:"Language"}),Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5 7h7m-2 -2v2a5 8 0 0 1 -5 8m1 -4a7 4 0 0 0 6.7 4"}),Object(R.jsx)("path",{d:"M11 19l4 -9l4 9m-.9 -2h-6.2"})]})]}),Object(R.jsxs)("div",{className:this.state.langBtnActive?"dropdown-menu show":"dropdown-menu",children:[Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("farsi","rtl")},children:"\u0641\u0627\u0631\u0633\u06cc"}),Object(R.jsx)("a",{class:"dropdown-item",onClick:function(){return e.changeLang("english","ltr")},children:"English"})]})]})}},{key:"changeLang",value:function(e,t){window.localStorage.setItem("lang",e),window.localStorage.setItem("dir",t),window.location.reload()}},{key:"notFoundNotice",value:function(){this.state.notFound&&(this.languageBtn(),Re.event_not_found_by_name,Re.not_found_note,Re.take_me_home)}},{key:"render",value:function(){return Object(R.jsx)("div",{class:"flex-fill d-flex align-items-center justify-content-center",children:Object(R.jsx)("div",{class:"container-tight py-6",children:this.notFoundNotice()})})}}]),s}(a.a.Component);U.a.locale("fa",{useGregorianParser:!0});var Le=function(e){var t=A[e.lang];function s(e){if(e.cover)return Object(R.jsx)("a",{href:"#/meetings/"+e.id,children:Object(R.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function n(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}function i(s){if(!s.is_admin)return s.attending?Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsxs)("a",{href:"#/meetings/"+s.id,class:"btn btn-facebook ms-auto mx-1",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"2"}),Object(R.jsx)("path",{d:"M12 19c-4 0 -7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7c-.42 .736 -.858 1.414 -1.311 2.033"}),Object(R.jsx)("path",{d:"M15 19l2 2l4 -4"})]}),t.view]}),Object(R.jsxs)("a",{onClick:function(){return e.attend(!1,s.id)},class:"btn btn-outline-secondary ",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-1",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M10 10l4 4m0 -4l-4 4"})]}),t.unregister]})]})}):Object(R.jsx)("div",{className:"card-footer",style:{display:"initial"},children:Object(R.jsx)("div",{class:"d-flex",children:Object(R.jsxs)("a",{onClick:function(){return e.attend(!0,s.id)},class:"btn bg-dark-lt ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-1",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M9 12l2 2l4 -4"})]}),t.register]})})})}function r(e){return e.attending?Object(R.jsx)("a",{href:"#/meetings/"+e.id,children:e.title}):Object(R.jsx)("span",{children:e.title})}function c(t){return"farsi"===e.lang?U()(function(e){var t=new Date(e),s=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"/"+n+"/"+s+" "+t.getHours()+":"+t.getMinutes()}(t)).format("HH:mm jYYYY/jMM/jDD"):z()(t).format("YYYY/MM/DD HH:mm")}return Object(R.jsx)(a.a.Fragment,{children:function(){var a=[];return e.meetings&&e.meetings.map((function(o){a.push(Object(R.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(R.jsxs)("div",{className:"card mb-2",children:[s(o),Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h3",{class:"card-title",children:r(o)}),Object(R.jsx)("p",{style:{textAlign:"justify"},children:o.truncated_info}),Object(R.jsxs)("div",{class:"row",children:[Object(R.jsxs)("div",{class:"col-md-6",children:[Object(R.jsxs)("h4",{children:[t.meeting_start_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:c(o.start_time)})]}),Object(R.jsxs)("div",{class:"col-md-6",children:[Object(R.jsxs)("h4",{children:[t.meeting_end_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:c(o.end_time)})]})]}),Object(R.jsx)("h4",{children:t.tags}),Object(R.jsx)("div",{class:"text-muted",children:n(o.tags)})]}),i(o)]})}))})),a}()})},Be=s(78),Ee=s.n(Be),Ue=s(101),He=Object($.b)($.a),ze=x,Fe=A.farsi,Ve=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.attend=n.attend.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_id:window.localStorage.getItem("event_id"),title:null,meetings:null,events:null,q:"",start_from:z()(),start_to:z()().add(2,"Month"),tags:[],page:1,pages:0,registration_status:"all",searched:!1,isGregorian:!0,userAbilities:null,insideEvent:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),this.state.lang&&(Fe=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this;"farsi"===this.state.lang&&this.setState({start_from:Z()(),start_to:Z()().add(2,"jMonth"),isGregorian:!1});var t=window.localStorage.getItem("event_id");""!==t&&null!==t&&this.setState({insideEvent:!0});window.location.href.split("#")[0].split("/");var s=Ce.a.parse(this.props.location.search);if(s.event_id){this.setState({event_id:s.event_id});var n={registration_status:this.state.registration_status,event_id:s.event_id,start_from:this.state.start_from,start_to:this.state.start_to};this.setState({page:1,searched:!0},(function(){k("meetings/search",e.state.page,n,e.state.token)}))}else{n={registration_status:this.state.registration_status,event_id:this.state.event_id,start_from:this.state.start_from,start_to:this.state.start_to};this.setState({page:1,searched:!0},(function(){k("meetings/search",e.state.page,n,e.state.token)}))}s.registration_status&&this.setState({registration_status:s.registration_status}),this.state.token&&this.state.token.length>10?k("profiles/mine",1,{},this.state.token):this.props.history.push("login"),k("events/related",this.state.page,{},this.state.token)}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Meeting"===t&&(G()("#search-spinner").hide(),e[0]&&e[0].page?(1==e[0].page?this.setState({meetings:e}):this.setState({meetings:this.state.meetings.concat(e)}),this.setState({page:e[0].page,pages:e[0].pages})):this.setState({meetings:[],pages:0}),console.log(e)),e&&"Event"===t&&this.setState({events:e}),e&&"MyProfile"===t&&this.setState({profile:e[0],userAbilities:e[0].abilities})}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();if(t&&"Meeting"===e){var s=this,n=s.state.meetings;if(n.length>0)for(var a=0;a<n.length;a++)if(n[a].id==t.id){var i=Object.assign({},s.state);i.meetings[a]=t,s.setState(i,(function(){return console.log(s.state.meetings)}))}}}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();t&&"Profile"===e&&this.setState({profile:t,userAbilities:t.abilities})}},{key:"noMeetingCard",value:function(){return Object(R.jsx)("div",{class:"card",children:Object(R.jsxs)("div",{class:"empty",children:[Object(R.jsx)("div",{class:"empty-img",children:Object(R.jsx)("div",{className:"demo-icon-preview",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 9v2m0 4v.01"}),Object(R.jsx)("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"})]})})}),Object(R.jsx)("p",{class:"empty-title",children:Fe.no_result_to_show}),Object(R.jsx)("p",{class:"empty-subtitle text-muted",children:Fe.try_adjusting_your_search})]})})}},{key:"checkMeeting",value:function(){return this.state.meetings?Object(R.jsx)(Le,{meetings:this.state.meetings,col:12}):this.noMeetingCard()}},{key:"cardMasonry",value:function(){var e=[];return this.state.meetings&&(0!==this.state.meetings.length&&e.push(Object(R.jsx)("div",{className:"row",children:Object(R.jsx)(Le,{meetings:this.state.meetings,col:6,attend:this.attend,lang:this.state.lang})})),0===this.state.meetings.length&&e.push(this.noMeetingCard())),e}},{key:"search",value:function(){var e=this;G()("#search-spinner").show();var t={q:this.state.q,registration_status:this.state.registration_status,event_id:this.state.event_id,start_from:this.state.start_from,start_to:this.state.start_to,tags:this.state.tags};this.setState({page:1,searched:!0},(function(){k("meetings/search",e.state.page,t,e.state.token)}))}},{key:"attend",value:function(e,t){I("attendances/attend",{attendable_id:t,attendable_type:"Meeting",flag:e},this.state.token)}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(s){t.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{id:"tag-check-"+s.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:s.id,onChange:function(t){return e.changeTags(t)}}),Object(R.jsx)("span",{class:"form-check-label",children:Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:s.title})})]}))})),t}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(He,{id:"search-tag",multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(ze+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"loadMore",value:function(){var e={page:this.state.page+1,q:this.state.q,event_id:this.state.event_id,start_from:this.state.start_from,start_to:this.state.start_to,tags:this.state.tags};k("meetings/search",this.state.page+1,e,this.state.token)}},{key:"eventOptions",value:function(){var e=this,t=[];if(this.state.events){var s=[Object(R.jsx)("option",{value:""})];this.state.events.map((function(t){t.id==e.state.event_id?s.push(Object(R.jsx)("option",{value:t.id,selected:!0,children:t.title})):s.push(Object(R.jsx)("option",{value:t.id,children:t.title}))})),t.push(Object(R.jsx)("select",{class:"form-select",onChange:function(t){return e.handleChange({event_id:t.target.value})},children:s}))}return t}},{key:"moreBtn",value:function(){var e=this;if(this.state.pages>this.state.page)return Object(R.jsx)("div",{class:"hr-text",children:Object(R.jsxs)("a",{onClick:function(){return e.loadMore()},children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"8",y1:"12",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"16",y1:"12",x2:"12",y2:"16"})]}),Fe.more]})})}},{key:"changeType",value:function(e){this.setState({registration_status:e})}},{key:"calendarType",value:function(){var e=this;return"farsi"===this.state.lang?Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("label",{class:"form-label ",children:[Fe.date_from,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:this.state.isGregorian,onChange:function(t){e.setState({start_from:t})},value:this.state.start_from}),Object(R.jsxs)("label",{class:"form-label mt-2",children:[Fe.date_to,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:this.state.isGregorian,onChange:function(t){e.setState({start_to:t})},value:this.state.start_to})]}):Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("label",{class:"form-label ",children:[Fe.date_from,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Ee.a,{onChange:function(t){e.setState({start_from:t})},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"yyyy/MM/dd HH:mm",selected:z()(this.state.start_from).toDate(),className:"datepicker-input"}),Object(R.jsxs)("label",{class:"form-label mt-2",children:[Fe.date_to,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Ee.a,{onChange:function(t){e.setState({start_to:t})},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"yyyy/MM/dd HH:mm",selected:z()(this.state.start_to).toDate(),className:"datepicker-input"})]})}},{key:"createBtn",value:function(){if(this.state.userAbilities&&this.state.userAbilities.create_event)return Object(R.jsx)("div",{class:"btn-list",children:Object(R.jsxs)("a",{href:"/#/meetings/create",class:"btn btn-primary",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Fe.create_meeting]})})}},{key:"eventSelect",value:function(){if(!this.state.insideEvent)return Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:Fe.event}),this.eventOptions()]})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"page-header d-print-none",children:Object(R.jsxs)("div",{className:"row align-items-center",children:[Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Fe.overview}),Object(R.jsx)("h2",{className:"page-title",children:Fe.meetings})]}),Object(R.jsx)("div",{class:"col-auto ms-auto d-print-none",children:this.createBtn()})]})})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col-lg-3",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{className:"card-header",children:Object(R.jsxs)("h4",{class:"card-title",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]}),Fe.filter_meetings]})}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:Fe.contains_words}),Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:Fe.search_placeholder,onInput:function(t){e.handleChange({q:t.target.value})}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})]}),this.eventSelect(),Object(R.jsx)("div",{class:"mb-3",style:{width:"100%"},children:this.calendarType()}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:Fe.registeration}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("label",{class:"form-check ",children:[Object(R.jsx)("input",{class:"form-check-input",type:"radio",value:"all",checked:"all"===this.state.registration_status,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-check-label",children:Fe.all})]}),Object(R.jsxs)("label",{class:"form-check ",children:[Object(R.jsx)("input",{class:"form-check-input",type:"radio",value:"registered",checked:"registered"===this.state.registration_status,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-check-label",children:Fe.registered})]}),Object(R.jsxs)("label",{class:"form-check ",children:[Object(R.jsx)("input",{class:"form-check-input",type:"radio",value:"not_registered",checked:"not_registered"===this.state.registration_status,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-check-label",children:Fe.not_registered})]})]})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:Fe.tags}),this.tagInput()]})]}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("a",{onClick:function(){return e.search()},class:"btn btn-primary w-100",children:[Object(R.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),Fe.filter_and_search,Object(R.jsx)("div",{id:"search-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}})]})})]})}),Object(R.jsxs)("div",{class:"col-lg-9",children:[this.cardMasonry(),this.moreBtn()]})]})})})]})]})})}}]),s}(a.a.Component),qe=s(311),We=s.n(qe).a.connect(O,{transports:["websocket"],secure:!0,reconnect:!0,rejectUnauthorized:!1}),Ge=A.farsi,Je=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).state={lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),quillOne:null,cover:null,qillLoaded:!1},n}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e){e.quill_content!==this.props.quill_content&&(this.state.quillOne.setContents(this.props.quill_content),this.state.quillTwo.setContents(this.props.quill_content),this.setState({qillLoaded:!0})),e.cover!==this.props.cover&&this.setState({cover:this.props.cover})}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){Ge=A[this.state.lang];var e=new fe.a("#editor-one",{readOnly:!0}),t=new fe.a("#editor-two",{readOnly:!0});this.setState({quillOne:e,quillTwo:t})}},{key:"cardCover",value:function(){if(this.state.cover)return Object(R.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+this.state.cover+")"}})}},{key:"maximizeBtn",value:function(){if(this.state.qillLoaded&&G()(".ql-video").length)return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsxs)("a",{href:"#",class:"btn btn-white","data-bs-toggle":"modal","data-bs-target":"#modal-large",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("polyline",{points:"16 4 20 4 20 8"}),Object(R.jsx)("line",{x1:"14",y1:"10",x2:"20",y2:"4"}),Object(R.jsx)("polyline",{points:"8 20 4 20 4 16"}),Object(R.jsx)("line",{x1:"4",y1:"20",x2:"10",y2:"14"}),Object(R.jsx)("polyline",{points:"16 20 20 20 20 16"}),Object(R.jsx)("line",{x1:"14",y1:"14",x2:"20",y2:"20"}),Object(R.jsx)("polyline",{points:"8 4 4 4 4 8"}),Object(R.jsx)("line",{x1:"4",y1:"4",x2:"10",y2:"10"})]}),Ge.maximize]})})}},{key:"render",value:function(){return Object(R.jsxs)("div",{class:"col-lg-8",children:[Object(R.jsx)("div",{class:"modal modal-blur fade",id:"modal-large",tabindex:"-1","aria-hidden":"true",style:{display:"none"},children:Object(R.jsx)("div",{class:"modal-dialog modal-lg modal-dialog-centered",role:"document",style:{maxWidth:"95%"},children:Object(R.jsxs)("div",{class:"modal-content",children:[Object(R.jsxs)("div",{class:"modal-header",children:[Object(R.jsx)("h5",{class:"modal-title",children:Ge.maximize}),Object(R.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(R.jsx)("div",{class:"modal-body p-0",children:Object(R.jsx)("div",{id:"editor-two"})}),Object(R.jsx)("div",{class:"modal-footer",children:Object(R.jsx)("button",{type:"button",class:"btn me-auto","data-bs-dismiss":"modal",children:Ge.close})})]})})}),Object(R.jsxs)("div",{class:"card",children:[this.cardCover(),Object(R.jsxs)("div",{class:"card-body",id:"content",children:[this.maximizeBtn(),Object(R.jsx)("div",{id:"editor-one"})]})]})]})}}]),s}(n.Component),Ye=function(e){var t=A[e.lang];function s(t){var s=[],n=0,a=t.answer_content,i=t.id;return a&&(console.log(t.outcomes),a.map((function(a){s.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",disabled:!!e.disabled,checked:!!(t.outcomes&&t.outcomes.length>0&&t.outcomes.includes(n)),type:"checkbox",value:n,onClick:function(t){return e.postPolling(i,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label",children:[a," ",c(t,n)]})]})),n+=1}))),s}function n(t){var s=[],n=t.answer_content,a=t.id,i=0;return n&&n.map((function(n){s.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",disabled:!!e.disabled,checked:t.outcome===i,name:"radio"+t.id,type:"radio",value:i,onClick:function(t){return e.postPolling(a,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label",children:[n," ",c(t,i)]})]})),i+=1})),s}function i(t){return e.star>=t?Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})]}):Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon muted",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})]})}function r(t){return Object(R.jsxs)("div",{children:[Object(R.jsx)("a",{onClick:function(){e.postPolling(t.id,1),e.handleChange({star:1})},children:i(1)}),Object(R.jsx)("a",{onClick:function(){e.postPolling(t.id,2),e.handleChange({star:2})},children:i(2)}),Object(R.jsx)("a",{onClick:function(){e.postPolling(t.id,3),e.handleChange({star:3})},children:i(3)}),Object(R.jsx)("a",{onClick:function(){e.postPolling(t.id,4),e.handleChange({star:4})},children:i(4)}),Object(R.jsx)("a",{onClick:function(){e.postPolling(t.id,5),e.handleChange({star:5})},children:i(5)}),Object(R.jsx)("span",{className:"fs-11 mr-2",children:"()"})]})}function c(e,t){if(e.stats)return"("+e.stats[t]+")"}return Object(R.jsxs)(a.a.Fragment,{children:[function(){var a=[];if(e.poll){var i=e.poll;"star"===i.answer_type&&a.push(Object(R.jsxs)("div",{class:"mb-2",children:[Object(R.jsx)("div",{class:"form-label",children:i.content}),Object(R.jsx)("div",{children:r(i)})]})),"single_select"===i.answer_type&&a.push(Object(R.jsxs)("div",{class:"mb-2",children:[Object(R.jsx)("div",{class:"form-label",children:i.content}),Object(R.jsx)("div",{children:n(i)})]})),"binary"===i.answer_type&&a.push(Object(R.jsxs)("div",{class:"mb-2",children:[Object(R.jsx)("div",{class:"form-label",children:i.content}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",style:{marginTop:"4px"},disabled:!!e.disabled,checked:1===i.outcome,name:"binary-"+i.id,type:"radio",value:"1",onClick:function(t){return e.postPolling(i.id,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label pb-1",children:[Object(R.jsx)("span",{class:"badge bg-green-lt",children:t.yes})," ",c(i,1)]})]}),Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",style:{marginTop:"4px"},disabled:!!e.disabled,checked:-1===i.outcome,name:"binary-"+i.id,type:"radio",value:"-1",onClick:function(t){return e.postPolling(i.id,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label pb-1",children:[Object(R.jsx)("span",{class:"badge bg-red-lt",children:t.no})," ",c(i,-1)]})]})]})]})),"trinary"===i.answer_type&&a.push(Object(R.jsxs)("div",{class:"mb-2",children:[Object(R.jsx)("div",{class:"form-label",children:i.content}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",style:{marginTop:"4px"},disabled:!!e.disabled,checked:1===i.outcome,name:"trinary-"+i.id,type:"radio",value:"1",onClick:function(t){return e.postPolling(i.id,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label pb-1",children:[Object(R.jsx)("span",{class:"badge bg-green-lt",children:t.yes})," ",c(i,1)]})]}),Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",style:{marginTop:"4px"},disabled:!!e.disabled,checked:0===i.outcome,name:"trinary-"+i.id,type:"radio",value:"0",onClick:function(t){return e.postPolling(i.id,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label pb-1",children:[Object(R.jsx)("span",{class:"badge bg-muted-lt",children:t.abstention})," ",c(i,0)]})]}),Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{class:"form-check-input",style:{marginTop:"4px"},disabled:!!e.disabled,checked:-1===i.outcome,name:"trinary-"+i.id,type:"radio",value:"-1",onClick:function(t){return e.postPolling(i.id,t.target.value)}}),Object(R.jsxs)("span",{class:"form-check-label pb-1",children:[Object(R.jsx)("span",{class:"badge bg-red-lt",children:t.no})," ",c(i,-1)]})]})]})]})),"multiple_select"===i.answer_type&&a.push(Object(R.jsxs)("div",{class:"mb-2",children:[Object(R.jsx)("div",{class:"form-label",children:i.content}),Object(R.jsx)("div",{children:s(i)})]}))}return a}(),Object(R.jsx)("div",{class:"hr-text hr-text-left m-1 mb-2"})]})},Ke=function(e){var t=A[e.lang];return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("a",{href:"#",ref:e.modal,class:"btn btn-white","data-bs-toggle":"modal","data-bs-target":"#modal-danger",style:{display:"none"}}),Object(R.jsx)("div",{class:"modal modal-blur fade",id:"modal-danger",tabindex:"-1",style:{display:"none"},"aria-hidden":"true",children:Object(R.jsx)("div",{class:"modal-dialog modal-sm modal-dialog-centered",role:"document",children:Object(R.jsxs)("div",{class:"modal-content",children:[Object(R.jsxs)("div",{class:"modal-body",children:[Object(R.jsx)("div",{class:"modal-title",children:t.you_are_not_registered}),Object(R.jsx)("div",{children:t.not_registered_note})]}),Object(R.jsxs)("div",{class:"modal-footer",children:[Object(R.jsx)("a",{href:"/",class:"btn btn-link link-secondary me-auto",children:t.cancel}),Object(R.jsxs)("a",{onClick:function(){return e.attend(!0,e.id)},class:"btn bg-dark-lt ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-1",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M9 12l2 2l4 -4"})]}),t.register]})]})]})})})]})};function Ze(e){13===e.keyCode&&e.ctrlKey&&this.send()}function Qe(e){var t=this,s=this.state.chats.filter((function(t){return t.uuid===e.uuid}));s&&0===s.length&&(this.state.chats&&this.state.chats.length>100?this.setState({chats:this.state.chats.slice(1).concat(e)}):this.setState({chats:this.state.chats.concat(e)},(function(){t.scrollChat()})))}function Xe(){G()("#chat-box").stop().animate({scrollTop:G()("#chat-box")[0].scrollHeight})}function $e(){var e=[];return this.state.chats.map((function(t){e.push(Object(R.jsx)("div",{class:"list-group-item p-tight",id:"chat-"+t.uuid,children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar avatar-sm",children:t.initials})})}),Object(R.jsxs)("div",{class:"col text-sm",children:[Object(R.jsx)("span",{class:"chat-title",children:t.name}),Object(R.jsx)("div",{class:"form-hint mt-n1",children:t.content})]})]})}))})),e}function et(e,t){var s=this;Date.now()-this.state.lastTime>100&&this.setState({lastTime:Date.now()},(function(){s.wsSend({type:t,c:e})}))}function tt(){console.log(this.state.item),this.state.item&&(this.throttle(this.state.item,"chat"),this.appendChat(this.state.item),G()("#chat-form").val(""))}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.userUUID;e.room=this.state.roomId,e.sender=t,We.emit("message",e)}function nt(e){this.setState({handRaised:this.state.handRaised.concat(e.uuid)})}function at(e){this.setState({handRaised:this.state.handRaised.filter((function(t){return t!==e.uuid}))})}function it(e){return!!this.state.handRaised.includes(e)}U.a.locale("fa",{useGregorianParser:!0});var rt=A.farsi,ct=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).flyers=n.flyers.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.postPolling=n.postPolling.bind(Object(j.a)(n)),n.socketHandle=n.socketHandle.bind(Object(j.a)(n)),n.appendChat=Qe.bind(Object(j.a)(n)),n.chatItems=$e.bind(Object(j.a)(n)),n.throttle=et.bind(Object(j.a)(n)),n.send=tt.bind(Object(j.a)(n)),n.wsSend=st.bind(Object(j.a)(n)),n.keydownHandler=Ze.bind(Object(j.a)(n)),n.scrollChat=Xe.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.attend=n.attend.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,start_time:null,end_time:null,info:null,capacity:null,meeting_type:null,event:{title:"",id:0},flyers:[],quillOne:null,attendees:null,tags:[],is_private:!1,room_id:null,roomId:null,cover:null,is_admin:!1,room:null,name:null,fullname:null,initials:null,userUUID:null,userCounter:0,fullAlert:!1,timelyAlert:!1,attending:!1,chats:[],lastTime:Date.now(),content:null,item:null,quill_content:null,polls:null,star:null,is_presenter:!1,is_moderator:!1,is_speaker:!1,activeTab:"details",attendeesCount:0},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("deleted_instance",this.getInstance),g.on("got_list",this.getList),document.addEventListener("keydown",this.keydownHandler)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("got_instance",this.getInstance),g.removeListener("set_instance",this.setInstance),g.removeListener("deleted_instance",this.getInstance),document.removeEventListener("keydown",this.keydownHandler),this.state.roomId&&this.state.userUUID&&We.emit("leaveRoomView",{room:this.state.roomId.toString(),uuid:this.state.userUUID})}},{key:"componentDidMount",value:function(){rt=A[this.state.lang];var e=this;S("meetings",this.props.match.params.id,this.state.token),We.on("connect",(function(){e.state.roomId&&We.emit("room",{room:e.state.roomId.toString(),uuid:e.state.userUUID})})),We.on("message",(function(t){t.sender!==e.state.userUUID&&e.socketHandle(t)})),k("polls",this.state.page,{pollable_type:"Meeting",pollable_id:this.props.match.params.id},this.state.token)}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Poll"===t&&this.setState({polls:e}),console.log(e)}},{key:"socketHandle",value:function(e){var t=e;switch(t.type){case"chat":this.appendChat(t.c);break;case"userCounter":console.log(t.c),this.setState({userCounter:t.c})}}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Meeting"===t&&this.setState({title:s.title,id:s.id,start_time:s.start_time,end_time:s.end_time,info:s.info,capacity:s.capacity,meeting_type:s.meeting_type,event:s.event,flyers:s.flyers,attendees:s.attendees,tags:s.tags,is_private:s.is_private,room_id:s.room_id,roomId:s.room_uuid,cover:s.cover,uploads:s.uploads,is_admin:s.is_admin,is_presenter:s.is_presenter,is_moderator:s.is_moderator,is_speaker:s.is_speaker,bigblue:s.bigblue,internal:s.internal,sata:s.sata,attending:s.attending,attendeesCount:s.attendees_count},(function(){!e.state.attending&&e.state.is_private&&window.location.replace("/#/meetings"),e.state.attending||e.state.is_private||e.modal.current.click(),e.state.token&&e.state.token.length>10&&I("users/validate_token",{},e.state.token),e.state.flyers&&e.state.flyers.map((function(t){t.is_default&&e.loadContent(t.quill_content)}))})),"MeetingUrl"===t&&s.url&&(console.log(s),G()("#bigblue-spinner").hide(),s.full&&!this.state.is_admin&&this.setState({fullAlert:!0}),s.timely||this.state.is_admin||this.setState({timelyAlert:!0}),this.state.is_admin&&(Ue.isFirefox||Ue.isMobile?window.location.replace(s.url):window.open(s.url,"_blank")),s.full||this.state.is_admin||!s.timely||(Ue.isFirefox||Ue.isMobile?window.location.replace(s.url):window.open(s.url,"_blank")))}},{key:"setInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Validate"===t&&(console.log("validated"),this.setState({name:s.name,fullname:s.name,initials:s.initials,userUUID:s.uuid},(function(){e.connectSocketRoom()}))),"Polling"===t&&this.setState({polls:s.polls}),"Meeting"===t&&window.location.reload(),console.log(s)}},{key:"sideBlock",value:function(e,t){if(this.state[e])return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("h4",{children:[t,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.state[e]})]})}},{key:"deleteFlyer",value:function(e){C("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"editFlyerBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsxs)("div",{class:"col-auto p-0",children:[Object(R.jsx)("a",{href:"/#/flyers/edit/"+e.id,class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(R.jsx)("a",{onClick:function(){return t.deleteFlyer(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(s){t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return e.loadContent(s.quill_content)},class:"text-body d-block",children:s.title})}),e.editFlyerBtn(s)]})}))})),t}},{key:"loadContent",value:function(e){this.setState({quill_content:e})}},{key:"formatGregorianDate",value:function(e){var t=new Date(e),s=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"/"+n+"/"+s+" "+t.getHours()+":"+t.getMinutes()}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(R.jsx)("span",{class:"badge bg-red",children:rt.is_private})}},{key:"cardCover",value:function(){if(this.state.cover)return Object(R.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+this.state.cover+")"}})}},{key:"deleteUpload",value:function(e){C("uploads",{id:e},this.state.token)}},{key:"editUploadBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsx)("div",{class:"col-auto p-0",children:Object(R.jsx)("a",{onClick:function(){return t.deleteUpload(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(s){"cover"!==s.upload_type&&t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{style:{cursor:"pointer"},href:s.link,target:"_blank",class:"text-body d-block",children:s.title})}),e.editUploadBtn(s)]})}))})),t}},{key:"createFlyerBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/flyers/create?meeting_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"createUploadBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/uploads/create?meeting_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"editMeetingBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/edit/"+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})}},{key:"connectSocketRoom",value:function(){this.state.userUUID&&this.state.roomId&&(We.emit("room",{room:this.state.roomId.toString(),uuid:this.state.userUUID}),We.emit("setRoomView",{room:this.state.roomId.toString(),uuid:this.state.userUUID}))}},{key:"createBigBlue",value:function(){G()("#bigblue-spinner").show(),S("meetings/join_bigblue",this.props.match.params.id,this.state.token)}},{key:"roomBtn",value:function(){var e=this,t=[];return(this.state.internal||this.state.sata)&&(this.state.is_speaker||this.state.is_moderator||this.state.is_presenter)&&t.push(Object(R.jsx)("a",{href:"/#/rooms/"+this.state.room_id+"?rnd="+Object(B.v4)(),onClick:this.forceUpdate,class:"btn bg-green-lt",children:rt.enter_room})),this.state.bigblue&&t.push(Object(R.jsxs)("a",{onClick:function(){return e.createBigBlue()},class:"btn bg-cyan-lt ms-auto",children:[rt.enter_bigblue_room,Object(R.jsx)("div",{id:"bigblue-spinner",class:"spinner-border text-black",role:"status",style:{display:"none"}})]})),t}},{key:"fullAlert",value:function(){if(this.state.fullAlert)return Object(R.jsxs)("div",{class:"alert alert-important alert-danger alert-dismissible",role:"alert",children:[Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{children:rt.room_is_full})]}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"timelyAlert",value:function(){if(this.state.timelyAlert)return Object(R.jsxs)("div",{class:"alert alert-important alert-danger alert-dismissible",role:"alert",children:[Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{children:rt.out_of_time})]}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"postPolling",value:function(e,t){I("pollings",{poll_id:e,outcome:t},this.state.token)}},{key:"polls",value:function(){var e=this,t=[];return this.state.polls&&this.state.polls.map((function(s){t.push(Object(R.jsx)(Ye,{postPolling:e.postPolling,star:e.state.star,handleChange:e.handleChange,poll:s,lang:e.state.lang}))})),t}},{key:"pollSettings",value:function(){if(this.state.is_admin)return Object(R.jsx)("div",{style:{backgroundColor:"#f4f6fa",minHeight:"25px",marginTop:"0px"},children:Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsx)("a",{href:"/#/polls?meeting_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",style:{float:"left",marginTop:"3px",marginLeft:"5px"},width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})})})}},{key:"attend",value:function(e,t){I("attendances/attend",{attendable_id:t,attendable_type:"Meeting",flag:e},this.state.token)}},{key:"calendarType",value:function(e){return"farsi"===this.state.lang?U()(this.formatGregorianDate(e)).format("jYYYY/jMM/jDD"):z()(e).format("YYYY/MM/DD")}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Ke,{modal:this.modal,lang:this.state.lang,attend:this.attend,id:this.state.id}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:rt.overview}),Object(R.jsx)("h2",{className:"page-title",children:rt.meeting_detail})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row  row-cards",children:[Object(R.jsxs)("div",{class:"col-lg-4",children:[Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{className:"card-header dark-header",children:[Object(R.jsx)("h3",{class:"card-title",children:this.state.title}),Object(R.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(R.jsx)("li",{class:"nav-item mx-2",children:this.isPrivateBadge()}),this.editMeetingBtn()]})]}),Object(R.jsxs)("ul",{class:"nav nav-tabs","data-bs-toggle":"tabs",children:[Object(R.jsx)("li",{class:"nav-item",children:Object(R.jsxs)("a",{onClick:function(){return e.setState({activeTab:"details"})},className:"details"==this.state.activeTab?"nav-link active":"nav-link","data-bs-toggle":"tab",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}),Object(R.jsx)("polyline",{points:"11 12 12 12 12 16 13 16"})]}),rt.details]})}),Object(R.jsx)("li",{class:"nav-item",children:Object(R.jsxs)("a",{onClick:function(){e.scrollChat(),e.setState({activeTab:"chats"})},className:"chats"==this.state.activeTab?"nav-link active":"nav-link","data-bs-toggle":"tab",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"}),Object(R.jsx)("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})]}),rt.chats]})}),Object(R.jsx)("li",{class:"nav-item",children:Object(R.jsxs)("div",{onClick:function(){return e.setState({activeTab:"polls"})},className:"polls"==this.state.activeTab?"nav-link active":"nav-link","data-bs-toggle":"tab ",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("polyline",{points:"12 3 20 7.5 20 16.5 12 21 4 16.5 4 7.5 12 3"}),Object(R.jsx)("line",{x1:"12",y1:"12",x2:"20",y2:"7.5"}),Object(R.jsx)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),Object(R.jsx)("line",{x1:"12",y1:"12",x2:"4",y2:"7.5"})]}),rt.polls]})}),Object(R.jsxs)("span",{class:"badge bg-teal ms-auto mt-2 mx-2",children:[rt.viewers," ",this.state.userCounter]})]}),Object(R.jsxs)("div",{class:"tab-content",children:[Object(R.jsxs)("div",{className:"details"==this.state.activeTab?"tab-pane active show":"tab-pane",children:[Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("h4",{children:[rt.related_to_event,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:Object(R.jsx)("a",{href:"/#/events/"+this.state.event.id,children:this.state.event.title})}),this.sideBlock("info",rt.meeting_info),Object(R.jsxs)("div",{className:"row",children:[Object(R.jsxs)("div",{className:"col-6",children:[Object(R.jsxs)("h4",{children:[rt.meeting_type,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:rt[this.state.meeting_type]})]}),Object(R.jsx)("div",{className:"col-6",children:this.sideBlock("capacity",rt.meeting_capacity)})]}),this.sideBlock("external_link",rt.meeting_external_link),Object(R.jsxs)("div",{className:"row",children:[Object(R.jsxs)("div",{className:"col-6",children:[Object(R.jsxs)("h4",{children:[rt.meeting_start_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.calendarType(this.state.start_time)})]}),Object(R.jsxs)("div",{className:"col-6",children:[Object(R.jsxs)("h4",{children:[rt.meeting_end_time,":"]}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.calendarType(this.state.end_time)})]})]}),Object(R.jsx)("h4",{children:rt.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.tagsShow(this.state.tags)})]}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsx)("div",{class:"d-flex",children:this.roomBtn()})})]}),this.fullAlert(),this.timelyAlert(),Object(R.jsx)("div",{className:"chats"==this.state.activeTab?"tab-pane active show":"tab-pane",id:"tabs-profile-9",children:Object(R.jsxs)("div",{class:"card mb-3 maxh-250 minh-250",style:{borderColor:"white",boxShadow:"none"},children:[Object(R.jsx)("div",{class:"list-group list-group-flush overflow-auto",id:"chat-box",style:{maxHeight:"25rem"},children:this.chatItems()}),Object(R.jsx)("div",{class:"card-footer",style:{borderColor:"white"},children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("input",{id:"chat-form",type:"text",class:"form-control",placeholder:rt.write_something,onChange:function(t){e.handleChange({item:{content:t.target.value,name:e.state.name,initials:e.state.initials,time:Date.now(),uuid:Object(B.v4)()}})}})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return e.send()},class:"btn btn-white btn-icon","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]})})})]})})]})}),Object(R.jsx)("div",{className:"polls"==this.state.activeTab?"tab-pane active show":"tab-pane",id:"tabs-vote",children:Object(R.jsx)("div",{class:"card mb-3",style:{borderColor:"white",boxShadow:"none"},children:Object(R.jsxs)("div",{className:"card-body p-0",style:{maxHeight:"250px",overflowY:"scroll"},children:[this.pollSettings(),Object(R.jsx)("div",{className:"p-2",children:this.polls()})]})})})]})]}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-status-top dark-bar"}),Object(R.jsxs)("div",{class:"card-header header-compact",children:[Object(R.jsx)("h3",{class:"card-title",children:rt.pages}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createFlyerBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-status-top dark-bar"}),Object(R.jsxs)("div",{class:"card-header header-compact",children:[Object(R.jsx)("h3",{class:"card-title",children:rt.resources}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createUploadBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]}),Object(R.jsx)(q,{is_admin:this.state.is_admin,attendees:this.state.attendees,attendeesCount:this.state.attendeesCount,attendable_type:"meeting",attendable_id:this.state.id,lang:this.state.lang})]}),Object(R.jsx)(Je,{quill_content:this.state.quill_content,cover:this.state.cover})]})})})]})]})]})}}]),s}(a.a.Component),ot=s(119),lt=s.n(ot),dt=Object($.b)($.a),ht=x,ut=A.farsi,jt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.deleteInstance=n.deleteInstance.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.validateExistence=ee.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_id:window.localStorage.getItem("event_id"),id:null,title:null,info:null,meeting_type:"online",start_time:z()(),end_time:z()().add(2,"Hour"),capacity:20,editing:!1,options:[],tags:[],is_private:!1,is_admin:!1,events:[],bigblue:!0,internal:!1,sata:!1,validationItems:[],number_of_sata_displays:0,per_display:0,isGregorian:!1,insideEvent:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("got_list",this.getList),g.on("deleted_instance",this.deleteInstance),(this.state.lang||null!==this.state.lang)&&(ut=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("got_list",this.getList),g.removeListener("deleted_instance",this.deleteInstance)}},{key:"componentDidMount",value:function(){ut=A[this.state.lang],"farsi"===this.state.lang&&this.setState({start_from:Z()(),start_to:Z()().add(2,"jMonth"),isGregorian:!1});var e=window.localStorage.getItem("event_id");""!==e&&null!==e&&this.setState({insideEvent:!0});var t=Ce.a.parse(this.props.location.search);t&&t.event_id&&this.setState({event_id:t.event_id}),this.props.match.params.id&&S("meetings",this.props.match.params.id,this.state.token),k("events/owner",this.state.page,{},this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"deleteInstance",value:function(){this.props.history.push("/meetings/")}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Meeting"===e&&this.props.history.push("/meetings/"+t.id)}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Event"===t&&this.setState({events:e})}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();s&&"Meeting"===t&&this.setState({id:s.id,title:s.title,info:s.info,meeting_type:s.meeting_type,start_time:s.start_time,end_time:s.end_time,event_id:s.event.id,capacity:s.capacity,tags:s.tags,is_private:s.is_private,bigblue:s.bigblue,internal:s.internal,sata:s.sata,is_admin:s.is_admin,number_of_sata_displays:this.state.number_of_sata_displays,per_display:this.state.per_display,editing:!0},(function(){console.log(e.state),e.changeType(e.state.meeting_type),e.tagSelected(e.state.tags),e.state.is_admin||e.props.history.push("/meetings/")}))}},{key:"submit",value:function(){var e=this.state;if(this.validateExistence(["title","info"])){G()("#submit-button").hide(),G()("#submit-spinner").show();e={event_id:this.state.event_id,title:this.state.title,info:this.state.info,meeting_type:this.state.meeting_type,start_time:this.state.start_time,end_time:this.state.end_time,capacity:this.state.capacity,tags:this.state.tags,is_private:this.state.is_private,bigblue:this.state.bigblue,internal:this.state.internal,sata:this.state.sata,id:this.state.id,number_of_sata_displays:this.state.number_of_sata_displays,per_display:this.state.per_display};this.state.editing?N("meetings",e,this.state.token):I("meetings",e,this.state.token)}}},{key:"changeType",value:function(e){this.setState({meeting_type:e})}},{key:"addDisplay",value:function(){}},{key:"changeService",value:function(e){this.toggleState(e)}},{key:"toggleState",value:function(e){var t=this;this.state[e]?this.setState(Object(D.a)({},"".concat(e),!1)):this.setState(Object(D.a)({},"".concat(e),!0),(function(){return console.log(t.state)}))}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(dt,{id:"event-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(ht+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(R.jsx)("span",{class:"badge bg-red-lt",children:ut.private})}},{key:"eventOptions",value:function(){var e=this,t=[];if(this.state.events){var s=[Object(R.jsx)("option",{value:""})];this.state.events.map((function(t){s.push(Object(R.jsx)("option",{value:t.id,selected:e.state.event_id==t.id,children:t.title}))})),t.push(Object(R.jsx)("select",{class:"form-select",onChange:function(t){return e.handleChange({event_id:t.target.value})},children:s}))}return t}},{key:"deleteMeeting",value:function(){C("meetings",{id:this.state.id},this.state.token)}},{key:"deleteBtn",value:function(){var e=this;if(this.state.editing)return Object(R.jsxs)("button",{id:"delete-button",onClick:function(){window.confirm(ut.are_you_sure)&&e.deleteMeeting()},class:"btn btn-danger ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]}),ut.delete]})}},{key:"calendarType",value:function(){var e=this;return"farsi"===this.state.lang?Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ut.meeting_start_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Z()(this.state.start_time)})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ut.meeting_end_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Y.a,{isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Z()(this.state.end_time)})]})]}):Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ut.meeting_start_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Ee.a,{onChange:function(t){e.setState({start_time:t})},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"yyyy/MM/dd HH:mm",selected:z()(this.state.start_time).toDate(),className:"datepicker-input"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ut.meeting_end_time,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)(Ee.a,{onChange:function(t){e.setState({end_time:t})},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"yyyy/MM/dd HH:mm",selected:z()(this.state.end_time).toDate(),className:"datepicker-input"})]})]})}},{key:"eventSelect",value:function(){if(!this.state.insideEvent)return Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:ut.event}),this.eventOptions()]})}},{key:"sataOptions",value:function(){var e=this;if(this.state.sata)return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.sata_displays}),Object(R.jsx)("input",{type:"integer",class:"form-control",name:"text-input",onInput:function(t){e.handleChange({number_of_sata_displays:t.target.value})},value:this.state.number_of_sata_displays})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.per_display}),Object(R.jsx)("input",{type:"integer",class:"form-control",name:"text-input",onInput:function(t){e.handleChange({per_display:t.target.value})},value:this.state.per_display})]})]})}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:ut.create_meeting_page}),Object(R.jsx)("h2",{className:"page-title",children:ut.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:ut.create_meeting})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.meeting_title}),Object(R.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:ut.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[ut.meeting_info,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{class:"form-control",name:"example-textarea-input",rows:"6",placeholder:ut.write_something,onInput:function(t){e.handleChange({info:t.target.value})},value:this.state.info})]}),this.eventSelect(),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.meeting_type}),Object(R.jsxs)("div",{class:"form-selectgroup",children:[Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"in_person",class:"form-selectgroup-input",checked:"in_person"===this.state.meeting_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.in_person})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"hybrid",class:"form-selectgroup-input",checked:"hybrid"===this.state.meeting_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.hybrid})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"online",class:"form-selectgroup-input",checked:"online"===this.state.meeting_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.online})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"online_external",class:"form-selectgroup-input",checked:"online_external"===this.state.meeting_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.online_external})]})]})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.service_type}),Object(R.jsxs)("div",{class:"form-selectgroup",children:[Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"internal",class:"form-selectgroup-input",checked:!!this.state.internal,onClick:function(t){return e.changeService(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.internal})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"sata",class:"form-selectgroup-input",checked:!!this.state.sata,onClick:function(t){return e.changeService(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.sata})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"bigblue",class:"form-selectgroup-input",checked:!!this.state.bigblue,onClick:function(t){return e.changeService(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:ut.bigblue})]})]})]}),this.sataOptions(),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:ut.tags}),this.tagShow()]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:ut.meeting_capacity}),Object(R.jsx)(lt.a,{value:this.state.capacity,onChange:function(t){e.handleChange({capacity:t.target.value})}})]}),this.calendarType(),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:ut.is_private}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(R.jsx)("span",{class:"form-check-label",children:ut.default_is_private_info})]})]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:ut.cancel}),this.deleteBtn(),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:ut.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-md-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})]})}}]),s}(a.a.Component),bt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),title:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){}},{key:"setInstance",value:function(){}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:"Overview"}),Object(R.jsx)("h2",{className:"page-title",children:"Condensed dark layout"})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"row row-deck row-cards",children:Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:"Add Attendees"})}),Object(R.jsxs)("div",{class:"list-group list-group-flush list-group-hoverable",children:[Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026"}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})}),Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("span",{class:"badge bg-red"})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar"})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:"Pawe\u0142 Kuna"}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:"Change deprecated html tags to text decoration classes (#29604)"})]}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",class:"list-group-item-actions",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon text-muted",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})]})})})]})})]})]})})})})})]})]})})}}]),s}(a.a.Component);U.a.locale("fa",{useGregorianParser:!0});var pt=function(e){var t=A[e.lang];function s(e){if(e.cover)return Object(R.jsx)("a",{href:"/#/exhibitions/"+e.id,children:Object(R.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function n(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}return Object(R.jsx)(a.a.Fragment,{children:function(){var a=[];return e.exhibitions&&e.exhibitions.map((function(i){a.push(Object(R.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(R.jsxs)("div",{className:"card",children:[s(i),Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h3",{class:"card-title",children:Object(R.jsx)("a",{href:"/#/exhibitions/"+i.id,children:i.title})}),Object(R.jsx)("p",{style:{textAlign:"justify"},children:i.truncated_info}),Object(R.jsx)("h4",{children:t.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:n(i.tags)})]})]})}))})),a}()})},vt=Object($.b)($.a),gt=x,mt=A.farsi,ft=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_id:window.localStorage.getItem("event_id"),title:null,exhibitions:null,allTags:null,q:"",start_from:Z()(),start_to:Z()().add(2,"jMonth"),tags:[],page:1,userAbilities:null,events:[]},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),g.on("got_instance",this.getInstance),mt=A[this.state.lang]}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){window.location.href.split("#")[0].split("/");var e=Ce.a.parse(this.props.location.search);e.event_id?(this.setState({event_id:e.event_id}),k("exhibitions/search",this.state.page,{event_id:e.event_id},this.state.token)):k("exhibitions/search",this.state.page,{event_id:this.state.event_id},this.state.token),this.state.token&&this.state.token.length>10?k("profiles/mine",1,{},this.state.token):this.props.history.push("login")}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Exhibition"===t&&(G()("#search-spinner").hide(),e[0]&&e[0].page?(1==e[0].page?this.setState({exhibitions:e}):this.setState({exhibitions:this.state.exhibitions.concat(e)}),this.setState({page:e[0].page,pages:e[0].pages})):this.setState({exhibitions:[],page:0}),console.log(e)),e&&"MyProfile"===t&&this.setState({profile:e[0],userAbilities:e[0].abilities})}},{key:"getInstance",value:function(){}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"noExhibitionCard",value:function(){}},{key:"checkExhibition",value:function(){return this.state.exhibitions?Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("div",{class:"col-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{className:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:mt.exhibitions}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/exhibitions/create",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem"})})]})}),Object(R.jsx)(pt,{exhibitions:this.state.exhibitions,col:8,lang:this.state.lang})]}):this.noExhibitionCard()}},{key:"cardMasonry",value:function(){if(this.state.exhibitions)return Object(R.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(R.jsx)(pt,{exhibitions:this.state.exhibitions,col:6,lang:this.state.lang})})}},{key:"search",value:function(){var e=this;G()("#search-spinner").show();var t={q:this.state.q,tags:this.state.tags,event_id:this.state.event_id};this.setState({page:1},(function(){k("exhibitions/search",e.state.page,t,e.state.token)}))}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(s){t.push(Object(R.jsxs)("label",{class:"form-check",children:[Object(R.jsx)("input",{id:"tag-check-"+s.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:s.id,onChange:function(t){return e.changeTags(t)}}),Object(R.jsx)("span",{class:"form-check-label",children:Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:s.title})})]}))})),t}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(vt,{id:"search-tag",multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(gt+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"loadMore",value:function(){var e={id:this.state.id,page:this.state.page+1,q:this.state.q,tags:this.state.tags};k("exhibitions/search",this.state.page+1,e,this.state.token)}},{key:"createBtn",value:function(){if(this.state.userAbilities&&this.state.userAbilities.create_exhibition)return Object(R.jsx)("div",{class:"btn-list",children:Object(R.jsxs)("a",{href:"#/exhibitions/create",class:"btn btn-primary",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),mt.create_exhibition]})})}},{key:"moreBtn",value:function(){var e=this;if(this.state.pages>this.state.page)return Object(R.jsx)("div",{class:"hr-text",children:Object(R.jsxs)("a",{onClick:function(){return e.loadMore()},children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"8",y1:"12",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"16",y1:"12",x2:"12",y2:"16"})]}),mt.more]})})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"page-header d-print-none",children:Object(R.jsxs)("div",{className:"row align-items-center",children:[Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:mt.overview}),Object(R.jsx)("h2",{className:"page-title",children:mt.exhibitions})]}),Object(R.jsx)("div",{class:"col-auto ms-auto d-print-none",children:this.createBtn()})]})})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col-lg-3",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{className:"card-header",children:Object(R.jsxs)("h4",{class:"card-title",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]}),mt.filter_events]})}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:mt.contains_words}),Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:mt.search_placeholder,onInput:function(t){e.handleChange({q:t.target.value})}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:mt.tags}),this.tagInput()]})]}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("a",{onClick:function(){return e.search()},class:"btn btn-primary w-100",children:[Object(R.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),mt.filter_and_search,Object(R.jsx)("div",{id:"search-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}})]})})]})}),Object(R.jsxs)("div",{class:"col-lg-9",children:[this.cardMasonry(),this.moreBtn()]})]})})})]})]})})}}]),s}(a.a.Component),xt=function(e){var t=A[e.lang];return Object(R.jsxs)("div",{className:"card mb-3",style:e.height?{height:e.height}:{height:"auto"},children:[Object(R.jsxs)("div",{className:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:t.q_and_a_s}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:function(){if(e.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/questions/create?"+e.questionable_type+"_id="+e.questionable_id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:function(){var t=[];return e.questions&&e.questions.map((function(e){e.content&&t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsx)("div",{class:"row align-items-center",children:Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{onClick:"",class:"text-body d-block",children:e.content})})})}))})),t}()})]})},Ot=A.farsi,wt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.socketHandle=n.socketHandle.bind(Object(j.a)(n)),n.appendChat=Qe.bind(Object(j.a)(n)),n.chatItems=$e.bind(Object(j.a)(n)),n.throttle=et.bind(Object(j.a)(n)),n.send=tt.bind(Object(j.a)(n)),n.wsSend=st.bind(Object(j.a)(n)),n.keydownHandler=Ze.bind(Object(j.a)(n)),n.scrollChat=Xe.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,id:null,info:null,flyers:[],questions:[],quillOne:null,tags:[],uploads:null,is_admin:!1,attendees:[],room_id:null,roomId:null,cover:null,name:null,fullname:null,initials:null,userUUID:null,chats:[],lastTime:Date.now(),content:null,item:null,quill_content:null,activeTab:"details"},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("deleted_instance",this.getInstance),document.addEventListener("keydown",this.keydownHandler)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.getInstance),document.removeEventListener("keydown",this.keydownHandler)}},{key:"componentDidMount",value:function(){Ot=A[this.state.lang];var e=this;S("exhibitions",this.props.match.params.id,this.state.token),We.on("connect",(function(){e.state.roomId&&We.emit("room",{room:e.state.roomId.toString(),uuid:e.state.userUUID})})),We.on("message",(function(t){t.sender!==e.state.userUUID&&e.socketHandle(t)}))}},{key:"socketHandle",value:function(e){var t=e;switch(t.type){case"chat":this.appendChat(t.c);break;case"userCounter":this.setState({userCounter:t.c})}}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Exhibition"===t&&this.setState({title:s.title,id:s.id,info:s.info,flyers:s.flyers,tags:s.tags,uploads:s.uploads,is_admin:s.is_admin,attendees:s.attendees,room_id:s.room_id,roomId:s.room_uuid,cover:s.cover,questions:s.questions},(function(){e.state.token&&e.state.token.length>10&&I("users/validate_token",{},e.state.token),e.state.flyers&&e.state.flyers[0]&&e.loadContent(e.state.flyers[0].quill_content)})),console.log(s)}},{key:"setInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Validate"===t&&this.setState({name:s.name,fullname:s.name,initials:s.initials,userUUID:s.uuid},(function(){e.connectSocketRoom()}))}},{key:"deleteFlyer",value:function(e){C("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"loadContent",value:function(e){this.setState({quill_content:e})}},{key:"editFlyerBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsxs)("div",{class:"col-auto",children:[Object(R.jsx)("a",{href:"/#/flyers/edit/"+e.id,class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(R.jsx)("a",{onClick:function(){return t.deleteFlyer(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(e){e.is_default})),this.state.flyers.map((function(s){t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{onClick:function(){return e.loadContent(s.quill_content)},class:"text-body d-block",children:s.title})}),e.editFlyerBtn(s)]})}))})),t}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"deleteUpload",value:function(e){C("uploads",{id:e},this.state.token)}},{key:"editUploadBtn",value:function(e){var t=this;if(this.state.is_admin)return Object(R.jsx)("div",{class:"col-auto p-0",children:Object(R.jsx)("a",{onClick:function(){return t.deleteUpload(e.id)},class:"list-group-item-actions show",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(s){"cover"!==s.upload_type&&t.push(Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{style:{cursor:"pointer"},href:s.link,class:"text-body d-block",children:s.title})}),e.editUploadBtn(s)]})}))})),t}},{key:"createFlyerBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/flyers/create?exhibition_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"createUploadBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link",href:"/#/uploads/create?exhibition_id="+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"editExhibitionBtn",value:function(){if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",href:"/#/exhibitions/edit/"+this.state.id,children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})}},{key:"addAttendance",value:function(){if(this.state.is_admin)return Object(R.jsx)(q,{is_admin:this.state.is_admin,attendees:this.state.attendees,attendable_type:"exhibition",attendable_id:this.state.id,lang:this.state.lang})}},{key:"connectSocketRoom",value:function(){this.state.userUUID&&this.state.roomId&&We.emit("room",{room:this.state.roomId,uuid:this.state.userUUID})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Ot.overview}),Object(R.jsx)("h2",{className:"page-title",children:Ot.exhibition_detail})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row  row-cards",children:[Object(R.jsxs)("div",{class:"col-lg-4",children:[Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{className:"card-header bg-dark-lt",children:[Object(R.jsxs)("h3",{class:"card-title",children:[this.state.title," "]}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.editExhibitionBtn()})]}),Object(R.jsxs)("ul",{class:"nav nav-tabs","data-bs-toggle":"tabs",children:[Object(R.jsx)("li",{class:"nav-item",children:Object(R.jsxs)("a",{onClick:function(){return e.setState({activeTab:"details"})},className:"details"==this.state.activeTab?"nav-link active":"nav-link","data-bs-toggle":"tab",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}),Object(R.jsx)("polyline",{points:"11 12 12 12 12 16 13 16"})]}),Ot.details]})}),Object(R.jsx)("li",{class:"nav-item",children:Object(R.jsxs)("a",{onClick:function(){e.scrollChat(),e.setState({activeTab:"chats"})},className:"chats"==this.state.activeTab?"nav-link active":"nav-link","data-bs-toggle":"tab",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"}),Object(R.jsx)("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})]}),Ot.chats]})})]}),Object(R.jsxs)("div",{class:"tab-content",children:[Object(R.jsxs)("div",{className:"details"==this.state.activeTab?"tab-pane active show":"tab-pane",children:[Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h4",{children:Ot.exhibition_info}),Object(R.jsx)("div",{class:"text-muted mb-3",style:{textAlign:"justify"},children:this.state.info}),Object(R.jsx)("h4",{children:Ot.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.tagsShow(this.state.tags)})]}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsx)("div",{class:"mt-2",children:Object(R.jsxs)("a",{href:"/#/rooms/"+this.state.room_id+"?rnd="+Object(B.v4)(),class:"btn btn-primary bg-green-lt w-100",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"3",y:"4",width:"18",height:"16",rx:"3"}),Object(R.jsx)("circle",{cx:"9",cy:"10",r:"2"}),Object(R.jsx)("line",{x1:"15",y1:"8",x2:"17",y2:"8"}),Object(R.jsx)("line",{x1:"15",y1:"12",x2:"17",y2:"12"}),Object(R.jsx)("line",{x1:"7",y1:"16",x2:"17",y2:"16"})]}),Ot.enter_room_with_admin]})})})]}),Object(R.jsx)("div",{className:"chats"==this.state.activeTab?"tab-pane active show":"tab-pane",children:Object(R.jsxs)("div",{class:"card mb-3 maxh-250 minh-250",style:{borderColor:"white",boxShadow:"none"},children:[Object(R.jsx)("div",{class:"list-group list-group-flush overflow-auto",id:"chat-box",style:{maxHeight:"25rem"},children:this.chatItems()}),Object(R.jsx)("div",{class:"card-footer",style:{borderColor:"white"},children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("input",{id:"chat-form",type:"text",class:"form-control",placeholder:Ot.write_something,onChange:function(t){e.handleChange({item:{content:t.target.value,name:e.state.name,initials:e.state.initials,time:Date.now(),uuid:Object(B.v4)()}})}})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return e.send()},class:"btn btn-white btn-icon","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]})})})]})})]})})]})]}),this.addAttendance(),Object(R.jsx)(xt,{is_admin:this.state.is_admin,questions:this.state.questions,questionable_type:"exhibition",questionable_id:this.state.id,lang:this.state.lang}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{class:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:Ot.pages}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createFlyerBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsxs)("div",{class:"card-header",children:[Object(R.jsx)("h3",{class:"card-title",children:Ot.resources}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createUploadBtn()})]}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]})]}),Object(R.jsx)(Je,{quill_content:this.state.quill_content,cover:this.state.cover})]})})})]})]})})}}]),s}(a.a.Component),yt=Object($.b)($.a),kt=x,_t=A.farsi,St=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).submit=n.submit.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.deleteInstance=n.deleteInstance.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.validateExistence=ee.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),event_id:window.localStorage.getItem("event_id"),title:null,id:null,info:null,options:[],tags:[],is_admin:!1,validationItems:[],events:[],is_active:!1},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("deleted_instance",this.deleteInstance),g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("got_list",this.getList),g.removeListener("deleted_instance",this.deleteInstance)}},{key:"componentDidMount",value:function(){_t=A[this.state.lang],this.props.match.params.id&&S("exhibitions",this.props.match.params.id,this.state.token);window.location.href.split("#")[0].split("/");k("events/owner",this.state.page,{event_id:this.state.event_id},this.state.token)}},{key:"deleteInstance",value:function(){this.props.history.push("/exhibitions/")}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Exhibition"===e&&this.props.history.push("/exhibitions/"+t.id)}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();s&&"Exhibition"===t&&this.setState({id:s.id,title:s.title,info:s.info,tags:s.tags,is_admin:s.is_admin,event_id:s.event_id,is_active:s.is_active,editing:!0},(function(){e.tagSelected(e.state.tags),e.state.is_admin||e.props.history.push("/exhibitions/")}))}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Event"===t&&this.setState({events:e})}},{key:"submit",value:function(){var e=this.state;this.validateExistence(["title","info"])&&(G()("#submit-button").hide(),G()("#submit-spinner").show(),this.state.editing?N("exhibitions",e,this.state.token):I("exhibitions",e,this.state.token))}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(yt,{id:"exhibition-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(kt+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_active?this.setState({is_active:!1}):this.setState({is_active:!0})}},{key:"deleteExhibition",value:function(){C("exhibitions",{id:this.state.id},this.state.token)}},{key:"deleteBtn",value:function(){var e=this;if(this.state.editing)return Object(R.jsxs)("button",{id:"delete-button",onClick:function(){window.confirm(_t.are_you_sure)&&e.deleteExhibition()},class:"btn btn-danger ms-auto",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]}),_t.delete]})}},{key:"eventOptions",value:function(){var e=this,t=[];if(this.state.events){var s=[];this.state.events.map((function(t){s.push(Object(R.jsx)("option",{value:t.id,selected:e.state.event_id==t.id,children:t.title}))})),t.push(Object(R.jsx)("select",{class:"form-select",onChange:function(t){return e.handleChange({event_id:t.target.value})},children:s}))}return t}},{key:"render",value:function(){var e=this,t=this.state,s=(t.is_private,t.is_active);return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:_t.create_exhibition_page}),Object(R.jsx)("h2",{className:"page-title",children:_t.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:_t.create_exhibition})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:_t.exhibition_title}),Object(R.jsx)("input",{type:"text",onInput:function(t){e.handleChange({title:t.target.value})},id:"title",class:"form-control",name:"text-input",placeholder:_t.write_something,value:this.state.title})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[_t.exhibition_info,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{onInput:function(t){e.handleChange({info:t.target.value})},class:"form-control",id:"content",name:"example-textarea-input",rows:"6",placeholder:_t.write_something,value:this.state.info})]}),Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:_t.event}),this.eventOptions()]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:_t.is_active}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!s}),Object(R.jsx)("span",{class:"form-check-label",children:_t.is_active_notice})]})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:_t.tags}),this.tagShow()]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/exhibitions",class:"btn btn-link",children:_t.cancel}),this.deleteBtn(),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:_t.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-md-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})]})}}]),s}(a.a.Component),Ct=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),title:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){}},{key:"setInstance",value:function(){}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsx)("div",{className:"page-wrapper",children:Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"row row-deck row-cards",children:Object(R.jsxs)("div",{class:"card chat-app",children:[Object(R.jsxs)("div",{id:"plist",class:"people-list",children:[Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026"}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]}),Object(R.jsxs)("ul",{class:"list-unstyled chat-list mt-2 mb-0",children:[Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar1.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Vincent Porter"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle offline"})," left 7 mins ago "]})]})]}),Object(R.jsxs)("li",{class:"clearfix active",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar2.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Aiden Chavez"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar3.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Mike Thomas"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Christian Kelly"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle offline"})," left 10 hours ago "]})]})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar8.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Monica Ward"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar3.png",alt:"avatar"}),Object(R.jsxs)("div",{class:"about",children:[Object(R.jsx)("div",{class:"name",children:"Dean Henry"}),Object(R.jsxs)("div",{class:"status",children:[" ",Object(R.jsx)("i",{class:"fa fa-circle offline"})," offline since Oct 28 "]})]})]})]})]}),Object(R.jsxs)("div",{class:"chat",children:[Object(R.jsx)("div",{class:"chat-header clearfix",children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsxs)("div",{class:"col-lg-6",children:[Object(R.jsx)("a",{href:"javascript:void(0);","data-toggle":"modal","data-target":"#view_info",children:Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar2.png",alt:"avatar"})}),Object(R.jsxs)("div",{class:"chat-about",children:[Object(R.jsx)("h6",{class:"m-b-0",children:"Aiden Chavez"}),Object(R.jsx)("small",{children:"Last seen: 2 hours ago"})]})]}),Object(R.jsx)("div",{class:"col-lg-6 hidden-sm text-right"})]})}),Object(R.jsx)("div",{class:"chat-history",children:Object(R.jsxs)("ul",{class:"m-b-0",children:[Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsxs)("div",{class:"message-data text-right",children:[Object(R.jsx)("span",{class:"message-data-time",children:"10:10 AM, Today"}),Object(R.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"avatar"})]}),Object(R.jsx)("div",{class:"message other-message float-right",children:" Hi Aiden, how are you? How is the project coming along? "})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("div",{class:"message-data",children:Object(R.jsx)("span",{class:"message-data-time",children:"10:12 AM, Today"})}),Object(R.jsx)("div",{class:"message my-message",children:"Are we meeting today?"})]}),Object(R.jsxs)("li",{class:"clearfix",children:[Object(R.jsx)("div",{class:"message-data",children:Object(R.jsx)("span",{class:"message-data-time",children:"10:15 AM, Today"})}),Object(R.jsx)("div",{class:"message my-message",children:"Project has been already finished and I have results to show you."})]})]})}),Object(R.jsx)("div",{class:"chat-message clearfix",children:Object(R.jsxs)("div",{class:"input-group mb-2",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:"Type here\u2026"}),Object(R.jsx)("button",{class:"btn",type:"button",children:"Send"})]})})]})]})})})})})]})})}}]),s}(a.a.Component),It=A.farsi,Nt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).submit=n.submit.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.clearForm=n.clearForm.bind(Object(j.a)(n)),n.deleteInstance=n.deleteInstance.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),pollable_type:null,pollable_id:null,answer_type:"star",polls:null,content:null,answer_content:null,title:null,formActivated:!1,poll:null,star:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("deleted_instance",this.deleteInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.deleteInstance)}},{key:"componentDidMount",value:function(){var e=this;It=A[this.state.lang];var t=Ce.a.parse(this.props.location.search),s="",n=0,a="";Object.keys(t).map((function(e){var i=e.split("_");i[0]&&(s=i[0].charAt(0).toUpperCase()+i[0].slice(1),n=t[e],a=i[0]+"s")})),this.setState({pollable_type:s,pollable_id:n},(function(){k("polls",e.state.page,{pollable_type:s,pollable_id:n},e.state.token),S(a,n,e.state.token)}))}},{key:"deleteInstance",value:function(){var e=g.getKlass();g.getIntance();"Poll"===e&&k("polls",this.state.page,{pollable_type:this.state.pollable_type,pollable_id:this.state.pollable_id},this.state.token)}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Poll"===t&&this.setState({polls:e}),console.log(e)}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Meeting"!==e&&"Event"!==e||this.setState({title:t.title,is_admin:t.is_admin}),"Poll"===e&&this.setState({poll:t}),console.log(t)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass();g.getIntance();"Poll"===e&&(this.clearForm(),k("polls",this.state.page,{pollable_type:this.state.pollable_type,pollable_id:this.state.pollable_id},this.state.token))}},{key:"changeType",value:function(e){this.setState({answer_type:e})}},{key:"selectContent",value:function(){var e=this;if(console.log(this.state.answer_type),this.state.answer_type&&("single_select"===this.state.answer_type||"multiple_select"===this.state.answer_type))return Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[It.select_content,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{onInput:function(t){e.handleChange({answer_content:t.target.value})},class:"form-control text-dark",id:"content",name:"example-textarea-input",rows:"6",placeholder:It.write_something,value:this.state.answer_content}),Object(R.jsx)("div",{class:"form-hint",children:It.separate_with_enter})]})}},{key:"clearForm",value:function(){this.setState({answer_type:"star",content:null,answer_content:null}),G()("#content").val("")}},{key:"pollItem",value:function(e){var t=this;return Object(R.jsx)("div",{className:"list-group-item",children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{onClick:function(){return t.loadPollings(e.id)},class:"text-body d-block",children:e.content}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1"})]}),Object(R.jsxs)("div",{class:"col-auto",children:[Object(R.jsx)("span",{class:"badge bg-cyan-lt",children:It[e.answer_type]}),this.deleteBtn(e.id)]})]})})}},{key:"pollsList",value:function(){var e=this,t=[];return this.state.polls&&this.state.polls.map((function(s){t.push(e.pollItem(s))})),t}},{key:"submit",value:function(){I("polls",{pollable_type:this.state.pollable_type,pollable_id:this.state.pollable_id,answer_type:this.state.answer_type,content:this.state.content,answer_content:this.state.answer_content},this.state.token)}},{key:"toggleForm",value:function(){this.setState({formActivated:!this.state.formActivated})}},{key:"createBtn",value:function(){var e=this;if(this.state.is_admin)return Object(R.jsx)("li",{class:"nav-item ms-auto",children:Object(R.jsx)("a",{class:"nav-link p-1",onClick:function(){return e.toggleForm()},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}},{key:"loadPollings",value:function(e){S("polls/overview",e,this.state.token)}},{key:"postPolling",value:function(e,t){I("pollings",{poll_id:e,outcome:t},this.state.token)}},{key:"deletePoll",value:function(e){C("polls",{id:e},this.state.token)}},{key:"deleteBtn",value:function(e){var t=this;if(e)return Object(R.jsx)("a",{onClick:function(){window.confirm(It.are_you_sure)&&t.deletePoll(e)},class:" ms-auto",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(R.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(R.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(R.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(R.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:It.overview}),Object(R.jsx)("h2",{className:"page-title",children:It.polls})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"col-md-12",children:Object(R.jsxs)("div",{className:"row row-cards",children:[Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{className:"card",children:[Object(R.jsxs)("div",{className:"card-header bg-dark-lt",children:[Object(R.jsx)("h3",{class:"card-title",children:this.state.title}),Object(R.jsx)("ul",{class:"nav nav-pills card-header-pills",children:this.createBtn()})]}),Object(R.jsx)("div",{className:this.state.formActivated?"show-element":"hide-element",children:Object(R.jsxs)("div",{className:"card-body bg-dark text-white",children:[Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:It.poll_content}),Object(R.jsx)("input",{id:"content",type:"text",class:"form-control text-dark",name:"text-input",placeholder:It.write_something,onInput:function(t){e.handleChange({content:t.target.value})},value:this.state.content})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:It.answer_type}),Object(R.jsxs)("div",{class:"form-selectgroup",children:[Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"single_select",class:"form-selectgroup-input",checked:"single_select"===this.state.answer_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:It.single_select})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"multiple_select",class:"form-selectgroup-input",checked:"multiple_select"===this.state.answer_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:It.multiple_select})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"star",class:"form-selectgroup-input",checked:"star"===this.state.answer_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:It.star})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"binary",class:"form-selectgroup-input",checked:"binary"===this.state.answer_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:It.binary})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"trinary",class:"form-selectgroup-input",checked:"trinary"===this.state.answer_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:It.trinary})]})]})]}),this.selectContent()]}),Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{onClick:function(){e.clearForm(),e.toggleForm()},class:"btn btn-link",children:It.cancel}),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:It.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})]})}),Object(R.jsx)("div",{className:"list-group list-group-flush list-group-hoverable",children:this.pollsList()})]})}),Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsx)("div",{className:"card",children:Object(R.jsx)("div",{className:"card-body",children:Object(R.jsx)(Ye,{postPolling:this.postPolling,disabled:!0,star:this.state.star,handleChange:this.handleChange,poll:this.state.poll,lang:this.state.lang})})})})]})})})})]})]})})}}]),s}(a.a.Component),Mt=s(317),Tt=A.farsi,Dt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).onCropChange=function(e){n.setState({crop:e})},n.onCropComplete=function(e,t){console.log(e,t),n.setState({crop_settings:t})},n.onZoomChange=function(e){n.setState({zoom:e})},n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.showCropper=n.showCropper.bind(Object(j.a)(n)),n.state={lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),crop:{x:0,y:0},zoom:1,aspect:3.2,uploadable_type:null,uploadable_id:null,id:null,imageSrc:null,crop_settings:null,uploadable_link:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_instance",this.getInstance),g.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_instance",this.getInstance),g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){Tt=A[this.state.lang],S("uploads",this.props.match.params.id,this.state.token),Ce.a.parse(this.props.location.search).profile&&this.setState({aspect:1})}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"UploadShow"===e&&this.setState({id:t.id,crop_settings:t.crop,uploadable_type:t.uploadable_type,uploadable_id:t.uploadable_id,imageSrc:t.link,uploadable_link:t.uploadable_link},(function(){})),console.log(t.cropped)}},{key:"submit",value:function(){N("uploads",{id:this.state.id,crop_settings:this.state.crop_settings},this.state.token)}},{key:"setInstance",value:function(){var e=g.getKlass();g.getIntance();"Upload"===e&&this.props.history.push("/"+this.state.uploadable_link)}},{key:"showCropper",value:function(){if(this.state.imageSrc)return console.log(this.state.imageSrc),Object(R.jsx)(Mt.a,{image:this.state.imageSrc,crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.aspect,onCropChange:this.onCropChange,onCropComplete:this.onCropComplete,onZoomChange:this.onZoomChange})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)("div",{className:"crop-container",children:this.showCropper()}),Object(R.jsx)("div",{className:"controls",children:Object(R.jsx)(lt.a,{value:this.state.zoom,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(t,s){return e.onZoomChange(s)},classes:{container:"slider"}})}),Object(R.jsx)("div",{className:"crop-save",children:Object(R.jsx)("a",{onClick:function(){return e.submit()},class:"btn btn-primary",children:Tt.save})})]})}}]),s}(a.a.Component),At=A.farsi,Rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.validateExistence=ee.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,id:null,upload_type:"file",file:null,progress:0,validationItems:[]},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){At=A[this.state.lang];var e=Ce.a.parse(this.props.location.search),t="",s=0;Object.keys(e).map((function(n){var a=n.split("_");a[0]&&(t=a[0].charAt(0).toUpperCase()+a[0].slice(1),s=e[n])})),this.setState({uploadable_type:t,uploadable_id:s}),this.props.match.params.id&&S("uploads",this.props.match.params.id,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Upload"===e&&this.props.history.push("/"+t.advertisable_link)}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();t&&"Upload"===e&&this.setState({id:t.id,title:t.title,uploadable_type:t.uploadable_type,uploadable_id:t.uploadable_id,editing:!0})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"changeType",value:function(e){this.setState({upload_type:e})}},{key:"fileAttacher",value:function(e){this.setState({file:e})}},{key:"submit",value:function(){var e=this;if(this.validateExistence(["title","file"])){var t=this;G()("#submit-button").hide(),G()("#submit-spinner").show(),t.setState({progressShow:!0},(function(){return console.log(e.state.progressShow)}));var s={onUploadProgress:function(e){var s=Math.round(100*e.loaded/e.total);console.log(s),t.setState({progress:s})},headers:{"Content-Type":"application/json",Authorization:"bearer "+t.state.token}},n=new FormData;n.append("upload[attached_document]",this.state.file),n.append("upload[title]",this.state.title),n.append("upload[uploadable_type]",this.state.uploadable_type),n.append("upload[uploadable_id]",this.state.uploadable_id),n.append("upload[is_private]",this.state.is_private),n.append("upload[upload_type]",this.state.upload_type),f.a.post(x+"/uploads",n,s).then((function(s){t.setState({progressShow:!1,uploadedRecently:!0});var n=s.data.data;G()("#submit-spinner").hide(),"cover"===n.upload_type?e.props.history.push("/uploads/cropper/"+n.uuid):e.props.history.push("/"+n.uploadable_link)})).catch((function(e){return t.setState({progressShow:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:At.create_upload}),Object(R.jsx)("h2",{className:"page-title",children:At.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:At.create_upload})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:At.upload_title}),Object(R.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:At.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:At.resource_type}),Object(R.jsxs)("div",{class:"form-selectgroup",children:[Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"cover",class:"form-selectgroup-input",checked:"cover"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:At.cover})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"file",class:"form-selectgroup-input",checked:"file"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:At.file})]}),Object(R.jsxs)("label",{class:"form-selectgroup-item",children:[Object(R.jsx)("input",{type:"checkbox",name:"name",value:"video",class:"form-selectgroup-input",checked:"video"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(R.jsx)("span",{class:"form-selectgroup-label",children:At.video})]})]})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:At.choose_file}),Object(R.jsx)("input",{type:"file",class:"form-control",onInput:function(t){e.fileAttacher(t.target.files[0])}})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:At.is_private}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(R.jsx)("span",{class:"form-check-label",children:At.default_is_private_upload})]})]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:At.cancel}),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:At.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:this.state.progress+"%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-md-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})]})}}]),s}(a.a.Component),Pt=s(316),Lt=x,Bt=A.farsi,Et=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.modal=a.a.createRef(),n.validateExistence=ee.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,id:null,content:null,advertisable_type:null,advertisable_id:null,quill:null,quill_content:{},editing:!1,is_default:!1,validationItems:[]},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this;Bt=A[this.state.lang];var t=this,s=Ce.a.parse(this.props.location.search),n="",a=0;Object.keys(s).map((function(e){var t=e.split("_");t[0]&&(n=t[0].charAt(0).toUpperCase()+t[0].slice(1),a=s[e])})),this.setState({advertisable_type:n,advertisable_id:a}),this.props.match.params.id&&S("flyers",this.props.match.params.id,this.state.token);fe.a.register("modules/imageUploader",Pt.a);var i=new fe.a("#editor-one",{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"ltr"},{direction:"rtl"}],["image"],["video"],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}]],imageUploader:{upload:function(t){return new Promise((function(s,n){var a=Lt+"/uploads",i=new FormData;i.append("upload[attached_document]",t);var r={headers:{"content-type":"multipart/form-data",Authorization:"bearer "+e.state.token}};f.a.post(a,i,r).then((function(e){s(e.data.data.link)})).catch((function(e){console.log(e)}))}))}}}});i.on("text-change",(function(e,s,n){"api"==n||"user"==n&&t.setState({quill_content:i.getContents(),content:i.getText()})})),this.setState({quill:i})}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Flyer"===e&&this.props.history.push("/"+t.advertisable_link)}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();s&&"Flyer"===t&&this.setState({id:s.id,title:s.title,content:s.content,advertisable_type:s.advertisable_type,advertisable_id:s.advertisable_id,quill_content:s.quill_content,is_default:s.is_default,editing:!0},(function(){console.log(e.state),e.state.quill.setContents(e.state.quill_content)}))}},{key:"submit",value:function(){var e={id:this.state.id,title:this.state.title,content:this.state.content,advertisable_type:this.state.advertisable_type,advertisable_id:this.state.advertisable_id,quill_content:this.state.quill_content,is_default:this.state.is_default};this.validateExistence(["title"])&&(G()("#submit-button").hide(),G()("#submit-spinner").show(),this.state.editing?N("flyers",e,this.state.token):I("flyers",e,this.state.token))}},{key:"changeDefault",value:function(e){console.log(e);this.state.is_default?this.setState({is_default:!1}):this.setState({is_default:!0})}},{key:"render",value:function(){var e=this,t=this.state.is_default;return Object(R.jsxs)("body",{className:"antialiased",children:[Object(R.jsx)(Q,{items:this.state.validationItems,modal:this.modal,lang:this.state.lang}),Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Bt.create_page}),Object(R.jsx)("h2",{className:"page-title",children:Bt.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:Bt.create_page})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("label",{class:"form-label",children:Bt.page_title}),Object(R.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:Bt.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[Bt.page_content,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("div",{id:"editor-one"})]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:Bt.default_page}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(R.jsx)("span",{class:"form-check-label",children:Bt.default_page_info})]})]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:Bt.cancel}),Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:Bt.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-md-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})]})}}]),s}(a.a.Component),Ut=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){I("users/validate_token",{},this.props.match.params.id)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Validate"===e&&(window.localStorage.setItem("token",t.token),this.props.history.push("/#/events"))}},{key:"render",value:function(){return null}}]),s}(a.a.Component),Ht=Object($.b)($.a),zt=x,Ft=A.farsi,Vt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),content:null,tags:[],is_private:!1,questionable_type:null,questionable_id:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){Ft=A[this.state.lang];var e=Ce.a.parse(this.props.location.search),t="",s=0;Object.keys(e).map((function(n){var a=n.split("_");a[0]&&(t=a[0].charAt(0).toUpperCase()+a[0].slice(1),s=e[n])})),this.setState({questionable_type:t,questionable_id:s})}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Question"===e&&this.props.history.push("/"+t.questionable_link)}},{key:"submit",value:function(){var e=this.state;this.state.editing||I("questions",e,this.state.token)}},{key:"tagSelected",value:function(e){var t=this,s=[];e.map((function(e){e.title?s.push(e.title):s.push(e)})),this.setState({tags:s},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(R.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(R.jsx)(Ht,{id:"event-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(zt+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var s=t.items;e.setState({options:s,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(R.jsx)("span",{class:"badge bg-red-lt",children:Ft.private})}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Ft.create_question_page}),Object(R.jsx)("h2",{className:"page-title",children:Ft.provide_following_info})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"col-md-8",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:Ft.create_question})}),Object(R.jsx)("div",{class:"card-body",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsxs)("label",{class:"form-label",children:[Ft.question_content,Object(R.jsx)("span",{class:"form-label-description"})]}),Object(R.jsx)("textarea",{class:"form-control",name:"example-textarea-input",rows:"6",placeholder:Ft.write_something,onInput:function(t){e.handleChange({content:t.target.value})},value:this.state.info})]}),Object(R.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(R.jsx)("label",{class:"form-label",children:Ft.tags}),this.tagShow()]}),Object(R.jsxs)("div",{class:"mb-3",children:[Object(R.jsx)("div",{class:"form-label",children:Ft.is_private}),Object(R.jsxs)("label",{class:"form-check form-switch",children:[Object(R.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(R.jsx)("span",{class:"form-check-label",children:Ft.default_is_private_question})]})]})]})}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("a",{href:"/#/questions",class:"btn btn-link",children:Ft.cancel}),Object(R.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:Ft.submit})]})}),Object(R.jsx)("div",{class:"progress progress-sm card-progress",children:Object(R.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(R.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(R.jsx)("div",{class:"col-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsx)("div",{class:"card-status-top bg-lime"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("h3",{class:"card-title",children:"Help"}),Object(R.jsx)("p",{})]})]})})]})})})]})]})})}}]),s}(a.a.Component),qt=s(28),Wt=s(102),Gt=window.RTCRtpTransceiver;Yt.sessions={},Yt.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||Yt.extension.isInstalled()}return!0};var Jt={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var s=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var n=new Error("NavigatorUserMediaError");n.name="You cancelled the request for permission, giving up...",s(n)}else s(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function Yt(e){if((e=e||{}).success="function"==typeof e.success?e.success:Yt.noop,e.error="function"==typeof e.error?e.error:Yt.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:Yt.noop,!Yt.initDone)return e.error("Library not initialized"),{};if(!Yt.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(Yt.log("Library initialized: "+Yt.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,s=null,n={},a=null,i=null,r=0,c=e.server;Yt.isArray(c)?(Yt.log("Multiple servers provided ("+c.length+"), will use the first that works"),c=null,i=e.server,Yt.debug(i)):0===c.indexOf("ws")?(t=!0,Yt.log("Using WebSockets to contact Janus: "+c)):(t=!1,Yt.log("Using REST API to contact Janus: "+c));var o=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],l=e.iceTransportPolicy,d=e.bundlePolicy,h=!0===e.ipv6,u=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(u=!0===e.withCredentials);var j=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(j=e.max_poll_events),j<1&&(j=1);var b=null;void 0!==e.token&&null!==e.token&&(b=e.token);var p=null;void 0!==e.apisecret&&null!==e.apisecret&&(p=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var v=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(v=e.keepAlivePeriod),isNaN(v)&&(v=25e3);var g=6e4;function m(e){var t={high:9e5,medium:3e5,low:1e5};return void 0!==e&&null!==e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(g=e.longPollTimeout),isNaN(g)&&(g=6e4);var f=!1,x=null,O={},w=this,y=0,k={};function _(){if(null!=x)if(Yt.debug("Long poll..."),f){var t=c+"/"+x+"?rid="+(new Date).getTime();j&&(t=t+"&maxev="+j),b&&(t=t+"&token="+encodeURIComponent(b)),p&&(t=t+"&apisecret="+encodeURIComponent(p)),Yt.httpAPICall(t,{verb:"GET",withCredentials:u,success:S,timeout:g,error:function(t,s){if(Yt.error(t+":",s),++y>3)return f=!1,void e.error("Lost connection to the server (is it down?)");_()}})}else Yt.warn("Is the server down? (connected=false)")}function S(e,n){if(y=0,t||void 0===x||null===x||!0===n||_(),t||!Yt.isArray(e))if("keepalive"!==e.janus)if("server_info"!==e.janus)if("ack"!==e.janus)if("success"!==e.janus)if("trickle"===e.janus){if(!(o=e.sender))return void Yt.warn("Missing sender...");if(!(d=O[o]))return void Yt.debug("This handle is not attached to this session");var a=e.candidate;Yt.debug("Got a trickled candidate on session "+x),Yt.debug(a);var i=d.webrtcStuff;i.pc&&i.remoteSdp?(Yt.debug("Adding remote candidate:",a),a&&!0!==a.completed?i.pc.addIceCandidate(a):i.pc.addIceCandidate(Yt.endOfCandidates)):(Yt.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),i.candidates||(i.candidates=[]),i.candidates.push(a),Yt.debug(i.candidates))}else{if("webrtcup"===e.janus)return Yt.debug("Got a webrtcup event on session "+x),Yt.debug(e),(o=e.sender)?(d=O[o])?void d.webrtcState(!0):void Yt.debug("This handle is not attached to this session"):void Yt.warn("Missing sender...");if("hangup"===e.janus){if(Yt.debug("Got a hangup event on session "+x),Yt.debug(e),!(o=e.sender))return void Yt.warn("Missing sender...");if(!(d=O[o]))return void Yt.debug("This handle is not attached to this session");d.webrtcState(!1,e.reason),d.hangup()}else if("detached"===e.janus){if(Yt.debug("Got a detached event on session "+x),Yt.debug(e),!(o=e.sender))return void Yt.warn("Missing sender...");if(!(d=O[o]))return;d.detached=!0,d.ondetached(),d.detach()}else if("media"===e.janus){if(Yt.debug("Got a media event on session "+x),Yt.debug(e),!(o=e.sender))return void Yt.warn("Missing sender...");if(!(d=O[o]))return void Yt.debug("This handle is not attached to this session");d.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){if(Yt.debug("Got a slowlink event on session "+x),Yt.debug(e),!(o=e.sender))return void Yt.warn("Missing sender...");if(!(d=O[o]))return void Yt.debug("This handle is not attached to this session");d.slowLink(e.uplink,e.lost)}else{if("error"===e.janus){var r,c;if(Yt.error("Ooops: "+e.error.code+" "+e.error.reason),Yt.debug(e),r=e.transaction)(c=k[r])&&c(e),delete k[r];return}if("event"===e.janus){var o;if(Yt.debug("Got a plugin event on session "+x),Yt.debug(e),!(o=e.sender))return void Yt.warn("Missing sender...");var l=e.plugindata;if(!l)return void Yt.warn("Missing plugindata...");Yt.debug("  -- Event is coming from "+o+" ("+l.plugin+")");var d,h=l.data;if(Yt.debug(h),!(d=O[o]))return void Yt.warn("This handle is not attached to this session");var u=e.jsep;u&&(Yt.debug("Handling SDP as well..."),Yt.debug(u));var j=d.onmessage;j?(Yt.debug("Notifying application..."),j(h,u)):Yt.debug("No provided notification callback")}else{if("timeout"===e.janus)return Yt.error("Timeout on session "+x),Yt.debug(e),void(t&&s.close(3504,"Gateway timeout"));Yt.warn("Unknown message/event  '"+e.janus+"' on session "+x),Yt.debug(e)}}}else Yt.debug("Got a success on session "+x),Yt.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Yt.debug("Got an ack on session "+x),Yt.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Yt.debug("Got info on the Janus instance"),Yt.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Yt.vdebug("Got a keepalive on session "+x);else for(var b=0;b<e.length;b++)S(e[b],!0)}function C(){if(c&&t&&f){a=setTimeout(C,v);var e={janus:"keepalive",session_id:x,transaction:Yt.randomString(12)};b&&(e.token=b),p&&(e.apisecret=p),s.send(JSON.stringify(e))}}function I(o){var l=Yt.randomString(12),d={janus:"create",transaction:l};if(o.reconnect&&(f=!1,d.janus="claim",d.session_id=x,s&&(s.onopen=null,s.onerror=null,s.onclose=null,a&&(clearTimeout(a),a=null))),b&&(d.token=b),p&&(d.apisecret=p),!c&&Yt.isArray(i)&&(0===(c=i[r]).indexOf("ws")?(t=!0,Yt.log("Server #"+(r+1)+": trying WebSockets to contact Janus ("+c+")")):(t=!1,Yt.log("Server #"+(r+1)+": trying REST API to contact Janus ("+c+")"))),t)for(var h in s=Yt.newWebSocket(c,"janus-protocol"),n={error:function(){if(Yt.error("Error connecting to the Janus WebSockets server... "+c),Yt.isArray(i)&&!o.reconnect)return++r===i.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){I(o)}),200));o.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){k[l]=function(e){if(Yt.debug(e),"success"!==e.janus)return Yt.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);a=setTimeout(C,v),f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?Yt.log("Claimed session: "+x):Yt.log("Created session: "+x),Yt.sessions[x]=w,o.success()},s.send(JSON.stringify(d))},message:function(e){S(JSON.parse(e.data))},close:function(){c&&f&&(f=!1,e.error("Lost connection to the server (is it down?)"))}})s.addEventListener(h,n[h]);else Yt.httpAPICall(c,{verb:"POST",withCredentials:u,body:d,success:function(e){if(Yt.debug(e),"success"!==e.janus)return Yt.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?Yt.log("Claimed session: "+x):Yt.log("Created session: "+x),Yt.sessions[x]=w,_(),o.success()},error:function(e,t){if(Yt.error(e+":",t),Yt.isArray(i)&&!o.reconnect)return++r===i.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){I(o)}),200));""===t?o.error(e+": Is the server down?"):o.error(e+": "+t)}})}function N(e,n){if((n=n||{}).success="function"==typeof n.success?n.success:Yt.noop,n.error="function"==typeof n.error?n.error:Yt.noop,!f)return Yt.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var a=O[e];if(!a||!a.webrtcStuff)return Yt.warn("Invalid handle"),void n.error("Invalid handle");var i=n.message,r=n.jsep,o=Yt.randomString(12),l={janus:"message",body:i,transaction:o};if(a.token&&(l.token=a.token),p&&(l.apisecret=p),r&&(l.jsep={type:r.type,sdp:r.sdp},r.e2ee&&(l.jsep.e2ee=!0),"hml"!==r.rid_order&&"lmh"!==r.rid_order||(l.jsep.rid_order=r.rid_order)),Yt.debug("Sending message to plugin (handle="+e+"):"),Yt.debug(l),t)return l.session_id=x,l.handle_id=e,k[o]=function(e){if(Yt.debug("Message sent!"),Yt.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Yt.warn("Request succeeded, but missing plugindata..."),void n.success();Yt.log("Synchronous transaction successful ("+t.plugin+")");var s=t.data;return Yt.debug(s),void n.success(s)}"ack"===e.janus?n.success():e.error?(Yt.error("Ooops: "+e.error.code+" "+e.error.reason),n.error(e.error.code+" "+e.error.reason)):(Yt.error("Unknown error"),n.error("Unknown error"))},void s.send(JSON.stringify(l));Yt.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:l,success:function(e){if(Yt.debug("Message sent!"),Yt.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Yt.warn("Request succeeded, but missing plugindata..."),void n.success();Yt.log("Synchronous transaction successful ("+t.plugin+")");var s=t.data;return Yt.debug(s),void n.success(s)}"ack"===e.janus?n.success():e.error?(Yt.error("Ooops: "+e.error.code+" "+e.error.reason),n.error(e.error.code+" "+e.error.reason)):(Yt.error("Unknown error"),n.error("Unknown error"))},error:function(e,t){Yt.error(e+":",t),n.error(e+": "+t)}})}function M(e,n){if(f){var a=O[e];if(a&&a.webrtcStuff){var i={janus:"trickle",candidate:n,transaction:Yt.randomString(12)};if(a.token&&(i.token=a.token),p&&(i.apisecret=p),Yt.vdebug("Sending trickle candidate (handle="+e+"):"),Yt.vdebug(i),t)return i.session_id=x,i.handle_id=e,void s.send(JSON.stringify(i));Yt.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:i,success:function(e){Yt.vdebug("Candidate sent!"),Yt.vdebug(e),"ack"===e.janus||Yt.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){Yt.error(e+":",t)}})}else Yt.warn("Invalid handle")}else Yt.warn("Is the server down? (connected=false)")}function T(e,t,s,n,a){var i=O[e];if(i&&i.webrtcStuff){var r=i.webrtcStuff;if(r.pc){var c=function(e){Yt.log("Received state change on data channel:",e);var t=e.target.label,s=e.target.protocol,n=r.dataChannel[t]?r.dataChannel[t].readyState:"null";if(Yt.log("State change on <"+t+"> data channel: "+n),"open"===n){if(r.dataChannel[t].pending&&r.dataChannel[t].pending.length>0){Yt.log("Sending pending messages on <"+t+">:",r.dataChannel[t].pending.length);var a,c=Object(qt.a)(r.dataChannel[t].pending);try{for(c.s();!(a=c.n()).done;){var o=a.value;Yt.log("Sending data on data channel <"+t+">"),Yt.debug(o),r.dataChannel[t].send(o)}}catch(l){c.e(l)}finally{c.f()}r.dataChannel[t].pending=[]}i.ondataopen(t,s)}};if(n)r.dataChannel[t]=n;else{var o={ordered:!0};s&&(o.protocol=s),r.dataChannel[t]=r.pc.createDataChannel(t,o)}r.dataChannel[t].onmessage=function(e){Yt.log("Received message on data channel:",e);var t=e.target.label;i.ondata(e.data,t)},r.dataChannel[t].onopen=c,r.dataChannel[t].onclose=c,r.dataChannel[t].onerror=function(e){Yt.error("Got error on data channel:",e)},r.dataChannel[t].pending=[],a&&r.dataChannel[t].pending.push(a)}else Yt.warn("Invalid PeerConnection")}else Yt.warn("Invalid handle")}function D(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Yt.noop,t.error="function"==typeof t.error?t.error:Yt.noop;var s=O[e];if(!s||!s.webrtcStuff)return Yt.warn("Invalid handle"),void t.error("Invalid handle");var n=s.webrtcStuff,a=t.text||t.data;if(!a)return Yt.warn("Invalid data"),void t.error("Invalid data");var i=t.label?t.label:Yt.dataChanDefaultLabel;return n.dataChannel[i]?"open"!==n.dataChannel[i].readyState?(n.dataChannel[i].pending.push(a),void t.success()):(Yt.log("Sending data on data channel <"+i+">"),Yt.debug(a),n.dataChannel[i].send(a),void t.success()):(T(e,i,t.protocol,!1,a,t.protocol),void t.success())}function A(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Yt.noop,t.error="function"==typeof t.error?t.error:Yt.noop;var s=O[e];if(!s||!s.webrtcStuff)return Yt.warn("Invalid handle"),void t.error("Invalid handle");var n=s.webrtcStuff;if(!n.dtmfSender){if(n.pc){var a=n.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!a)return Yt.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");n.dtmfSender=a.dtmf,n.dtmfSender&&(Yt.log("Created DTMF Sender"),n.dtmfSender.ontonechange=function(e){Yt.debug("Sent DTMF tone: "+e.tone)})}if(!n.dtmfSender)return Yt.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var i=t.dtmf;if(!i)return Yt.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var r=i.tones;if(!r)return Yt.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var c="number"===typeof i.duration?i.duration:500,o="number"===typeof i.gap?i.gap:50;Yt.debug("Sending DTMF string "+r+" (duration "+c+"ms, gap "+o+"ms)"),n.dtmfSender.insertDTMF(r,c,o),t.success()}function R(e,n){(n=n||{}).success="function"==typeof n.success?n.success:Yt.noop,n.error="function"==typeof n.error?n.error:Yt.noop;var a=!0===n.noRequest;Yt.log("Destroying handle "+e+" (only-locally="+a+")"),V(e);var i=O[e];if(!i||i.detached)return delete O[e],void n.success();if(a)return delete O[e],void n.success();if(!f)return Yt.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var r={janus:"detach",transaction:Yt.randomString(12)};if(i.token&&(r.token=i.token),p&&(r.apisecret=p),t)return r.session_id=x,r.handle_id=e,s.send(JSON.stringify(r)),delete O[e],void n.success();Yt.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:r,success:function(t){Yt.log("Destroyed handle:"),Yt.debug(t),"success"!==t.janus&&Yt.error("Ooops: "+t.error.code+" "+t.error.reason),delete O[e],n.success()},error:function(t,s){Yt.error(t+":",s),delete O[e],n.success()}})}function P(e,t,s,n,a){var i=O[e];if(!i||!i.webrtcStuff)return Yt.warn("Invalid handle"),n.stream||Yt.stopAllTracks(a),void n.error("Invalid handle");var r=i.webrtcStuff;Yt.debug("streamsDone:",a),a&&(Yt.debug("  -- Audio tracks:",a.getAudioTracks()),Yt.debug("  -- Video tracks:",a.getVideoTracks()));var c=!1;if(r.myStream&&s.update&&!r.streamExternal){if((!s.update&&q(s)||s.update&&(s.addAudio||s.replaceAudio))&&a.getAudioTracks()&&a.getAudioTracks().length)if(r.myStream.addTrack(a.getAudioTracks()[0]),Yt.unifiedPlan){Yt.log((s.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]);var u=null;if((p=r.pc.getTransceivers())&&p.length>0){var j,b=Object(qt.a)(p);try{for(b.s();!(j=b.n()).done;){if((x=j.value).sender&&x.sender.track&&"audio"===x.sender.track.kind||x.receiver&&x.receiver.track&&"audio"===x.receiver.track.kind){u=x;break}}}catch(S){b.e(S)}finally{b.f()}}u&&u.sender?u.sender.replaceTrack(a.getAudioTracks()[0]):r.pc.addTrack(a.getAudioTracks()[0],a)}else Yt.log((s.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]),r.pc.addTrack(a.getAudioTracks()[0],a);if((!s.update&&G(s)||s.update&&(s.addVideo||s.replaceVideo))&&a.getVideoTracks()&&a.getVideoTracks().length)if(r.myStream.addTrack(a.getVideoTracks()[0]),Yt.unifiedPlan){Yt.log((s.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]);var p,v=null;if((p=r.pc.getTransceivers())&&p.length>0){var g,f=Object(qt.a)(p);try{for(f.s();!(g=f.n()).done;){var x;if((x=g.value).sender&&x.sender.track&&"video"===x.sender.track.kind||x.receiver&&x.receiver.track&&"video"===x.receiver.track.kind){v=x;break}}}catch(S){f.e(S)}finally{f.f()}}v&&v.sender?v.sender.replaceTrack(a.getVideoTracks()[0]):r.pc.addTrack(a.getVideoTracks()[0],a)}else Yt.log((s.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]),r.pc.addTrack(a.getVideoTracks()[0],a)}else r.myStream=a,c=!0;if(!r.pc){var w={iceServers:o,iceTransportPolicy:l,bundlePolicy:d};"chrome"===Yt.webRTCAdapter.browserDetails.browser&&(w.sdpSemantics=Yt.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var y={optional:[{DtlsSrtpKeyAgreement:!0}]};if(h&&y.optional.push({googIPv6:!0}),n.rtcConstraints&&"object"===typeof n.rtcConstraints)for(var k in Yt.debug("Adding custom PeerConnection constraints:",n.rtcConstraints),n.rtcConstraints)y.optional.push(n.rtcConstraints[k]);"edge"===Yt.webRTCAdapter.browserDetails.browser&&(w.bundlePolicy="max-bundle"),RTCRtpSender&&(RTCRtpSender.prototype.createEncodedStreams||RTCRtpSender.prototype.createEncodedAudioStreams&&RTCRtpSender.prototype.createEncodedVideoStreams)&&(n.senderTransforms||n.receiverTransforms)&&(r.senderTransforms=n.senderTransforms,r.receiverTransforms=n.receiverTransforms,w.forceEncodedAudioInsertableStreams=!0,w.forceEncodedVideoInsertableStreams=!0,w.encodedInsertableStreams=!0),Yt.log("Creating PeerConnection"),Yt.debug(y),r.pc=new RTCPeerConnection(w,y),Yt.debug(r.pc),r.pc.getStats&&(r.volume={},r.bitrate.value="0 kbits/sec"),Yt.log("Preparing local SDP and gathering candidates (trickle="+r.trickle+")"),r.pc.oniceconnectionstatechange=function(e){r.pc&&i.iceState(r.pc.iceConnectionState)},r.pc.onicecandidate=function(t){if(!t.candidate||"edge"===Yt.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)Yt.log("End of candidates."),r.iceDone=!0,!0===r.trickle?M(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Yt.noop,t.error="function"==typeof t.error?t.error:Yt.noop;var s=O[e];if(!s||!s.webrtcStuff)return void Yt.warn("Invalid handle, not sending anything");var n=s.webrtcStuff;if(Yt.log("Sending offer/answer SDP..."),!n.mySdp)return void Yt.warn("Local SDP instance is invalid, not sending anything...");n.mySdp={type:n.pc.localDescription.type,sdp:n.pc.localDescription.sdp},!1===n.trickle&&(n.mySdp.trickle=!1);Yt.debug(t),n.sdpSent=!0,t.success(n.mySdp)}(e,n);else{var s={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===r.trickle&&M(e,s)}},r.pc.ontrack=function(e){if(Yt.log("Handling Remote Track"),Yt.debug(e),e.streams&&(r.remoteStream=e.streams[0],i.onremotestream(r.remoteStream),!e.track.onended)){if(r.receiverTransforms){var t=null;RTCRtpSender.prototype.createEncodedStreams?t=e.receiver.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===e.track.kind&&r.receiverTransforms.audio?t=e.receiver.createEncodedAudioStreams():"video"===e.track.kind&&r.receiverTransforms.video&&(t=e.receiver.createEncodedVideoStreams())),t&&(console.log(t),t.readableStream&&t.writableStream?t.readableStream.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writableStream):t.readable&&t.writable&&t.readable.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writable))}var s=null;Yt.log("Adding onended callback to track:",e.track),e.track.onended=function(e){Yt.log("Remote track removed:",e),r.remoteStream&&(clearTimeout(s),r.remoteStream.removeTrack(e.target),i.onremotestream(r.remoteStream))},e.track.onmute=function(e){Yt.log("Remote track muted:",e),r.remoteStream&&null==s&&(s=setTimeout((function(){Yt.log("Removing remote track"),r.remoteStream&&(r.remoteStream.removeTrack(e.target),i.onremotestream(r.remoteStream)),s=null}),2520))},e.track.onunmute=function(e){if(Yt.log("Remote track flowing again:",e),null!=s)clearTimeout(s),s=null;else try{r.remoteStream.addTrack(e.target),i.onremotestream(r.remoteStream)}catch(t){Yt.error(t)}}}}}if(c&&a){Yt.log("Adding local stream");var _=!0===n.simulcast2;a.getTracks().forEach((function(e){Yt.log("Adding local track:",e);var t=null;if(_&&"audio"!==e.kind){Yt.log("Enabling rid-based simulcasting:",e);var s=m(n.simulcastMaxBitrates),i=r.pc.addTransceiver(e,{direction:"sendrecv",streams:[a],sendEncodings:n.sendEncodings||[{rid:"h",active:!0,maxBitrate:s.high},{rid:"m",active:!0,maxBitrate:s.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:s.low,scaleResolutionDownBy:4}]});i&&(t=i.sender)}else t=r.pc.addTrack(e,a);if(t&&r.senderTransforms){var c=null;RTCRtpSender.prototype.createEncodedStreams?c=t.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===t.track.kind&&r.senderTransforms.audio?c=t.createEncodedAudioStreams():"video"===t.track.kind&&r.senderTransforms.video&&(c=t.createEncodedVideoStreams())),c&&(console.log(c),c.readableStream&&c.writableStream?c.readableStream.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writableStream):c.readable&&c.writable&&c.readable.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writable))}}))}(function(e){if(Yt.debug("isDataEnabled:",e),"edge"===Yt.webRTCAdapter.browserDetails.browser)return Yt.warn("Edge doesn't support data channels yet"),!1;return void 0!==e&&null!==e&&!0===e.data})(s)&&!r.dataChannel[Yt.dataChanDefaultLabel]&&(Yt.log("Creating default data channel"),T(e,Yt.dataChanDefaultLabel,null,!1),r.pc.ondatachannel=function(t){Yt.log("Data channel created by Janus:",t),T(e,t.channel.label,t.channel.protocol,t.channel)}),r.myStream&&i.onlocalstream(r.myStream),t?r.pc.setRemoteDescription(t).then((function(){if(Yt.log("Remote description accepted!"),r.remoteSdp=t.sdp,r.candidates&&r.candidates.length>0){for(var a=0;a<r.candidates.length;a++){var i=r.candidates[a];Yt.debug("Adding remote candidate:",i),i&&!0!==i.completed?r.pc.addIceCandidate(i):r.pc.addIceCandidate(Yt.endOfCandidates)}r.candidates=[]}!function(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:Yt.noop,s.error="function"==typeof s.error?s.error:Yt.noop,s.customizeSdp="function"==typeof s.customizeSdp?s.customizeSdp:Yt.noop;var n=O[e];if(!n||!n.webrtcStuff)return Yt.warn("Invalid handle"),void s.error("Invalid handle");var a=n.webrtcStuff,i=!0===s.simulcast;i?Yt.log("Creating answer (iceDone="+a.iceDone+", simulcast="+i+")"):Yt.log("Creating answer (iceDone="+a.iceDone+")");var r=null;if(Yt.unifiedPlan){r={};var c=null,o=null,l=a.pc.getTransceivers();if(l&&l.length>0){var d,h=Object(qt.a)(l);try{for(h.s();!(d=h.n()).done;){var u=d.value;u.sender&&u.sender.track&&"audio"===u.sender.track.kind||u.receiver&&u.receiver.track&&"audio"===u.receiver.track.kind?c||(c=u):(u.sender&&u.sender.track&&"video"===u.sender.track.kind||u.receiver&&u.receiver.track&&"video"===u.receiver.track.kind)&&(o||(o=u))}}catch(S){h.e(S)}finally{h.f()}}var j=q(t),b=W(t);if(j||b){if(j&&b){if(c)try{c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",Yt.log("Setting audio transceiver to sendrecv:",c)}catch(y){Yt.error(y)}}else if(j&&!b)try{c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",Yt.log("Setting audio transceiver to sendonly:",c))}catch(y){Yt.error(y)}else if(!j&&b)if(c)try{c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",Yt.log("Setting audio transceiver to recvonly:",c)}catch(y){Yt.error(y)}else c=a.pc.addTransceiver("audio",{direction:"recvonly"}),Yt.log("Adding recvonly audio transceiver:",c)}else if(t.removeAudio&&c)try{c.setDirection?c.setDirection("inactive"):c.direction="inactive",Yt.log("Setting audio transceiver to inactive:",c)}catch(y){Yt.error(y)}var p=G(t),v=J(t);if(p||v){if(p&&v){if(o)try{o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",Yt.log("Setting video transceiver to sendrecv:",o)}catch(y){Yt.error(y)}}else if(p&&!v){if(o)try{o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",Yt.log("Setting video transceiver to sendonly:",o)}catch(y){Yt.error(y)}}else if(!p&&v)if(o)try{o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",Yt.log("Setting video transceiver to recvonly:",o)}catch(y){Yt.error(y)}else o=a.pc.addTransceiver("video",{direction:"recvonly"}),Yt.log("Adding recvonly video transceiver:",o)}else if(t.removeVideo&&o)try{o.setDirection?o.setDirection("inactive"):o.direction="inactive",Yt.log("Setting video transceiver to inactive:",o)}catch(y){Yt.error(y)}}else r="firefox"===Yt.webRTCAdapter.browserDetails.browser||"edge"===Yt.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:W(t),offerToReceiveVideo:J(t)}:{mandatory:{OfferToReceiveAudio:W(t),OfferToReceiveVideo:J(t)}};Yt.debug(r);var g=G(t);if(g&&i&&"firefox"===Yt.webRTCAdapter.browserDetails.browser){Yt.log("Enabling Simulcasting for Firefox (RID)");var f=a.pc.getSenders()[1];Yt.log(f);var x=f.getParameters();Yt.log(x);var w=m(s.simulcastMaxBitrates);f.setParameters({encodings:s.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}]})}a.pc.createAnswer(r).then((function(e){Yt.debug(e);var t={type:e.type,sdp:e.sdp};s.customizeSdp(t),e.sdp=t.sdp,Yt.log("Setting local description"),g&&i&&("chrome"===Yt.webRTCAdapter.browserDetails.browser?Yt.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==Yt.webRTCAdapter.browserDetails.browser&&Yt.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp=e.sdp,a.pc.setLocalDescription(e).catch(s.error),a.mediaConstraints=r,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e.e2ee=!0),s.success(e)):Yt.log("Waiting for all candidates...")}),s.error)}(e,s,n)}),n.error):function(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:Yt.noop,s.error="function"==typeof s.error?s.error:Yt.noop,s.customizeSdp="function"==typeof s.customizeSdp?s.customizeSdp:Yt.noop;var n=O[e];if(!n||!n.webrtcStuff)return Yt.warn("Invalid handle"),void s.error("Invalid handle");var a=n.webrtcStuff,i=!0===s.simulcast;i?Yt.log("Creating offer (iceDone="+a.iceDone+", simulcast="+i+")"):Yt.log("Creating offer (iceDone="+a.iceDone+")");var r={};if(Yt.unifiedPlan){var c=null,o=null,l=a.pc.getTransceivers();if(l&&l.length>0){var d,h=Object(qt.a)(l);try{for(h.s();!(d=h.n()).done;){var u=d.value;u.sender&&u.sender.track&&"audio"===u.sender.track.kind||u.receiver&&u.receiver.track&&"audio"===u.receiver.track.kind?c||(c=u):(u.sender&&u.sender.track&&"video"===u.sender.track.kind||u.receiver&&u.receiver.track&&"video"===u.receiver.track.kind)&&(o||(o=u))}}catch(S){h.e(S)}finally{h.f()}}var j=q(t),b=W(t);j||b?j&&b?c&&(c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",Yt.log("Setting audio transceiver to sendrecv:",c)):j&&!b?c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",Yt.log("Setting audio transceiver to sendonly:",c)):!j&&b&&(c?(c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",Yt.log("Setting audio transceiver to recvonly:",c)):(c=a.pc.addTransceiver("audio",{direction:"recvonly"}),Yt.log("Adding recvonly audio transceiver:",c))):t.removeAudio&&c&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive",Yt.log("Setting audio transceiver to inactive:",c));var p=G(t),v=J(t);p||v?p&&v?o&&(o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",Yt.log("Setting video transceiver to sendrecv:",o)):p&&!v?o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",Yt.log("Setting video transceiver to sendonly:",o)):!p&&v&&(o?(o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",Yt.log("Setting video transceiver to recvonly:",o)):(o=a.pc.addTransceiver("video",{direction:"recvonly"}),Yt.log("Adding recvonly video transceiver:",o))):t.removeVideo&&o&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive",Yt.log("Setting video transceiver to inactive:",o))}else r.offerToReceiveAudio=W(t),r.offerToReceiveVideo=J(t);!0===s.iceRestart&&(r.iceRestart=!0);Yt.debug(r);var g=G(t);if(g&&i&&"firefox"===Yt.webRTCAdapter.browserDetails.browser){Yt.log("Enabling Simulcasting for Firefox (RID)");var f=a.pc.getSenders().find((function(e){return"video"===e.track.kind}));if(f){var x=f.getParameters();x||(x={});var w=m(s.simulcastMaxBitrates);x.encodings=s.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}],f.setParameters(x)}}a.pc.createOffer(r).then((function(e){Yt.debug(e);var t={type:e.type,sdp:e.sdp};s.customizeSdp(t),e.sdp=t.sdp,Yt.log("Setting local description"),g&&i&&("chrome"===Yt.webRTCAdapter.browserDetails.browser||"safari"===Yt.webRTCAdapter.browserDetails.browser?(Yt.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),s=!1,n=[-1],a=[-1],i=null,r=null,c=null,o=null,l=-1,d=0;d<t.length;d++){if(u=t[d].match(/m=(\w+) */)){if("video"===u[1]){if(!(n[0]<0)){l=d;break}s=!0}else if(n[0]>-1){l=d;break}}else if(s){var h=t[d].match(/a=ssrc-group:FID (\d+) (\d+)/);if(h)n[0]=h[1],a[0]=h[2],t.splice(d,1),d--;else{if(n[0]){if((b=t[d].match("a=ssrc:"+n[0]+" cname:(.+)"))&&(i=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!=t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0){l=-1,s=!1;for(d=0;d<t.length;d++){var u;if(u=t[d].match(/m=(\w+) */)){if("video"===u[1]){if(!(n[0]<0)){l=d;break}s=!0}else if(n[0]>-1){l=d;break}}else if(s){if(n[0]<0){var j=t[d].match(/a=ssrc:(\d+)/);if(j){n[0]=j[1],t.splice(d,1),d--;continue}}else{var b;if((b=t[d].match("a=ssrc:"+n[0]+" cname:(.+)"))&&(i=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!==t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0)return Yt.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;l<0&&(l=t.length);n[1]=Math.floor(4294967295*Math.random()),n[2]=Math.floor(4294967295*Math.random()),a[1]=Math.floor(4294967295*Math.random()),a[2]=Math.floor(4294967295*Math.random());for(d=0;d<n.length;d++)i&&(t.splice(l,0,"a=ssrc:"+n[d]+" cname:"+i),l++),r&&(t.splice(l,0,"a=ssrc:"+n[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+n[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+n[d]+" label:"+o),l++),i&&(t.splice(l,0,"a=ssrc:"+a[d]+" cname:"+i),l++),r&&(t.splice(l,0,"a=ssrc:"+a[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+a[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+a[d]+" label:"+o),l++);t.splice(l,0,"a=ssrc-group:FID "+n[2]+" "+a[2]),t.splice(l,0,"a=ssrc-group:FID "+n[1]+" "+a[1]),t.splice(l,0,"a=ssrc-group:FID "+n[0]+" "+a[0]),t.splice(l,0,"a=ssrc-group:SIM "+n[0]+" "+n[1]+" "+n[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n");return e}(e.sdp)):"firefox"!==Yt.webRTCAdapter.browserDetails.browser&&Yt.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp=e.sdp,a.pc.setLocalDescription(e).catch(s.error),a.mediaConstraints=r,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e.e2ee=!0),s.success(e)):Yt.log("Waiting for all candidates...")}),s.error)}(e,s,n)}function L(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:Yt.noop,s.error="function"==typeof s.error?s.error:F;var n=s.jsep;if(t&&n)return Yt.error("Provided a JSEP to a createOffer"),void s.error("Provided a JSEP to a createOffer");if(!t&&(!n||!n.type||!n.sdp))return Yt.error("A valid JSEP is required for createAnswer"),void s.error("A valid JSEP is required for createAnswer");s.media="object"===typeof s.media&&s.media?s.media:{audio:!0,video:!0};var a=s.media,i=O[e];if(!i||!i.webrtcStuff)return Yt.warn("Invalid handle"),void s.error("Invalid handle");var r,c=i.webrtcStuff;if(c.trickle=(r=s.trickle,Yt.debug("isTrickleEnabled:",r),!1!==r),c.pc){if(Yt.log("Updating existing media session"),a.update=!0,s.stream)s.stream!==c.myStream&&Yt.log("Renegotiation involves a new external stream");else{if(a.addAudio){if(a.keepAudio=!1,a.replaceAudio=!1,a.removeAudio=!1,a.audioSend=!0,c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length)return Yt.error("Can't add audio stream, there already is one"),void s.error("Can't add audio stream, there already is one")}else a.removeAudio?(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!1,a.audioSend=!1):a.replaceAudio&&(a.keepAudio=!1,a.addAudio=!1,a.removeAudio=!1,a.audioSend=!0);if(c.myStream&&c.myStream.getAudioTracks()&&0!==c.myStream.getAudioTracks().length?!q(a)||a.removeAudio||a.replaceAudio||(a.keepAudio=!0):(a.replaceAudio&&(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!0,a.audioSend=!0),q(a)&&(a.keepAudio=!1,a.addAudio=!0)),a.addVideo){if(a.keepVideo=!1,a.replaceVideo=!1,a.removeVideo=!1,a.videoSend=!0,c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length)return Yt.error("Can't add video stream, there already is one"),void s.error("Can't add video stream, there already is one")}else a.removeVideo?(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!1,a.videoSend=!1):a.replaceVideo&&(a.keepVideo=!1,a.addVideo=!1,a.removeVideo=!1,a.videoSend=!0);c.myStream&&c.myStream.getVideoTracks()&&0!==c.myStream.getVideoTracks().length?!G(a)||a.removeVideo||a.replaceVideo||(a.keepVideo=!0):(a.replaceVideo&&(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!0,a.videoSend=!0),G(a)&&(a.keepVideo=!1,a.addVideo=!0)),a.addData&&(a.data=!0)}if(q(a)&&a.keepAudio&&G(a)&&a.keepVideo)return i.consentDialog(!1),void P(e,n,a,s,c.myStream)}else a.update=!1,a.keepAudio=!1,a.keepVideo=!1;if(a.update&&!c.streamExternal){if(a.removeAudio||a.replaceAudio){if(c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length){var o=c.myStream.getAudioTracks()[0];Yt.log("Removing audio track:",o),c.myStream.removeTrack(o);try{o.stop()}catch(D){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var l=!0;if(a.replaceAudio&&Yt.unifiedPlan&&(l=!1),l){var d,h=Object(qt.a)(c.pc.getSenders());try{for(h.s();!(d=h.n()).done;){var u=d.value;u&&u.track&&"audio"===u.track.kind&&(Yt.log("Removing audio sender:",u),c.pc.removeTrack(u))}}catch(A){h.e(A)}finally{h.f()}}}}if(a.removeVideo||a.replaceVideo){if(c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length){var j=c.myStream.getVideoTracks()[0];Yt.log("Removing video track:",j),c.myStream.removeTrack(j);try{j.stop()}catch(D){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var b=!0;if(a.replaceVideo&&Yt.unifiedPlan&&(b=!1),b){var p,v=Object(qt.a)(c.pc.getSenders());try{for(v.s();!(p=v.n()).done;){var g=p.value;g&&g.track&&"video"===g.track.kind&&(Yt.log("Removing video sender:",g),c.pc.removeTrack(g))}}catch(A){v.e(A)}finally{v.f()}}}}}if(s.stream){var m=s.stream;return Yt.log("MediaStream provided by the application"),Yt.debug(m),a.update&&c.myStream&&c.myStream!==s.stream&&!c.streamExternal&&(Yt.stopAllTracks(c.myStream),c.myStream=null),c.streamExternal=!0,i.consentDialog(!1),void P(e,n,a,s,m)}if(q(a)||G(a)){if(!Yt.isGetUserMediaAvailable())return void s.error("getUserMedia not available");var f={mandatory:{},optional:[]};i.consentDialog(!0);var x=q(a);x&&a&&"object"===typeof a.audio&&(x=a.audio);var w=G(a);if(w&&a){var y=!0===s.simulcast,k=!0===s.simulcast2;if(!y&&!k||n||a.video||(a.video="hires"),a.video&&"screen"!=a.video&&"window"!=a.video)if("object"===typeof a.video)w=a.video;else{var _=0,S=0;"lowres"===a.video?(S=240,240,_=320):"lowres-16:9"===a.video?(S=180,180,_=320):"hires"===a.video||"hires-16:9"===a.video||"hdres"===a.video?(S=720,720,_=1280):"fhdres"===a.video?(S=1080,1080,_=1920):"4kres"===a.video?(S=2160,2160,_=3840):"stdres"===a.video?(S=480,480,_=640):"stdres-16:9"===a.video?(S=360,360,_=640):(Yt.log("Default video setting is stdres 4:3"),S=480,480,_=640),Yt.log("Adding media constraint:",a.video),w={height:{ideal:S},width:{ideal:_}},Yt.log("Adding video constraint:",w)}else if("screen"===a.video||"window"===a.video){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return f.video={},a.screenshareFrameRate&&(f.video.frameRate=a.screenshareFrameRate),a.screenshareHeight&&(f.video.height=a.screenshareHeight),a.screenshareWidth&&(f.video.width=a.screenshareWidth),f.audio=a.captureDesktopAudio,void navigator.mediaDevices.getDisplayMedia(f).then((function(t){i.consentDialog(!1),q(a)&&!a.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(i){t.addTrack(i.getAudioTracks()[0]),P(e,n,a,s,t)})):P(e,n,a,s,t)}),(function(e){i.consentDialog(!1),s.error(e)}));function C(t,r){i.consentDialog(!1),t?s.error(t):P(e,n,a,s,r)}function I(e,t,s){Yt.log("Adding media constraint (screen capture)"),Yt.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){s?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(s){e.addTrack(s.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){i.consentDialog(!1),t(e)}))}if("chrome"===Yt.webRTCAdapter.browserDetails.browser){var N=Yt.webRTCAdapter.browserDetails.version,M=33;window.navigator.userAgent.match("Linux")&&(M=35),N>=26&&N<=M?I(f={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate,chromeMediaSource:"screen"}},audio:q(a)&&!a.keepAudio},C):Yt.extension.getScreen((function(e,t){if(e)return i.consentDialog(!1),s.error(e);(f={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,I(f,C,q(a)&&!a.keepAudio)}))}else if("firefox"===Yt.webRTCAdapter.browserDetails.browser){if(!(Yt.webRTCAdapter.browserDetails.version>=33)){var T=new Error("NavigatorUserMediaError");return T.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",i.consentDialog(!1),void s.error(T)}I(f={video:{mozMediaSource:a.video,mediaSource:a.video},audio:q(a)&&!a.keepAudio},(function(e,t){if(C(e,t),!e)var s=t.currentTime,n=window.setInterval((function(){t||window.clearInterval(n),t.currentTime==s&&(window.clearInterval(n),t.onended&&t.onended()),s=t.currentTime}),500)}))}return}}a&&"screen"===a.video||navigator.mediaDevices.enumerateDevices().then((function(t){var r=t.some((function(e){return"audioinput"===e.kind})),c=function(e){if(Yt.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!==typeof e.video||"object"!==typeof e.video.mandatory)return!1;var t=e.video.mandatory;if(t.chromeMediaSource)return"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource;if(t.mozMediaSource)return"window"===t.mozMediaSource||"screen"===t.mozMediaSource;if(t.mediaSource)return"window"===t.mediaSource||"screen"===t.mediaSource;return!1}(a)||t.some((function(e){return"videoinput"===e.kind})),o=q(a),l=G(a),d=function(e){return Yt.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}(a),h=function(e){return Yt.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}(a);if(o||l||d||h){var u=!!o&&r,j=!!l&&c;if(!u&&!j)return i.consentDialog(!1),s.error("No capture device found"),!1;if(!u&&d)return i.consentDialog(!1),s.error("Audio capture is required, but no capture device found"),!1;if(!j&&h)return i.consentDialog(!1),s.error("Video capture is required, but no capture device found"),!1}var b={audio:!(!r||a.keepAudio)&&x,video:!(!c||a.keepVideo)&&w};Yt.debug("getUserMedia constraints",b),b.audio||b.video?navigator.mediaDevices.getUserMedia(b).then((function(t){i.consentDialog(!1),P(e,n,a,s,t)})).catch((function(e){i.consentDialog(!1),s.error({code:e.code,name:e.name,message:e.message})})):(i.consentDialog(!1),P(e,n,a,s,m))})).catch((function(e){i.consentDialog(!1),s.error(e)}))}else P(e,n,a,s)}function B(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Yt.noop,t.error="function"==typeof t.error?t.error:F;var s=t.jsep,n=O[e];if(!n||!n.webrtcStuff)return Yt.warn("Invalid handle"),void t.error("Invalid handle");var a=n.webrtcStuff;if(s){if(!a.pc)return Yt.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");a.pc.setRemoteDescription(s).then((function(){if(Yt.log("Remote description accepted!"),a.remoteSdp=s.sdp,a.candidates&&a.candidates.length>0){for(var e=0;e<a.candidates.length;e++){var n=a.candidates[e];Yt.debug("Adding remote candidate:",n),n&&!0!==n.completed?a.pc.addIceCandidate(n):a.pc.addIceCandidate(Yt.endOfCandidates)}a.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function E(e,t){var s=O[e];if(!s||!s.webrtcStuff)return Yt.warn("Invalid handle"),0;var n=t?"remote":"local",a=s.webrtcStuff;return a.volume[n]||(a.volume[n]={value:0}),!a.pc.getStats||"chrome"!==Yt.webRTCAdapter.browserDetails.browser&&"safari"!==Yt.webRTCAdapter.browserDetails.browser?(Yt.warn("Getting the "+n+" volume unsupported by browser"),0):t&&!a.remoteStream?(Yt.warn("Remote stream unavailable"),0):t||a.myStream?a.volume[n].timer?a.volume[n].value:(Yt.log("Starting "+n+" volume monitor"),a.volume[n].timer=setInterval((function(){a.pc.getStats().then((function(e){e.forEach((function(e){e&&"audio"===e.kind&&(t&&!e.remoteSource||!t&&"media-source"!==e.type||(a.volume[n].value=e.audioLevel?e.audioLevel:0))}))}))}),200),0):(Yt.warn("Local stream unavailable"),0)}function U(e,t){var s=O[e];if(!s||!s.webrtcStuff)return Yt.warn("Invalid handle"),!0;var n=s.webrtcStuff;return n.pc?n.myStream?t?n.myStream.getVideoTracks()&&0!==n.myStream.getVideoTracks().length?!n.myStream.getVideoTracks()[0].enabled:(Yt.warn("No video track"),!0):n.myStream.getAudioTracks()&&0!==n.myStream.getAudioTracks().length?!n.myStream.getAudioTracks()[0].enabled:(Yt.warn("No audio track"),!0):(Yt.warn("Invalid local MediaStream"),!0):(Yt.warn("Invalid PeerConnection"),!0)}function H(e,t,s){var n=O[e];if(!n||!n.webrtcStuff)return Yt.warn("Invalid handle"),!1;var a=n.webrtcStuff;return a.pc?a.myStream?t?a.myStream.getVideoTracks()&&0!==a.myStream.getVideoTracks().length?(a.myStream.getVideoTracks()[0].enabled=!s,!0):(Yt.warn("No video track"),!1):a.myStream.getAudioTracks()&&0!==a.myStream.getAudioTracks().length?(a.myStream.getAudioTracks()[0].enabled=!s,!0):(Yt.warn("No audio track"),!1):(Yt.warn("Invalid local MediaStream"),!1):(Yt.warn("Invalid PeerConnection"),!1)}function z(e){var t=O[e];if(!t||!t.webrtcStuff)return Yt.warn("Invalid handle"),"Invalid handle";var s=t.webrtcStuff;return s.pc?s.pc.getStats?s.bitrate.timer?s.bitrate.value:(Yt.log("Starting bitrate timer (via getStats)"),s.bitrate.timer=setInterval((function(){s.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(s.bitrate.bsnow=e.bytesReceived,s.bitrate.tsnow=e.timestamp,null===s.bitrate.bsbefore||null===s.bitrate.tsbefore)s.bitrate.bsbefore=s.bitrate.bsnow,s.bitrate.tsbefore=s.bitrate.tsnow;else{var n=s.bitrate.tsnow-s.bitrate.tsbefore;"safari"===Yt.webRTCAdapter.browserDetails.browser&&(n/=1e3);var a=Math.round(8*(s.bitrate.bsnow-s.bitrate.bsbefore)/n);"safari"===Yt.webRTCAdapter.browserDetails.browser&&(a=parseInt(a/1e3)),s.bitrate.value=a+" kbits/sec",s.bitrate.bsbefore=s.bitrate.bsnow,s.bitrate.tsbefore=s.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):(Yt.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function F(e){Yt.error("WebRTC error:",e)}function V(e,n){Yt.log("Cleaning WebRTC stuff");var a=O[e];if(a){var i=a.webrtcStuff;if(i){if(!0===n){var r={janus:"hangup",transaction:Yt.randomString(12)};a.token&&(r.token=a.token),p&&(r.apisecret=p),Yt.debug("Sending hangup request (handle="+e+"):"),Yt.debug(r),t?(r.session_id=x,r.handle_id=e,s.send(JSON.stringify(r))):Yt.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:r})}i.remoteStream=null,i.volume&&(i.volume.local&&i.volume.local.timer&&clearInterval(i.volume.local.timer),i.volume.remote&&i.volume.remote.timer&&clearInterval(i.volume.remote.timer)),i.volume={},i.bitrate.timer&&clearInterval(i.bitrate.timer),i.bitrate.timer=null,i.bitrate.bsnow=null,i.bitrate.bsbefore=null,i.bitrate.tsnow=null,i.bitrate.tsbefore=null,i.bitrate.value=null,!i.streamExternal&&i.myStream&&(Yt.log("Stopping local stream tracks"),Yt.stopAllTracks(i.myStream)),i.streamExternal=!1,i.myStream=null;try{i.pc.close()}catch(o){}i.pc=null,i.candidates=null,i.mySdp=null,i.remoteSdp=null,i.iceDone=!1,i.dataChannel={},i.dtmfSender=null,i.senderTransforms=null,i.receiverTransforms=null}a.oncleanup()}}function q(e){return Yt.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function W(e){return Yt.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function G(e){return Yt.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function J(e){return Yt.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}I(e),this.getServer=function(){return c},this.isConnected=function(){return f},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:Yt.noop,e.error="function"==typeof e.error?e.error:Yt.noop,e.reconnect=!0,I(e)},this.getSessionId=function(){return x},this.getInfo=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:Yt.noop,e.error="function"==typeof e.error?e.error:Yt.noop,Yt.log("Getting info on Janus instance"),!f)return Yt.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=Yt.randomString(12),a={janus:"info",transaction:n};b&&(a.token=b);p&&(a.apisecret=p);if(t)return k[n]=function(t){Yt.log("Server info:"),Yt.debug(t),"server_info"!==t.janus&&Yt.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},void s.send(JSON.stringify(a));Yt.httpAPICall(c,{verb:"POST",withCredentials:u,body:a,success:function(t){Yt.log("Server info:"),Yt.debug(t),"server_info"!==t.janus&&Yt.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},error:function(t,s){Yt.error(t+":",s),""===s?e.error(t+": Is the server down?"):e.error(t+": "+s)}})}(e)},this.destroy=function(i){!function(i){(i=i||{}).success="function"==typeof i.success?i.success:Yt.noop,i.error="function"==typeof i.error?i.error:Yt.noop;var r=!0===i.unload,o=!0;void 0!==i.notifyDestroyed&&null!==i.notifyDestroyed&&(o=!0===i.notifyDestroyed);var l=!0===i.cleanupHandles;if(Yt.log("Destroying session "+x+" (unload="+r+")"),!x)return Yt.warn("No session to destroy"),i.success(),void(o&&e.destroyed());if(l)for(var d in O)R(d,{noRequest:!0});if(!f)return Yt.warn("Is the server down? (connected=false)"),x=null,void i.success();var h={janus:"destroy",transaction:Yt.randomString(12)};b&&(h.token=b);p&&(h.apisecret=p);if(r)return t?(s.onclose=null,s.close(),s=null):navigator.sendBeacon(c+"/"+x,JSON.stringify(h)),Yt.log("Destroyed session:"),x=null,f=!1,i.success(),void(o&&e.destroyed());if(t){h.session_id=x;var j=function(){for(var e in n)s.removeEventListener(e,n[e]);s.removeEventListener("message",v),s.removeEventListener("error",g),a&&clearTimeout(a),s.close()},v=function(t){var s=JSON.parse(t.data);s.session_id==h.session_id&&s.transaction==h.transaction&&(j(),i.success(),o&&e.destroyed())},g=function(t){j(),i.error("Failed to destroy the server: Is the server down?"),o&&e.destroyed()};return s.addEventListener("message",v),s.addEventListener("error",g),void(1===s.readyState?s.send(JSON.stringify(h)):g())}Yt.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:u,body:h,success:function(t){Yt.log("Destroyed session:"),Yt.debug(t),x=null,f=!1,"success"!==t.janus&&Yt.error("Ooops: "+t.error.code+" "+t.error.reason),i.success(),o&&e.destroyed()},error:function(t,s){Yt.error(t+":",s),x=null,f=!1,i.success(),o&&e.destroyed()}})}(i)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:Yt.noop,e.error="function"==typeof e.error?e.error:Yt.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:Yt.noop,e.iceState="function"==typeof e.iceState?e.iceState:Yt.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:Yt.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:Yt.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:Yt.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:Yt.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:Yt.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:Yt.noop,e.ondata="function"==typeof e.ondata?e.ondata:Yt.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:Yt.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:Yt.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:Yt.noop,!f)return Yt.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=e.plugin;if(!n)return Yt.error("Invalid plugin"),void e.error("Invalid plugin");var a=e.opaqueId,i=e.token?e.token:b,r=Yt.randomString(12),o={janus:"attach",plugin:n,opaque_id:a,transaction:r};i&&(o.token=i);p&&(o.apisecret=p);if(t)return k[r]=function(t){if(Yt.debug(t),"success"!==t.janus)return Yt.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var s=t.data.id;Yt.log("Created handle: "+s);var a={session:w,plugin:n,id:s,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return s},getPlugin:function(){return n},getVolume:function(){return E(s,!0)},getRemoteVolume:function(){return E(s,!0)},getLocalVolume:function(){return E(s,!1)},isAudioMuted:function(){return U(s,!1)},muteAudio:function(){return H(s,!1,!0)},unmuteAudio:function(){return H(s,!1,!1)},isVideoMuted:function(){return U(s,!0)},muteVideo:function(){return H(s,!0,!0)},unmuteVideo:function(){return H(s,!0,!1)},getBitrate:function(){return z(s)},send:function(e){N(s,e)},data:function(e){D(s,e)},dtmf:function(e){A(s,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){L(s,!0,e)},createAnswer:function(e){L(s,!1,e)},handleRemoteJsep:function(e){B(s,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(s,!0===e)},detach:function(e){R(s,e)}};O[s]=a,e.success(a)},o.session_id=x,void s.send(JSON.stringify(o));Yt.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:u,body:o,success:function(t){if(Yt.debug(t),"success"!==t.janus)return Yt.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var s=t.data.id;Yt.log("Created handle: "+s);var a={session:w,plugin:n,id:s,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return s},getPlugin:function(){return n},getVolume:function(){return E(s,!0)},getRemoteVolume:function(){return E(s,!0)},getLocalVolume:function(){return E(s,!1)},isAudioMuted:function(){return U(s,!1)},muteAudio:function(){return H(s,!1,!0)},unmuteAudio:function(){return H(s,!1,!1)},isVideoMuted:function(){return U(s,!0)},muteVideo:function(){return H(s,!0,!0)},unmuteVideo:function(){return H(s,!0,!1)},getBitrate:function(){return z(s)},send:function(e){N(s,e)},data:function(e){D(s,e)},dtmf:function(e){A(s,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){L(s,!0,e)},createAnswer:function(e){L(s,!1,e)},handleRemoteJsep:function(e){B(s,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(s,!0===e)},detach:function(e){R(s,e)}};O[s]=a,e.success(a)},error:function(t,s){Yt.error(t+":",s),""===s?e.error(t+": Is the server down?"):e.error(t+": "+s)}})}(e)}}Yt.UseDefaultDependencies=function(e){var t=e&&e.fetch||fetch,s=e&&e.Promise||Promise,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},extension:e&&e.extension||Jt,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||Wt.a,httpAPICall:function(e,n){var a={method:n.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===n.verb&&(a.headers["Content-Type"]="application/json"),void 0!==n.withCredentials&&(a.credentials=!0===n.withCredentials?"include":n.withCredentials?n.withCredentials:"omit"),n.body&&(a.body=JSON.stringify(n.body));var i=t(e,a).catch((function(e){return s.reject({message:"Probably a network error, is the server down?",error:e})}));if(n.timeout){var r=new s((function(e,t){var s=setTimeout((function(){return clearTimeout(s),t({message:"Request timed out",timeout:n.timeout})}),n.timeout)}));i=s.race([i,r])}return i.then((function(e){return e.ok?typeof n.success===typeof Yt.noop?e.json().then((function(e){n.success(e)})).catch((function(t){return s.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:s.reject({message:"API call failed",response:e})})).catch((function(e){typeof n.error===typeof Yt.noop&&n.error(e.message||"<< internal error >>",e)})),i}}},Yt.useOldDependencies=function(e){var t=e&&e.jQuery||G.a,s=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new s(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||Jt,webRTCAdapter:e&&e.adapter||Wt.a,httpAPICall:function(e,s){var n=void 0!==s.body?{contentType:"application/json",data:JSON.stringify(s.body)}:{},a=void 0!==s.withCredentials?{xhrFields:{withCredentials:s.withCredentials}}:{};return t.ajax(t.extend(n,a,{url:e,type:s.verb,cache:!1,dataType:"json",async:s.async,timeout:s.timeout,success:function(e){typeof s.success===typeof Yt.noop&&s.success(e)},error:function(e,t,n){typeof s.error===typeof Yt.noop&&s.error(t,n)}}))}}},Yt.noop=function(){},Yt.dataChanDefaultLabel="JanusDataChannel",Yt.endOfCandidates=null,Yt.stopAllTracks=function(e){try{var t,s=e.getTracks(),n=Object(qt.a)(s);try{for(n.s();!(t=n.n()).done;){var a=t.value;Yt.log(a),a&&a.stop()}}catch(i){n.e(i)}finally{n.f()}}catch(r){}},Yt.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:Yt.noop,Yt.initDone)e.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),Yt.trace=Yt.noop,Yt.debug=Yt.noop,Yt.vdebug=Yt.noop,Yt.log=Yt.noop,Yt.warn=Yt.noop,Yt.error=Yt.noop,!0===e.debug||"all"===e.debug)Yt.trace=console.trace.bind(console),Yt.debug=console.debug.bind(console),Yt.vdebug=console.debug.bind(console),Yt.log=console.log.bind(console),Yt.warn=console.warn.bind(console),Yt.error=console.error.bind(console);else if(Array.isArray(e.debug)){var t,s=Object(qt.a)(e.debug);try{for(s.s();!(t=s.n()).done;){var n=t.value;switch(n){case"trace":Yt.trace=console.trace.bind(console);break;case"debug":Yt.debug=console.debug.bind(console);break;case"vdebug":Yt.vdebug=console.debug.bind(console);break;case"log":Yt.log=console.log.bind(console);break;case"warn":Yt.warn=console.warn.bind(console);break;case"error":Yt.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+n+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}}catch(u){s.e(u)}finally{s.f()}}Yt.log("Initializing library");var a=e.dependencies||Yt.UseDefaultDependencies();Yt.isArray=a.isArray,Yt.webRTCAdapter=a.webRTCAdapter,Yt.httpAPICall=a.httpAPICall,Yt.newWebSocket=a.newWebSocket,Yt.extension=a.extension,Yt.extension.init(),Yt.listDevices=function(e,t){e="function"==typeof e?e:Yt.noop,null==t&&(t={audio:!0,video:!0}),Yt.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(s){Yt.debug(s),e(s),Yt.stopAllTracks(t)}))})).catch((function(t){Yt.error(t),e([])})):(Yt.warn("navigator.mediaDevices unavailable"),e([]))},Yt.attachMediaStream=function(e,t){try{e.srcObject=t}catch(s){try{e.src=URL.createObjectURL(t)}catch(s){Yt.error("Error attaching stream to element")}}},Yt.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(s){try{e.src=t.src}catch(s){Yt.error("Error reattaching stream to element")}}};var i=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",r=window["on"+i];if(window.addEventListener(i,(function(e){for(var t in Yt.log("Closing window"),Yt.sessions)Yt.sessions[t]&&Yt.sessions[t].destroyOnUnload&&(Yt.log("Destroying session "+t),Yt.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));r&&"function"==typeof r&&r()})),Yt.safariVp8=!1,"safari"===Yt.webRTCAdapter.browserDetails.browser&&Yt.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){var c,o=Object(qt.a)(RTCRtpSender.getCapabilities("video").codecs);try{for(o.s();!(c=o.n()).done;){var l=c.value;if(l&&l.mimeType&&"video/vp8"===l.mimeType.toLowerCase()){Yt.safariVp8=!0;break}}}catch(u){o.e(u)}finally{o.f()}Yt.safariVp8?Yt.log("This version of Safari supports VP8"):Yt.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var d=new RTCPeerConnection({});d.createOffer({offerToReceiveVideo:!0}).then((function(e){Yt.safariVp8=-1!==e.sdp.indexOf("VP8"),Yt.safariVp8?Yt.log("This version of Safari supports VP8"):Yt.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),d.close(),d=null}))}if(Yt.unifiedPlan=!1,"firefox"===Yt.webRTCAdapter.browserDetails.browser&&Yt.webRTCAdapter.browserDetails.version>=59)Yt.unifiedPlan=!0;else if("chrome"===Yt.webRTCAdapter.browserDetails.browser&&Yt.webRTCAdapter.browserDetails.version>=72)Yt.unifiedPlan=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in Gt.prototype){var h=new RTCPeerConnection;try{h.addTransceiver("audio"),Yt.unifiedPlan=!0}catch(j){}h.close()}else Yt.unifiedPlan=!1;Yt.initDone=!0,e.callback()}},Yt.isWebrtcSupported=function(){return!!window.RTCPeerConnection},Yt.isGetUserMediaAvailable=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},Yt.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="",n=0;n<e;n++){var a=Math.floor(Math.random()*t.length);s+=t.substring(a,a+1)}return s};var Kt=Yt,Zt=s(313),Qt=s(37);function Xt(e){var t=this;console.log("Trying to connect to",e),Kt.init({debug:"all",callback:function(){var s=new Kt({server:t.state.server,iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"turn:sync1.ut.ac.ir:3478",username:"shafiei",credential:"12345678"}],success:function(){s.attach({plugin:"janus.plugin.audiobridge",opaqueId:t.state.opaqueId,success:function(n){t.setState({mixertest:n,janus:s}),Kt.log("Plugin attached! ("+t.state.mixertest.getPlugin()+", id="+t.state.mixertest.getId()+")"),t.registerUsername(e)},error:function(e){Kt.error("  -- Error attaching plugin...",e)},consentDialog:function(e){Kt.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){Kt.log("ICE state changed to "+e)},mediaState:function(e,t){Kt.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){Kt.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},onmessage:function(e,s){Kt.debug(" ::: Got a message :::",e);var n=e.audiobridge;if(Kt.debug("Event: "+n),n)if("talking"==n&&t.participantChangeStatus(e.id,!0),"stopped-talking"==n&&t.participantChangeStatus(e.id,!1),"joined"===n){var a=t.currentRole();if(e.id&&(t.setState({myid:e.id}),console.log("Successfully joined room "+e.room+" with ID "+t.state.myid+"with role:"+t.currentRole()),t.addParticipant(e.id,t.state.fullname+"\xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+a),t.state.webrtcUp||(t.setState({webrtcUp:!0}),t.joinAudioRoom())),e.participants){var i=e.participants;for(var r in Kt.debug("Got a list of participants:",i),i){var c=i[r].id,o=i[r].display,l=i[r].setup,d=i[r].muted;t.addParticipant(i[r].id,i[r].display)}}}else if("roomchanged"===n){if(t.setState({myid:e.id}),Kt.log("Moved to room "+e.room+", new ID: "+t.state.myid),e.participants){i=e.participants;for(var r in console.log(">>>>>>>>>>>>>>>"),console.log("Got a list of participants:",i),i){console.log(i[r]);c=i[r].id,o=i[r].display,l=i[r].setup,d=i[r].muted,a=t.currentRole();t.addParticipant(e.id,t.state.fullname+"\xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+a),Kt.debug("  >> ["+c+"] "+o+" (setup="+l+", muted="+d+")")}}}else if("destroyed"===n)Kt.warn("The room has been destroyed!");else if("event"===n){if(e.participants){i=e.participants;for(var r in Kt.debug("Got a list of participants:",i),i){console.log(i[r]);c=i[r].id,o=i[r].display,l=i[r].setup,d=i[r].muted,i[r].talking;Kt.debug("  >> ["+c+"] "+o+" (setup="+l+", muted="+d+")"),d&&t.participantChangeStatus(i[r].id,!1),t.addParticipant(i[r].id,i[r].display)}}else if(e.error)return void e.error_code;if(e.leaving){var h=e.leaving;t.removeParticipant(h),Kt.log("Participant left: "+h+" elements with ID #rp"+h+")")}}s&&(Kt.debug("Handling SDP as well...",s),t.state.mixertest.handleRemoteJsep({jsep:s}))},onlocalstream:function(e){Kt.debug(" ::: Got a local stream :::",e),t.setState({localStream:e})},onremotestream:function(e){0===G()("#roomaudio").length&&G()("#mixedaudio").append('<audio class="rounded centered" id="roomaudio"  width="100%" height="100%" autoplay/>'),Kt.attachMediaStream(document.getElementById("roomaudio"),e),console.log("stream",e,"attached to",G()("#mixedaudio")),t.setState({remoteStream:e})},oncleanup:function(){Kt.log(" ::: Got a cleanup notification :::")}})},error:function(e){},destroyed:function(){window.location.reload()}})}})}function $t(){var e=this;e.state.mixertest.createOffer({media:{video:!1,audio:{echoCancellation:!0,deviceId:e.state.microphoneDevice}},success:function(t){Kt.debug("Got SDP!",t);var s={request:"configure",muted:e.state.muted};e.state.mixertest.send({message:s,jsep:t})},error:function(t){console.error("WebRTC error:",t),e.setState({errorMessage:t.message}),e.joinAudioRoomWOMic()}})}function es(){console.log("Connecting without Mic ....");var e=this;e.state.mixertest.createOffer({media:{video:!1,audioSend:!1,audioRecv:!0},success:function(t){Kt.debug("Got SDP!",t);e.state.mixertest.send({message:{request:"configure",muted:!0},jsep:t})},error:function(t){console.error("WebRTC error:",t),e.setState({errorMessage:t.message})}})}function ts(e){var t=this,s=this.currentRole();console.log("registering user to audiobridge to room ",parseInt(e)," with role ",s);var n={request:"join",room:parseInt(e),pin:t.state.pin,display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+s};t.state.mixertest.send({message:n}),t.setState({myId:t.state.mixertest.id,role:s})}function ss(e){var t=this,s=this.currentRole();console.log("changing role to ..",s,parseInt(e));var n={request:"configure",room:parseInt(e),pin:t.state.vpin,display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+s};t.state.mixertest.send({message:n}),t.setState({myId:t.state.mixertest.id,role:s}),t.changeOwn(t.state.userUUID,s)}function ns(){var e="listener";return this.state.is_speaker&&(e="speaker"),this.state.is_presenter&&(e="presenter"),this.state.is_moderator&&(e="moderator"),e}function as(e){this.setState({participants:this.state.participants.filter((function(t){return t.id!==e}))})}function is(e,t){var s=this,n=t.split("\xa7");n.length>4&&this.exisitingParticipant(n[1])?s.setState({participants:s.state.participants.concat({id:e,display:n[0],uuid:n[1],userColor:n[2],initials:n[3],role:n[4],current:"stopped-talking"})}):s.changeParticipant(e,t)}function rs(e){return 0===this.state.participants.filter((function(t){return t.uuid===e})).length}function cs(e,t){var s=this,n=s.state.participants.filter((function(t){return t.uuid===e}));n&&n.length>0&&s.setState({participants:s.state.participants.filter((function(t){return t.uuid!==e}))},(function(){n[0].role=t,s.setState({participants:s.state.participants.concat(n[0])})}))}function os(e,t){var s=this,n=t.split("\xa7");n[1]&&n[4]&&(s.setState({participants:s.state.participants.filter((function(e){return e.uuid!==n[1]}))},(function(){s.setState({participants:s.state.participants.concat({id:e,display:n[0],uuid:n[1],userColor:n[2],initials:n[3],role:n[4],current:"stopped-talking"})})})),console.log("Adding Participants ...",n[0],n[4]))}function ls(e){var t=this.state.participants.filter((function(t){return t.uuid===e}));return 0===t.length?"":t[0].display}function ds(e,t){this.setState((function(s){return{talking:Object(Qt.a)(Object(Qt.a)({},s.talking),{},Object(D.a)({},e,t))}}))}function hs(e,t){this.setState((function(s){return{participantRoom:Object(Qt.a)(Object(Qt.a)({},s.participantRoom),{},Object(D.a)({},e,t))}}))}function us(){var e=this,t=this;this.setState({muted:!this.state.muted},(function(){t.state.mixertest.send({message:{request:"configure",muted:t.state.muted}}),e.state.muted?(G()("#microphone-on").show(),G()("#microphone-off").hide(),G()("#microphone-off").css("color","initial")):(G()("#microphone-off").show(),G()("#microphone-off").css("color","black"),G()("#microphone-on").hide()),console.log("muted",e.state.muted,e.state.myId)})),t.participantChangeStatus(this.state.myId,!1)}function js(){this.state.mixertest.send({message:{request:"configure",muted:!0}}),this.participantChangeStatus(this.state.myId,!1)}function bs(){console.log("exitAudioRoom"),this.state.mixertest&&(console.log("exitAudioRoom"),this.state.mixertest.send({message:{request:"leave"}}))}var ps=window.RTCRtpTransceiver;gs.sessions={},gs.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||gs.extension.isInstalled()}return!0};var vs={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var s=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var n=new Error("NavigatorUserMediaError");n.name="You cancelled the request for permission, giving up...",s(n)}else s(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function gs(e){if((e=e||{}).success="function"==typeof e.success?e.success:gs.noop,e.error="function"==typeof e.error?e.error:gs.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:gs.noop,!gs.initDone)return e.error("Library not initialized"),{};if(!gs.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(gs.log("Library initialized: "+gs.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,s=null,n={},a=null,i=null,r=0,c=e.server;gs.isArray(c)?(gs.log("Multiple servers provided ("+c.length+"), will use the first that works"),c=null,i=e.server,gs.debug(i)):0===c.indexOf("ws")?(t=!0,gs.log("Using WebSockets to contact Janus: "+c)):(t=!1,gs.log("Using REST API to contact Janus: "+c));var o=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],l=e.iceTransportPolicy,d=e.bundlePolicy,h=!0===e.ipv6,u=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(u=!0===e.withCredentials);var j=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(j=e.max_poll_events),j<1&&(j=1);var b=null;void 0!==e.token&&null!==e.token&&(b=e.token);var p=null;void 0!==e.apisecret&&null!==e.apisecret&&(p=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var v=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(v=e.keepAlivePeriod),isNaN(v)&&(v=25e3);var g=6e4;function m(e){var t={high:9e5,medium:3e5,low:1e5};return void 0!==e&&null!==e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(g=e.longPollTimeout),isNaN(g)&&(g=6e4);var f=!1,x=null,O={},w=this,y=0,k={};function _(){if(null!=x)if(gs.debug("Long poll..."),f){var t=c+"/"+x+"?rid="+(new Date).getTime();j&&(t=t+"&maxev="+j),b&&(t=t+"&token="+encodeURIComponent(b)),p&&(t=t+"&apisecret="+encodeURIComponent(p)),gs.httpAPICall(t,{verb:"GET",withCredentials:u,success:S,timeout:g,error:function(t,s){if(gs.error(t+":",s),++y>3)return f=!1,void e.error("Lost connection to the server (is it down?)");_()}})}else gs.warn("Is the server down? (connected=false)")}function S(e,n){if(y=0,t||void 0===x||null===x||!0===n||_(),t||!gs.isArray(e))if("keepalive"!==e.janus)if("server_info"!==e.janus)if("ack"!==e.janus)if("success"!==e.janus)if("trickle"===e.janus){if(!(o=e.sender))return void gs.warn("Missing sender...");if(!(d=O[o]))return void gs.debug("This handle is not attached to this session");var a=e.candidate;gs.debug("Got a trickled candidate on session "+x),gs.debug(a);var i=d.webrtcStuff;i.pc&&i.remoteSdp?(gs.debug("Adding remote candidate:",a),a&&!0!==a.completed?i.pc.addIceCandidate(a):i.pc.addIceCandidate(gs.endOfCandidates)):(gs.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),i.candidates||(i.candidates=[]),i.candidates.push(a),gs.debug(i.candidates))}else{if("webrtcup"===e.janus)return gs.debug("Got a webrtcup event on session "+x),gs.debug(e),(o=e.sender)?(d=O[o])?void d.webrtcState(!0):void gs.debug("This handle is not attached to this session"):void gs.warn("Missing sender...");if("hangup"===e.janus){if(gs.debug("Got a hangup event on session "+x),gs.debug(e),!(o=e.sender))return void gs.warn("Missing sender...");if(!(d=O[o]))return void gs.debug("This handle is not attached to this session");d.webrtcState(!1,e.reason),d.hangup()}else if("detached"===e.janus){if(gs.debug("Got a detached event on session "+x),gs.debug(e),!(o=e.sender))return void gs.warn("Missing sender...");if(!(d=O[o]))return;d.ondetached(),d.detach()}else if("media"===e.janus){if(gs.debug("Got a media event on session "+x),gs.debug(e),!(o=e.sender))return void gs.warn("Missing sender...");if(!(d=O[o]))return void gs.debug("This handle is not attached to this session");d.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){if(gs.debug("Got a slowlink event on session "+x),gs.debug(e),!(o=e.sender))return void gs.warn("Missing sender...");if(!(d=O[o]))return void gs.debug("This handle is not attached to this session");d.slowLink(e.uplink,e.lost)}else{if("error"===e.janus){var r,c;if(gs.error("Ooops: "+e.error.code+" "+e.error.reason),gs.debug(e),r=e.transaction)(c=k[r])&&c(e),delete k[r];return}if("event"===e.janus){var o;if(gs.debug("Got a plugin event on session "+x),gs.debug(e),!(o=e.sender))return void gs.warn("Missing sender...");var l=e.plugindata;if(!l)return void gs.warn("Missing plugindata...");gs.debug("  -- Event is coming from "+o+" ("+l.plugin+")");var d,h=l.data;if(gs.debug(h),!(d=O[o]))return void gs.warn("This handle is not attached to this session");var u=e.jsep;u&&(gs.debug("Handling SDP as well..."),gs.debug(u));var j=d.onmessage;j?(gs.debug("Notifying application..."),j(h,u)):gs.debug("No provided notification callback")}else{if("timeout"===e.janus)return gs.error("Timeout on session "+x),gs.debug(e),void(t&&s.close(3504,"Gateway timeout"));gs.warn("Unknown message/event  '"+e.janus+"' on session "+x),gs.debug(e)}}}else gs.debug("Got a success on session "+x),gs.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else gs.debug("Got an ack on session "+x),gs.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else gs.debug("Got info on the Janus instance"),gs.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else gs.vdebug("Got a keepalive on session "+x);else for(var b=0;b<e.length;b++)S(e[b],!0)}function C(){if(c&&t&&f){a=setTimeout(C,v);var e={janus:"keepalive",session_id:x,transaction:gs.randomString(12)};b&&(e.token=b),p&&(e.apisecret=p),s.send(JSON.stringify(e))}}function I(o){var l=gs.randomString(12),d={janus:"create",transaction:l};if(o.reconnect&&(f=!1,d.janus="claim",d.session_id=x,s&&(s.onopen=null,s.onerror=null,s.onclose=null,a&&(clearTimeout(a),a=null))),b&&(d.token=b),p&&(d.apisecret=p),!c&&gs.isArray(i)&&(0===(c=i[r]).indexOf("ws")?(t=!0,gs.log("Server #"+(r+1)+": trying WebSockets to contact Janus ("+c+")")):(t=!1,gs.log("Server #"+(r+1)+": trying REST API to contact Janus ("+c+")"))),t)for(var h in s=gs.newWebSocket(c,"janus-protocol"),n={error:function(){if(gs.error("Error connecting to the Janus WebSockets server... "+c),gs.isArray(i)&&!o.reconnect)return++r===i.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){I(o)}),200));o.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){k[l]=function(e){if(gs.debug(e),"success"!==e.janus)return gs.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);a=setTimeout(C,v),f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?gs.log("Claimed session: "+x):gs.log("Created session: "+x),gs.sessions[x]=w,o.success()},s.send(JSON.stringify(d))},message:function(e){S(JSON.parse(e.data))},close:function(){c&&f&&(f=!1,e.error("Lost connection to the server (is it down?)"))}})s.addEventListener(h,n[h]);else gs.httpAPICall(c,{verb:"POST",withCredentials:u,body:d,success:function(e){if(gs.debug(e),"success"!==e.janus)return gs.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?gs.log("Claimed session: "+x):gs.log("Created session: "+x),gs.sessions[x]=w,_(),o.success()},error:function(e,t){if(gs.error(e+":",t),gs.isArray(i)&&!o.reconnect)return++r===i.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){I(o)}),200));""===t?o.error(e+": Is the server down?"):o.error(e+": "+t)}})}function N(e,n){if((n=n||{}).success="function"==typeof n.success?n.success:gs.noop,n.error="function"==typeof n.error?n.error:gs.noop,!f)return gs.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var a=O[e];if(!a||!a.webrtcStuff)return gs.warn("Invalid handle"),void n.error("Invalid handle");var i=n.message,r=n.jsep,o=gs.randomString(12),l={janus:"message",body:i,transaction:o};if(a.token&&(l.token=a.token),p&&(l.apisecret=p),r&&(l.jsep={type:r.type,sdp:r.sdp},r.e2ee&&(l.jsep.e2ee=!0),"hml"!==r.rid_order&&"lmh"!==r.rid_order||(l.jsep.rid_order=r.rid_order)),gs.debug("Sending message to plugin (handle="+e+"):"),gs.debug(l),t)return l.session_id=x,l.handle_id=e,k[o]=function(e){if(gs.debug("Message sent!"),gs.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return gs.warn("Request succeeded, but missing plugindata..."),void n.success();gs.log("Synchronous transaction successful ("+t.plugin+")");var s=t.data;return gs.debug(s),void n.success(s)}"ack"===e.janus?n.success():e.error?(gs.error("Ooops: "+e.error.code+" "+e.error.reason),n.error(e.error.code+" "+e.error.reason)):(gs.error("Unknown error"),n.error("Unknown error"))},void s.send(JSON.stringify(l));gs.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:l,success:function(e){if(gs.debug("Message sent!"),gs.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return gs.warn("Request succeeded, but missing plugindata..."),void n.success();gs.log("Synchronous transaction successful ("+t.plugin+")");var s=t.data;return gs.debug(s),void n.success(s)}"ack"===e.janus?n.success():e.error?(gs.error("Ooops: "+e.error.code+" "+e.error.reason),n.error(e.error.code+" "+e.error.reason)):(gs.error("Unknown error"),n.error("Unknown error"))},error:function(e,t){gs.error(e+":",t),n.error(e+": "+t)}})}function M(e,n){if(f){var a=O[e];if(a&&a.webrtcStuff){var i={janus:"trickle",candidate:n,transaction:gs.randomString(12)};if(a.token&&(i.token=a.token),p&&(i.apisecret=p),gs.vdebug("Sending trickle candidate (handle="+e+"):"),gs.vdebug(i),t)return i.session_id=x,i.handle_id=e,void s.send(JSON.stringify(i));gs.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:i,success:function(e){gs.vdebug("Candidate sent!"),gs.vdebug(e),"ack"===e.janus||gs.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){gs.error(e+":",t)}})}else gs.warn("Invalid handle")}else gs.warn("Is the server down? (connected=false)")}function T(e,t,s,n,a){var i=O[e];if(i&&i.webrtcStuff){var r=i.webrtcStuff;if(r.pc){var c=function(e){gs.log("Received state change on data channel:",e);var t=e.target.label,s=e.target.protocol,n=r.dataChannel[t]?r.dataChannel[t].readyState:"null";if(gs.log("State change on <"+t+"> data channel: "+n),"open"===n){if(r.dataChannel[t].pending&&r.dataChannel[t].pending.length>0){gs.log("Sending pending messages on <"+t+">:",r.dataChannel[t].pending.length);var a,c=Object(qt.a)(r.dataChannel[t].pending);try{for(c.s();!(a=c.n()).done;){var o=a.value;gs.log("Sending data on data channel <"+t+">"),gs.debug(o),r.dataChannel[t].send(o)}}catch(l){c.e(l)}finally{c.f()}r.dataChannel[t].pending=[]}i.ondataopen(t,s)}};if(n)r.dataChannel[t]=n;else{var o={ordered:!0};s&&(o.protocol=s),r.dataChannel[t]=r.pc.createDataChannel(t,o)}r.dataChannel[t].onmessage=function(e){gs.log("Received message on data channel:",e);var t=e.target.label;i.ondata(e.data,t)},r.dataChannel[t].onopen=c,r.dataChannel[t].onclose=c,r.dataChannel[t].onerror=function(e){gs.error("Got error on data channel:",e)},r.dataChannel[t].pending=[],a&&r.dataChannel[t].pending.push(a)}else gs.warn("Invalid PeerConnection")}else gs.warn("Invalid handle")}function D(e,t){(t=t||{}).success="function"==typeof t.success?t.success:gs.noop,t.error="function"==typeof t.error?t.error:gs.noop;var s=O[e];if(!s||!s.webrtcStuff)return gs.warn("Invalid handle"),void t.error("Invalid handle");var n=s.webrtcStuff,a=t.text||t.data;if(!a)return gs.warn("Invalid data"),void t.error("Invalid data");var i=t.label?t.label:gs.dataChanDefaultLabel;return n.dataChannel[i]?"open"!==n.dataChannel[i].readyState?(n.dataChannel[i].pending.push(a),void t.success()):(gs.log("Sending data on data channel <"+i+">"),gs.debug(a),n.dataChannel[i].send(a),void t.success()):(T(e,i,t.protocol,!1,a,t.protocol),void t.success())}function A(e,t){(t=t||{}).success="function"==typeof t.success?t.success:gs.noop,t.error="function"==typeof t.error?t.error:gs.noop;var s=O[e];if(!s||!s.webrtcStuff)return gs.warn("Invalid handle"),void t.error("Invalid handle");var n=s.webrtcStuff;if(!n.dtmfSender){if(n.pc){var a=n.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!a)return gs.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");n.dtmfSender=a.dtmf,n.dtmfSender&&(gs.log("Created DTMF Sender"),n.dtmfSender.ontonechange=function(e){gs.debug("Sent DTMF tone: "+e.tone)})}if(!n.dtmfSender)return gs.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var i=t.dtmf;if(!i)return gs.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var r=i.tones;if(!r)return gs.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var c="number"===typeof i.duration?i.duration:500,o="number"===typeof i.gap?i.gap:50;gs.debug("Sending DTMF string "+r+" (duration "+c+"ms, gap "+o+"ms)"),n.dtmfSender.insertDTMF(r,c,o),t.success()}function R(e,n){(n=n||{}).success="function"==typeof n.success?n.success:gs.noop,n.error="function"==typeof n.error?n.error:gs.noop;var a=!0===n.noRequest;gs.log("Destroying handle "+e+" (only-locally="+a+")"),V(e);var i=O[e];if(!i||i.detached)return delete O[e],void n.success();if(i.detached=!0,a)return delete O[e],void n.success();if(!f)return gs.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var r={janus:"detach",transaction:gs.randomString(12)};if(i.token&&(r.token=i.token),p&&(r.apisecret=p),t)return r.session_id=x,r.handle_id=e,s.send(JSON.stringify(r)),delete O[e],void n.success();gs.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:r,success:function(t){gs.log("Destroyed handle:"),gs.debug(t),"success"!==t.janus&&gs.error("Ooops: "+t.error.code+" "+t.error.reason),delete O[e],n.success()},error:function(t,s){gs.error(t+":",s),delete O[e],n.success()}})}function P(e,t,s,n,a){var i=O[e];if(!i||!i.webrtcStuff)return gs.warn("Invalid handle"),n.stream||gs.stopAllTracks(a),void n.error("Invalid handle");var r=i.webrtcStuff;gs.debug("streamsDone:",a),a&&(gs.debug("  -- Audio tracks:",a.getAudioTracks()),gs.debug("  -- Video tracks:",a.getVideoTracks()));var c=!1;if(r.myStream&&s.update&&(!r.streamExternal||s.replaceAudio||s.replaceVideo)){if((!s.update&&q(s)||s.update&&(s.addAudio||s.replaceAudio))&&a.getAudioTracks()&&a.getAudioTracks().length)if(r.myStream.addTrack(a.getAudioTracks()[0]),gs.unifiedPlan){gs.log((s.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]);var u=null;if((p=r.pc.getTransceivers())&&p.length>0){var j,b=Object(qt.a)(p);try{for(b.s();!(j=b.n()).done;){if((x=j.value).sender&&x.sender.track&&"audio"===x.sender.track.kind||x.receiver&&x.receiver.track&&"audio"===x.receiver.track.kind){u=x;break}}}catch(S){b.e(S)}finally{b.f()}}u&&u.sender?u.sender.replaceTrack(a.getAudioTracks()[0]):r.pc.addTrack(a.getAudioTracks()[0],a)}else gs.log((s.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]),r.pc.addTrack(a.getAudioTracks()[0],a);if((!s.update&&G(s)||s.update&&(s.addVideo||s.replaceVideo))&&a.getVideoTracks()&&a.getVideoTracks().length)if(r.myStream.addTrack(a.getVideoTracks()[0]),gs.unifiedPlan){gs.log((s.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]);var p,v=null;if((p=r.pc.getTransceivers())&&p.length>0){var g,f=Object(qt.a)(p);try{for(f.s();!(g=f.n()).done;){var x;if((x=g.value).sender&&x.sender.track&&"video"===x.sender.track.kind||x.receiver&&x.receiver.track&&"video"===x.receiver.track.kind){v=x;break}}}catch(S){f.e(S)}finally{f.f()}}v&&v.sender?v.sender.replaceTrack(a.getVideoTracks()[0]):r.pc.addTrack(a.getVideoTracks()[0],a)}else gs.log((s.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]),r.pc.addTrack(a.getVideoTracks()[0],a)}else r.myStream=a,c=!0;if(!r.pc){var w={iceServers:o,iceTransportPolicy:l,bundlePolicy:d};"chrome"===gs.webRTCAdapter.browserDetails.browser&&(w.sdpSemantics=gs.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var y={optional:[{DtlsSrtpKeyAgreement:!0}]};if(h&&y.optional.push({googIPv6:!0}),n.rtcConstraints&&"object"===typeof n.rtcConstraints)for(var k in gs.debug("Adding custom PeerConnection constraints:",n.rtcConstraints),n.rtcConstraints)y.optional.push(n.rtcConstraints[k]);"edge"===gs.webRTCAdapter.browserDetails.browser&&(w.bundlePolicy="max-bundle"),RTCRtpSender&&(RTCRtpSender.prototype.createEncodedStreams||RTCRtpSender.prototype.createEncodedAudioStreams&&RTCRtpSender.prototype.createEncodedVideoStreams)&&(n.senderTransforms||n.receiverTransforms)&&(r.senderTransforms=n.senderTransforms,r.receiverTransforms=n.receiverTransforms,w.forceEncodedAudioInsertableStreams=!0,w.forceEncodedVideoInsertableStreams=!0,w.encodedInsertableStreams=!0),gs.log("Creating PeerConnection"),gs.debug(y),r.pc=new RTCPeerConnection(w,y),gs.debug(r.pc),r.pc.getStats&&(r.volume={},r.bitrate.value="0 kbits/sec"),gs.log("Preparing local SDP and gathering candidates (trickle="+r.trickle+")"),r.pc.oniceconnectionstatechange=function(e){r.pc&&i.iceState(r.pc.iceConnectionState)},r.pc.onicecandidate=function(t){if(!t.candidate||"edge"===gs.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)gs.log("End of candidates."),r.iceDone=!0,!0===r.trickle?M(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:gs.noop,t.error="function"==typeof t.error?t.error:gs.noop;var s=O[e];if(!s||!s.webrtcStuff)return void gs.warn("Invalid handle, not sending anything");var n=s.webrtcStuff;if(gs.log("Sending offer/answer SDP..."),!n.mySdp)return void gs.warn("Local SDP instance is invalid, not sending anything...");n.mySdp={type:n.pc.localDescription.type,sdp:n.pc.localDescription.sdp},!1===n.trickle&&(n.mySdp.trickle=!1);gs.debug(t),n.sdpSent=!0,t.success(n.mySdp)}(e,n);else{var s={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===r.trickle&&M(e,s)}},r.pc.ontrack=function(e){if(gs.log("Handling Remote Track"),gs.debug(e),e.streams&&(r.remoteStream=e.streams[0],i.onremotestream(r.remoteStream),!e.track.onended)){if(r.receiverTransforms){var t=null;RTCRtpSender.prototype.createEncodedStreams?t=e.receiver.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===e.track.kind&&r.receiverTransforms.audio?t=e.receiver.createEncodedAudioStreams():"video"===e.track.kind&&r.receiverTransforms.video&&(t=e.receiver.createEncodedVideoStreams())),t&&(console.log(t),t.readableStream&&t.writableStream?t.readableStream.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writableStream):t.readable&&t.writable&&t.readable.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writable))}var s=null;gs.log("Adding onended callback to track:",e.track),e.track.onended=function(e){gs.log("Remote track removed:",e),r.remoteStream&&(clearTimeout(s),r.remoteStream.removeTrack(e.target),i.onremotestream(r.remoteStream))},e.track.onmute=function(e){gs.log("Remote track muted:",e),r.remoteStream&&null==s&&(s=setTimeout((function(){gs.log("Removing remote track"),r.remoteStream&&(r.remoteStream.removeTrack(e.target),i.onremotestream(r.remoteStream)),s=null}),2520))},e.track.onunmute=function(e){if(gs.log("Remote track flowing again:",e),null!=s)clearTimeout(s),s=null;else try{r.remoteStream.addTrack(e.target),i.onremotestream(r.remoteStream)}catch(t){gs.error(t)}}}}}if(c&&a){gs.log("Adding local stream");var _=!0===n.simulcast2;a.getTracks().forEach((function(e){gs.log("Adding local track:",e);var t=null;if(_&&"audio"!==e.kind){gs.log("Enabling rid-based simulcasting:",e);var s=m(n.simulcastMaxBitrates),i=r.pc.addTransceiver(e,{direction:"sendrecv",streams:[a],sendEncodings:n.sendEncodings||[{rid:"h",active:!0,maxBitrate:s.high},{rid:"m",active:!0,maxBitrate:s.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:s.low,scaleResolutionDownBy:4}]});i&&(t=i.sender)}else t=r.pc.addTrack(e,a);if(t&&r.senderTransforms){var c=null;RTCRtpSender.prototype.createEncodedStreams?c=t.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===t.track.kind&&r.senderTransforms.audio?c=t.createEncodedAudioStreams():"video"===t.track.kind&&r.senderTransforms.video&&(c=t.createEncodedVideoStreams())),c&&(console.log(c),c.readableStream&&c.writableStream?c.readableStream.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writableStream):c.readable&&c.writable&&c.readable.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writable))}}))}(function(e){if(gs.debug("isDataEnabled:",e),"edge"===gs.webRTCAdapter.browserDetails.browser)return gs.warn("Edge doesn't support data channels yet"),!1;return void 0!==e&&null!==e&&!0===e.data})(s)&&!r.dataChannel[gs.dataChanDefaultLabel]&&(gs.log("Creating default data channel"),T(e,gs.dataChanDefaultLabel,null,!1),r.pc.ondatachannel=function(t){gs.log("Data channel created by Janus:",t),T(e,t.channel.label,t.channel.protocol,t.channel)}),r.myStream&&i.onlocalstream(r.myStream),t?r.pc.setRemoteDescription(t).then((function(){if(gs.log("Remote description accepted!"),r.remoteSdp=t.sdp,r.candidates&&r.candidates.length>0){for(var a=0;a<r.candidates.length;a++){var i=r.candidates[a];gs.debug("Adding remote candidate:",i),i&&!0!==i.completed?r.pc.addIceCandidate(i):r.pc.addIceCandidate(gs.endOfCandidates)}r.candidates=[]}!function(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:gs.noop,s.error="function"==typeof s.error?s.error:gs.noop,s.customizeSdp="function"==typeof s.customizeSdp?s.customizeSdp:gs.noop;var n=O[e];if(!n||!n.webrtcStuff)return gs.warn("Invalid handle"),void s.error("Invalid handle");var a=n.webrtcStuff,i=!0===s.simulcast;i?gs.log("Creating answer (iceDone="+a.iceDone+", simulcast="+i+")"):gs.log("Creating answer (iceDone="+a.iceDone+")");var r=null;if(gs.unifiedPlan){r={};var c=null,o=null,l=a.pc.getTransceivers();if(l&&l.length>0){var d,h=Object(qt.a)(l);try{for(h.s();!(d=h.n()).done;){var u=d.value;u.sender&&u.sender.track&&"audio"===u.sender.track.kind||u.receiver&&u.receiver.track&&"audio"===u.receiver.track.kind?c||(c=u):(u.sender&&u.sender.track&&"video"===u.sender.track.kind||u.receiver&&u.receiver.track&&"video"===u.receiver.track.kind)&&(o||(o=u))}}catch(S){h.e(S)}finally{h.f()}}var j=q(t),b=W(t);if(j||b){if(j&&b){if(c)try{c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",gs.log("Setting audio transceiver to sendrecv:",c)}catch(y){gs.error(y)}}else if(j&&!b)try{c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",gs.log("Setting audio transceiver to sendonly:",c))}catch(y){gs.error(y)}else if(!j&&b)if(c)try{c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",gs.log("Setting audio transceiver to recvonly:",c)}catch(y){gs.error(y)}else c=a.pc.addTransceiver("audio",{direction:"recvonly"}),gs.log("Adding recvonly audio transceiver:",c)}else if(t.removeAudio&&c)try{c.setDirection?c.setDirection("inactive"):c.direction="inactive",gs.log("Setting audio transceiver to inactive:",c)}catch(y){gs.error(y)}var p=G(t),v=J(t);if(p||v){if(p&&v){if(o)try{o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",gs.log("Setting video transceiver to sendrecv:",o)}catch(y){gs.error(y)}}else if(p&&!v){if(o)try{o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",gs.log("Setting video transceiver to sendonly:",o)}catch(y){gs.error(y)}}else if(!p&&v)if(o)try{o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",gs.log("Setting video transceiver to recvonly:",o)}catch(y){gs.error(y)}else o=a.pc.addTransceiver("video",{direction:"recvonly"}),gs.log("Adding recvonly video transceiver:",o)}else if(t.removeVideo&&o)try{o.setDirection?o.setDirection("inactive"):o.direction="inactive",gs.log("Setting video transceiver to inactive:",o)}catch(y){gs.error(y)}}else r="firefox"===gs.webRTCAdapter.browserDetails.browser||"edge"===gs.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:W(t),offerToReceiveVideo:J(t)}:{mandatory:{OfferToReceiveAudio:W(t),OfferToReceiveVideo:J(t)}};gs.debug(r);var g=G(t);if(g&&i&&"firefox"===gs.webRTCAdapter.browserDetails.browser){gs.log("Enabling Simulcasting for Firefox (RID)");var f=a.pc.getSenders()[1];gs.log(f);var x=f.getParameters();gs.log(x);var w=m(s.simulcastMaxBitrates);f.setParameters({encodings:s.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}]})}a.pc.createAnswer(r).then((function(e){gs.debug(e);var t={type:e.type,sdp:e.sdp};s.customizeSdp(t),e.sdp=t.sdp,gs.log("Setting local description"),g&&i&&("chrome"===gs.webRTCAdapter.browserDetails.browser?gs.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==gs.webRTCAdapter.browserDetails.browser&&gs.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp={type:"answer",sdp:e.sdp},a.pc.setLocalDescription(e).catch(s.error),a.mediaConstraints=r,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e.e2ee=!0),s.success(e)):gs.log("Waiting for all candidates...")}),s.error)}(e,s,n)}),n.error):function(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:gs.noop,s.error="function"==typeof s.error?s.error:gs.noop,s.customizeSdp="function"==typeof s.customizeSdp?s.customizeSdp:gs.noop;var n=O[e];if(!n||!n.webrtcStuff)return gs.warn("Invalid handle"),void s.error("Invalid handle");var a=n.webrtcStuff,i=!0===s.simulcast;i?gs.log("Creating offer (iceDone="+a.iceDone+", simulcast="+i+")"):gs.log("Creating offer (iceDone="+a.iceDone+")");var r={};if(gs.unifiedPlan){var c=null,o=null,l=a.pc.getTransceivers();if(l&&l.length>0){var d,h=Object(qt.a)(l);try{for(h.s();!(d=h.n()).done;){var u=d.value;u.sender&&u.sender.track&&"audio"===u.sender.track.kind||u.receiver&&u.receiver.track&&"audio"===u.receiver.track.kind?c||(c=u):(u.sender&&u.sender.track&&"video"===u.sender.track.kind||u.receiver&&u.receiver.track&&"video"===u.receiver.track.kind)&&(o||(o=u))}}catch(S){h.e(S)}finally{h.f()}}var j=q(t),b=W(t);j||b?j&&b?c&&(c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",gs.log("Setting audio transceiver to sendrecv:",c)):j&&!b?c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",gs.log("Setting audio transceiver to sendonly:",c)):!j&&b&&(c?(c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",gs.log("Setting audio transceiver to recvonly:",c)):(c=a.pc.addTransceiver("audio",{direction:"recvonly"}),gs.log("Adding recvonly audio transceiver:",c))):t.removeAudio&&c&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive",gs.log("Setting audio transceiver to inactive:",c));var p=G(t),v=J(t);p||v?p&&v?o&&(o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",gs.log("Setting video transceiver to sendrecv:",o)):p&&!v?o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",gs.log("Setting video transceiver to sendonly:",o)):!p&&v&&(o?(o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",gs.log("Setting video transceiver to recvonly:",o)):(o=a.pc.addTransceiver("video",{direction:"recvonly"}),gs.log("Adding recvonly video transceiver:",o))):t.removeVideo&&o&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive",gs.log("Setting video transceiver to inactive:",o))}else r.offerToReceiveAudio=W(t),r.offerToReceiveVideo=J(t);!0===s.iceRestart&&(r.iceRestart=!0);gs.debug(r);var g=G(t);if(g&&i&&"firefox"===gs.webRTCAdapter.browserDetails.browser){gs.log("Enabling Simulcasting for Firefox (RID)");var f=a.pc.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(f){var x=f.getParameters();x||(x={});var w=m(s.simulcastMaxBitrates);x.encodings=s.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}],f.setParameters(x)}}a.pc.createOffer(r).then((function(e){gs.debug(e);var t={type:e.type,sdp:e.sdp};s.customizeSdp(t),e.sdp=t.sdp,gs.log("Setting local description"),g&&i&&("chrome"===gs.webRTCAdapter.browserDetails.browser||"safari"===gs.webRTCAdapter.browserDetails.browser?(gs.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),s=!1,n=[-1],a=[-1],i=null,r=null,c=null,o=null,l=-1,d=0;d<t.length;d++){if(u=t[d].match(/m=(\w+) */)){if("video"===u[1]){if(!(n[0]<0)){l=d;break}s=!0}else if(n[0]>-1){l=d;break}}else if(s){if(t[d].match(/a=ssrc-group:SIM (\d+) (\d+) (\d+)/))return gs.warn("The SDP already contains a SIM attribute, munging will be skipped"),e;var h=t[d].match(/a=ssrc-group:FID (\d+) (\d+)/);if(h)n[0]=h[1],a[0]=h[2],t.splice(d,1),d--;else{if(n[0]){if((b=t[d].match("a=ssrc:"+n[0]+" cname:(.+)"))&&(i=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!=t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0){l=-1,s=!1;for(d=0;d<t.length;d++){var u;if(u=t[d].match(/m=(\w+) */)){if("video"===u[1]){if(!(n[0]<0)){l=d;break}s=!0}else if(n[0]>-1){l=d;break}}else if(s){if(n[0]<0){var j=t[d].match(/a=ssrc:(\d+)/);if(j){n[0]=j[1],t.splice(d,1),d--;continue}}else{var b;if((b=t[d].match("a=ssrc:"+n[0]+" cname:(.+)"))&&(i=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+n[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!==t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0)return gs.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;l<0&&(l=t.length);n[1]=Math.floor(4294967295*Math.random()),n[2]=Math.floor(4294967295*Math.random()),a[1]=Math.floor(4294967295*Math.random()),a[2]=Math.floor(4294967295*Math.random());for(d=0;d<n.length;d++)i&&(t.splice(l,0,"a=ssrc:"+n[d]+" cname:"+i),l++),r&&(t.splice(l,0,"a=ssrc:"+n[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+n[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+n[d]+" label:"+o),l++),i&&(t.splice(l,0,"a=ssrc:"+a[d]+" cname:"+i),l++),r&&(t.splice(l,0,"a=ssrc:"+a[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+a[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+a[d]+" label:"+o),l++);t.splice(l,0,"a=ssrc-group:FID "+n[2]+" "+a[2]),t.splice(l,0,"a=ssrc-group:FID "+n[1]+" "+a[1]),t.splice(l,0,"a=ssrc-group:FID "+n[0]+" "+a[0]),t.splice(l,0,"a=ssrc-group:SIM "+n[0]+" "+n[1]+" "+n[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n");return e}(e.sdp)):"firefox"!==gs.webRTCAdapter.browserDetails.browser&&gs.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp={type:"offer",sdp:e.sdp},a.pc.setLocalDescription(e).catch(s.error),a.mediaConstraints=r,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e.e2ee=!0),s.success(e)):gs.log("Waiting for all candidates...")}),s.error)}(e,s,n)}function L(e,t,s){(s=s||{}).success="function"==typeof s.success?s.success:gs.noop,s.error="function"==typeof s.error?s.error:F;var n=s.jsep;if(t&&n)return gs.error("Provided a JSEP to a createOffer"),void s.error("Provided a JSEP to a createOffer");if(!t&&(!n||!n.type||!n.sdp))return gs.error("A valid JSEP is required for createAnswer"),void s.error("A valid JSEP is required for createAnswer");s.media="object"===typeof s.media&&s.media?s.media:{audio:!0,video:!0};var a=s.media,i=O[e];if(!i||!i.webrtcStuff)return gs.warn("Invalid handle"),void s.error("Invalid handle");var r,c=i.webrtcStuff;if(c.trickle=(r=s.trickle,gs.debug("isTrickleEnabled:",r),!1!==r),c.pc){if(gs.log("Updating existing media session"),a.update=!0,s.stream)s.stream!==c.myStream&&gs.log("Renegotiation involves a new external stream");else{if(a.addAudio){if(a.keepAudio=!1,a.replaceAudio=!1,a.removeAudio=!1,a.audioSend=!0,c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length)return gs.error("Can't add audio stream, there already is one"),void s.error("Can't add audio stream, there already is one")}else a.removeAudio?(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!1,a.audioSend=!1):a.replaceAudio&&(a.keepAudio=!1,a.addAudio=!1,a.removeAudio=!1,a.audioSend=!0);if(c.myStream&&c.myStream.getAudioTracks()&&0!==c.myStream.getAudioTracks().length?!q(a)||a.removeAudio||a.replaceAudio||(a.keepAudio=!0):(a.replaceAudio&&(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!0,a.audioSend=!0),q(a)&&(a.keepAudio=!1,a.addAudio=!0)),a.addVideo){if(a.keepVideo=!1,a.replaceVideo=!1,a.removeVideo=!1,a.videoSend=!0,c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length)return gs.error("Can't add video stream, there already is one"),void s.error("Can't add video stream, there already is one")}else a.removeVideo?(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!1,a.videoSend=!1):a.replaceVideo&&(a.keepVideo=!1,a.addVideo=!1,a.removeVideo=!1,a.videoSend=!0);c.myStream&&c.myStream.getVideoTracks()&&0!==c.myStream.getVideoTracks().length?!G(a)||a.removeVideo||a.replaceVideo||(a.keepVideo=!0):(a.replaceVideo&&(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!0,a.videoSend=!0),G(a)&&(a.keepVideo=!1,a.addVideo=!0)),a.addData&&(a.data=!0)}if(q(a)&&a.keepAudio&&G(a)&&a.keepVideo)return i.consentDialog(!1),void P(e,n,a,s,c.myStream)}else a.update=!1,a.keepAudio=!1,a.keepVideo=!1;if(a.update&&(!c.streamExternal||c.streamExternal&&(a.replaceAudio||a.replaceVideo))){if(a.removeAudio||a.replaceAudio){if(c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length){var o=c.myStream.getAudioTracks()[0];gs.log("Removing audio track:",o),c.myStream.removeTrack(o);try{o.stop()}catch(D){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var l=!0;if(a.replaceAudio&&gs.unifiedPlan&&(l=!1),l){var d,h=Object(qt.a)(c.pc.getSenders());try{for(h.s();!(d=h.n()).done;){var u=d.value;u&&u.track&&"audio"===u.track.kind&&(gs.log("Removing audio sender:",u),c.pc.removeTrack(u))}}catch(A){h.e(A)}finally{h.f()}}}}if(a.removeVideo||a.replaceVideo){if(c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length){var j=c.myStream.getVideoTracks()[0];gs.log("Removing video track:",j),c.myStream.removeTrack(j);try{j.stop()}catch(D){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var b=!0;if(a.replaceVideo&&gs.unifiedPlan&&(b=!1),b){var p,v=Object(qt.a)(c.pc.getSenders());try{for(v.s();!(p=v.n()).done;){var g=p.value;g&&g.track&&"video"===g.track.kind&&(gs.log("Removing video sender:",g),c.pc.removeTrack(g))}}catch(A){v.e(A)}finally{v.f()}}}}}if(s.stream){var m=s.stream;return gs.log("MediaStream provided by the application"),gs.debug(m),!a.update||!c.myStream||c.myStream===s.stream||c.streamExternal||a.replaceAudio||a.replaceVideo||(gs.stopAllTracks(c.myStream),c.myStream=null),c.streamExternal=!0,i.consentDialog(!1),void P(e,n,a,s,m)}if(q(a)||G(a)){if(!gs.isGetUserMediaAvailable())return void s.error("getUserMedia not available");var f={mandatory:{},optional:[]};i.consentDialog(!0);var x=q(a);x&&a&&"object"===typeof a.audio&&(x=a.audio);var w=G(a);if(w&&a){var y=!0===s.simulcast,k=!0===s.simulcast2;if(!y&&!k||n||a.video||(a.video="hires"),a.video&&"screen"!=a.video&&"window"!=a.video)if("object"===typeof a.video)w=a.video;else{var _=0,S=0;"lowres"===a.video?(S=240,240,_=320):"lowres-16:9"===a.video?(S=180,180,_=320):"hires"===a.video||"hires-16:9"===a.video||"hdres"===a.video?(S=720,720,_=1280):"fhdres"===a.video?(S=1080,1080,_=1920):"4kres"===a.video?(S=2160,2160,_=3840):"stdres"===a.video?(S=480,480,_=640):"stdres-16:9"===a.video?(S=360,360,_=640):(gs.log("Default video setting is stdres 4:3"),S=480,480,_=640),gs.log("Adding media constraint:",a.video),w={height:{ideal:S},width:{ideal:_}},gs.log("Adding video constraint:",w)}else if("screen"===a.video||"window"===a.video){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return f.video={},a.screenshareFrameRate&&(f.video.frameRate=a.screenshareFrameRate),a.screenshareHeight&&(f.video.height=a.screenshareHeight),a.screenshareWidth&&(f.video.width=a.screenshareWidth),f.audio=a.captureDesktopAudio,void navigator.mediaDevices.getDisplayMedia(f).then((function(t){i.consentDialog(!1),q(a)&&!a.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(i){t.addTrack(i.getAudioTracks()[0]),P(e,n,a,s,t)})):P(e,n,a,s,t)}),(function(e){i.consentDialog(!1),s.error(e)}));function C(t,r){i.consentDialog(!1),t?s.error(t):P(e,n,a,s,r)}function I(e,t,s){gs.log("Adding media constraint (screen capture)"),gs.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){s?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(s){e.addTrack(s.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){i.consentDialog(!1),t(e)}))}if("chrome"===gs.webRTCAdapter.browserDetails.browser){var N=gs.webRTCAdapter.browserDetails.version,M=33;window.navigator.userAgent.match("Linux")&&(M=35),N>=26&&N<=M?I(f={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate,chromeMediaSource:"screen"}},audio:q(a)&&!a.keepAudio},C):gs.extension.getScreen((function(e,t){if(e)return i.consentDialog(!1),s.error(e);(f={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,I(f,C,q(a)&&!a.keepAudio)}))}else if("firefox"===gs.webRTCAdapter.browserDetails.browser){if(!(gs.webRTCAdapter.browserDetails.version>=33)){var T=new Error("NavigatorUserMediaError");return T.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",i.consentDialog(!1),void s.error(T)}I(f={video:{mozMediaSource:a.video,mediaSource:a.video},audio:q(a)&&!a.keepAudio},(function(e,t){if(C(e,t),!e)var s=t.currentTime,n=window.setInterval((function(){t||window.clearInterval(n),t.currentTime==s&&(window.clearInterval(n),t.onended&&t.onended()),s=t.currentTime}),500)}))}return}}a&&"screen"===a.video||navigator.mediaDevices.enumerateDevices().then((function(t){var r=t.some((function(e){return"audioinput"===e.kind})),c=function(e){if(gs.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!==typeof e.video||"object"!==typeof e.video.mandatory)return!1;var t=e.video.mandatory;if(t.chromeMediaSource)return"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource;if(t.mozMediaSource)return"window"===t.mozMediaSource||"screen"===t.mozMediaSource;if(t.mediaSource)return"window"===t.mediaSource||"screen"===t.mediaSource;return!1}(a)||t.some((function(e){return"videoinput"===e.kind})),o=q(a),l=G(a),d=function(e){return gs.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}(a),h=function(e){return gs.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}(a);if(o||l||d||h){var u=!!o&&r,j=!!l&&c;if(!u&&!j)return i.consentDialog(!1),s.error("No capture device found"),!1;if(!u&&d)return i.consentDialog(!1),s.error("Audio capture is required, but no capture device found"),!1;if(!j&&h)return i.consentDialog(!1),s.error("Video capture is required, but no capture device found"),!1}var b={audio:!(!r||a.keepAudio)&&x,video:!(!c||a.keepVideo)&&w};gs.debug("getUserMedia constraints",b),b.audio||b.video?navigator.mediaDevices.getUserMedia(b).then((function(t){i.consentDialog(!1),P(e,n,a,s,t)})).catch((function(e){i.consentDialog(!1),s.error({code:e.code,name:e.name,message:e.message})})):(i.consentDialog(!1),P(e,n,a,s,m))})).catch((function(e){i.consentDialog(!1),s.error(e)}))}else P(e,n,a,s)}function B(e,t){(t=t||{}).success="function"==typeof t.success?t.success:gs.noop,t.error="function"==typeof t.error?t.error:F,t.customizeSdp="function"==typeof t.customizeSdp?t.customizeSdp:gs.noop;var s=t.jsep,n=O[e];if(!n||!n.webrtcStuff)return gs.warn("Invalid handle"),void t.error("Invalid handle");var a=n.webrtcStuff;if(s){if(!a.pc)return gs.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");t.customizeSdp(s),a.pc.setRemoteDescription(s).then((function(){if(gs.log("Remote description accepted!"),a.remoteSdp=s.sdp,a.candidates&&a.candidates.length>0){for(var e=0;e<a.candidates.length;e++){var n=a.candidates[e];gs.debug("Adding remote candidate:",n),n&&!0!==n.completed?a.pc.addIceCandidate(n):a.pc.addIceCandidate(gs.endOfCandidates)}a.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function E(e,t){var s=O[e];if(!s||!s.webrtcStuff)return gs.warn("Invalid handle"),0;var n=t?"remote":"local",a=s.webrtcStuff;return a.volume[n]||(a.volume[n]={value:0}),!a.pc.getStats||"chrome"!==gs.webRTCAdapter.browserDetails.browser&&"safari"!==gs.webRTCAdapter.browserDetails.browser?(gs.warn("Getting the "+n+" volume unsupported by browser"),0):t&&!a.remoteStream?(gs.warn("Remote stream unavailable"),0):t||a.myStream?a.volume[n].timer?a.volume[n].value:(gs.log("Starting "+n+" volume monitor"),a.volume[n].timer=setInterval((function(){a.pc.getStats().then((function(e){e.forEach((function(e){e&&"audio"===e.kind&&(t&&!e.remoteSource||!t&&"media-source"!==e.type||(a.volume[n].value=e.audioLevel?e.audioLevel:0))}))}))}),200),0):(gs.warn("Local stream unavailable"),0)}function U(e,t){var s=O[e];if(!s||!s.webrtcStuff)return gs.warn("Invalid handle"),!0;var n=s.webrtcStuff;return n.pc?n.myStream?t?n.myStream.getVideoTracks()&&0!==n.myStream.getVideoTracks().length?!n.myStream.getVideoTracks()[0].enabled:(gs.warn("No video track"),!0):n.myStream.getAudioTracks()&&0!==n.myStream.getAudioTracks().length?!n.myStream.getAudioTracks()[0].enabled:(gs.warn("No audio track"),!0):(gs.warn("Invalid local MediaStream"),!0):(gs.warn("Invalid PeerConnection"),!0)}function H(e,t,s){var n=O[e];if(!n||!n.webrtcStuff)return gs.warn("Invalid handle"),!1;var a=n.webrtcStuff;return a.pc?a.myStream?t?a.myStream.getVideoTracks()&&0!==a.myStream.getVideoTracks().length?(a.myStream.getVideoTracks()[0].enabled=!s,!0):(gs.warn("No video track"),!1):a.myStream.getAudioTracks()&&0!==a.myStream.getAudioTracks().length?(a.myStream.getAudioTracks()[0].enabled=!s,!0):(gs.warn("No audio track"),!1):(gs.warn("Invalid local MediaStream"),!1):(gs.warn("Invalid PeerConnection"),!1)}function z(e){var t=O[e];if(!t||!t.webrtcStuff)return gs.warn("Invalid handle"),"Invalid handle";var s=t.webrtcStuff;return s.pc?s.pc.getStats?s.bitrate.timer?s.bitrate.value:(gs.log("Starting bitrate timer (via getStats)"),s.bitrate.timer=setInterval((function(){s.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(s.bitrate.bsnow=e.bytesReceived,s.bitrate.tsnow=e.timestamp,null===s.bitrate.bsbefore||null===s.bitrate.tsbefore)s.bitrate.bsbefore=s.bitrate.bsnow,s.bitrate.tsbefore=s.bitrate.tsnow;else{var n=s.bitrate.tsnow-s.bitrate.tsbefore;"safari"===gs.webRTCAdapter.browserDetails.browser&&(n/=1e3);var a=Math.round(8*(s.bitrate.bsnow-s.bitrate.bsbefore)/n);"safari"===gs.webRTCAdapter.browserDetails.browser&&(a=parseInt(a/1e3)),s.bitrate.value=a+" kbits/sec",s.bitrate.bsbefore=s.bitrate.bsnow,s.bitrate.tsbefore=s.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):(gs.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function F(e){gs.error("WebRTC error:",e)}function V(e,n){gs.log("Cleaning WebRTC stuff");var a=O[e];if(a){var i=a.webrtcStuff;if(i){if(!0===n){var r={janus:"hangup",transaction:gs.randomString(12)};a.token&&(r.token=a.token),p&&(r.apisecret=p),gs.debug("Sending hangup request (handle="+e+"):"),gs.debug(r),t?(r.session_id=x,r.handle_id=e,s.send(JSON.stringify(r))):gs.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:u,body:r})}i.remoteStream=null,i.volume&&(i.volume.local&&i.volume.local.timer&&clearInterval(i.volume.local.timer),i.volume.remote&&i.volume.remote.timer&&clearInterval(i.volume.remote.timer)),i.volume={},i.bitrate.timer&&clearInterval(i.bitrate.timer),i.bitrate.timer=null,i.bitrate.bsnow=null,i.bitrate.bsbefore=null,i.bitrate.tsnow=null,i.bitrate.tsbefore=null,i.bitrate.value=null,!i.streamExternal&&i.myStream&&(gs.log("Stopping local stream tracks"),gs.stopAllTracks(i.myStream)),i.streamExternal=!1,i.myStream=null;try{i.pc.close()}catch(o){}i.pc=null,i.candidates=null,i.mySdp=null,i.remoteSdp=null,i.iceDone=!1,i.dataChannel={},i.dtmfSender=null,i.senderTransforms=null,i.receiverTransforms=null}a.oncleanup()}}function q(e){return gs.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function W(e){return gs.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function G(e){return gs.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function J(e){return gs.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}I(e),this.getServer=function(){return c},this.isConnected=function(){return f},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:gs.noop,e.error="function"==typeof e.error?e.error:gs.noop,e.reconnect=!0,I(e)},this.getSessionId=function(){return x},this.getInfo=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:gs.noop,e.error="function"==typeof e.error?e.error:gs.noop,gs.log("Getting info on Janus instance"),!f)return gs.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=gs.randomString(12),a={janus:"info",transaction:n};b&&(a.token=b);p&&(a.apisecret=p);if(t)return k[n]=function(t){gs.log("Server info:"),gs.debug(t),"server_info"!==t.janus&&gs.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},void s.send(JSON.stringify(a));gs.httpAPICall(c,{verb:"POST",withCredentials:u,body:a,success:function(t){gs.log("Server info:"),gs.debug(t),"server_info"!==t.janus&&gs.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},error:function(t,s){gs.error(t+":",s),""===s?e.error(t+": Is the server down?"):e.error(t+": "+s)}})}(e)},this.destroy=function(i){!function(i){(i=i||{}).success="function"==typeof i.success?i.success:gs.noop,i.error="function"==typeof i.error?i.error:gs.noop;var r=!0===i.unload,o=!0;void 0!==i.notifyDestroyed&&null!==i.notifyDestroyed&&(o=!0===i.notifyDestroyed);var l=!0===i.cleanupHandles;if(gs.log("Destroying session "+x+" (unload="+r+")"),!x)return gs.warn("No session to destroy"),i.success(),void(o&&e.destroyed());if(l)for(var d in O)R(d,{noRequest:!0});if(!f)return gs.warn("Is the server down? (connected=false)"),x=null,void i.success();var h={janus:"destroy",transaction:gs.randomString(12)};b&&(h.token=b);p&&(h.apisecret=p);if(r)return t?(s.onclose=null,s.close(),s=null):navigator.sendBeacon(c+"/"+x,JSON.stringify(h)),gs.log("Destroyed session:"),x=null,f=!1,i.success(),void(o&&e.destroyed());if(t){h.session_id=x;var j=function(){for(var e in n)s.removeEventListener(e,n[e]);s.removeEventListener("message",v),s.removeEventListener("error",g),a&&clearTimeout(a),s.close()},v=function(t){var s=JSON.parse(t.data);s.session_id==h.session_id&&s.transaction==h.transaction&&(j(),i.success(),o&&e.destroyed())},g=function(t){j(),i.error("Failed to destroy the server: Is the server down?"),o&&e.destroyed()};return s.addEventListener("message",v),s.addEventListener("error",g),void(1===s.readyState?s.send(JSON.stringify(h)):g())}gs.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:u,body:h,success:function(t){gs.log("Destroyed session:"),gs.debug(t),x=null,f=!1,"success"!==t.janus&&gs.error("Ooops: "+t.error.code+" "+t.error.reason),i.success(),o&&e.destroyed()},error:function(t,s){gs.error(t+":",s),x=null,f=!1,i.success(),o&&e.destroyed()}})}(i)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:gs.noop,e.error="function"==typeof e.error?e.error:gs.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:gs.noop,e.iceState="function"==typeof e.iceState?e.iceState:gs.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:gs.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:gs.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:gs.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:gs.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:gs.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:gs.noop,e.ondata="function"==typeof e.ondata?e.ondata:gs.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:gs.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:gs.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:gs.noop,!f)return gs.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=e.plugin;if(!n)return gs.error("Invalid plugin"),void e.error("Invalid plugin");var a=e.opaqueId,i=e.token?e.token:b,r=gs.randomString(12),o={janus:"attach",plugin:n,opaque_id:a,transaction:r};i&&(o.token=i);p&&(o.apisecret=p);if(t)return k[r]=function(t){if(gs.debug(t),"success"!==t.janus)return gs.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var s=t.data.id;gs.log("Created handle: "+s);var a={session:w,plugin:n,id:s,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return s},getPlugin:function(){return n},getVolume:function(){return E(s,!0)},getRemoteVolume:function(){return E(s,!0)},getLocalVolume:function(){return E(s,!1)},isAudioMuted:function(){return U(s,!1)},muteAudio:function(){return H(s,!1,!0)},unmuteAudio:function(){return H(s,!1,!1)},isVideoMuted:function(){return U(s,!0)},muteVideo:function(){return H(s,!0,!0)},unmuteVideo:function(){return H(s,!0,!1)},getBitrate:function(){return z(s)},send:function(e){N(s,e)},data:function(e){D(s,e)},dtmf:function(e){A(s,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){L(s,!0,e)},createAnswer:function(e){L(s,!1,e)},handleRemoteJsep:function(e){B(s,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(s,!0===e)},detach:function(e){R(s,e)}};O[s]=a,e.success(a)},o.session_id=x,void s.send(JSON.stringify(o));gs.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:u,body:o,success:function(t){if(gs.debug(t),"success"!==t.janus)return gs.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var s=t.data.id;gs.log("Created handle: "+s);var a={session:w,plugin:n,id:s,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return s},getPlugin:function(){return n},getVolume:function(){return E(s,!0)},getRemoteVolume:function(){return E(s,!0)},getLocalVolume:function(){return E(s,!1)},isAudioMuted:function(){return U(s,!1)},muteAudio:function(){return H(s,!1,!0)},unmuteAudio:function(){return H(s,!1,!1)},isVideoMuted:function(){return U(s,!0)},muteVideo:function(){return H(s,!0,!0)},unmuteVideo:function(){return H(s,!0,!1)},getBitrate:function(){return z(s)},send:function(e){N(s,e)},data:function(e){D(s,e)},dtmf:function(e){A(s,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){L(s,!0,e)},createAnswer:function(e){L(s,!1,e)},handleRemoteJsep:function(e){B(s,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(s,!0===e)},detach:function(e){R(s,e)}};O[s]=a,e.success(a)},error:function(t,s){gs.error(t+":",s),""===s?e.error(t+": Is the server down?"):e.error(t+": "+s)}})}(e)}}gs.UseDefaultDependencies=function(e){var t=e&&e.fetch||fetch,s=e&&e.Promise||Promise,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},extension:e&&e.extension||vs,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||Wt.a,httpAPICall:function(e,n){var a={method:n.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===n.verb&&(a.headers["Content-Type"]="application/json"),void 0!==n.withCredentials&&(a.credentials=!0===n.withCredentials?"include":n.withCredentials?n.withCredentials:"omit"),n.body&&(a.body=JSON.stringify(n.body));var i=t(e,a).catch((function(e){return s.reject({message:"Probably a network error, is the server down?",error:e})}));if(n.timeout){var r=new s((function(e,t){var s=setTimeout((function(){return clearTimeout(s),t({message:"Request timed out",timeout:n.timeout})}),n.timeout)}));i=s.race([i,r])}return i.then((function(e){return e.ok?typeof n.success===typeof gs.noop?e.json().then((function(e){try{n.success(e)}catch(t){gs.error("Unhandled httpAPICall success callback error",t)}}),(function(t){return s.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:s.reject({message:"API call failed",response:e})})).catch((function(e){typeof n.error===typeof gs.noop&&n.error(e.message||"<< internal error >>",e)})),i}}},gs.useOldDependencies=function(e){var t=e&&e.jQuery||G.a,s=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new s(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||vs,webRTCAdapter:e&&e.adapter||Wt.a,httpAPICall:function(e,s){var n=void 0!==s.body?{contentType:"application/json",data:JSON.stringify(s.body)}:{},a=void 0!==s.withCredentials?{xhrFields:{withCredentials:s.withCredentials}}:{};return t.ajax(t.extend(n,a,{url:e,type:s.verb,cache:!1,dataType:"json",async:s.async,timeout:s.timeout,success:function(e){typeof s.success===typeof gs.noop&&s.success(e)},error:function(e,t,n){typeof s.error===typeof gs.noop&&s.error(t,n)}}))}}},gs.noop=function(){},gs.dataChanDefaultLabel="JanusDataChannel",gs.endOfCandidates=null,gs.stopAllTracks=function(e){try{var t,s=e.getTracks(),n=Object(qt.a)(s);try{for(n.s();!(t=n.n()).done;){var a=t.value;gs.log(a),a&&a.stop()}}catch(i){n.e(i)}finally{n.f()}}catch(r){}},gs.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:gs.noop,gs.initDone)e.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),gs.trace=gs.noop,gs.debug=gs.noop,gs.vdebug=gs.noop,gs.log=gs.noop,gs.warn=gs.noop,gs.error=gs.noop,!0===e.debug||"all"===e.debug)gs.trace=console.trace.bind(console),gs.debug=console.debug.bind(console),gs.vdebug=console.debug.bind(console),gs.log=console.log.bind(console),gs.warn=console.warn.bind(console),gs.error=console.error.bind(console);else if(Array.isArray(e.debug)){var t,s=Object(qt.a)(e.debug);try{for(s.s();!(t=s.n()).done;){var n=t.value;switch(n){case"trace":gs.trace=console.trace.bind(console);break;case"debug":gs.debug=console.debug.bind(console);break;case"vdebug":gs.vdebug=console.debug.bind(console);break;case"log":gs.log=console.log.bind(console);break;case"warn":gs.warn=console.warn.bind(console);break;case"error":gs.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+n+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}}catch(u){s.e(u)}finally{s.f()}}gs.log("Initializing library");var a=e.dependencies||gs.UseDefaultDependencies();gs.isArray=a.isArray,gs.webRTCAdapter=a.webRTCAdapter,gs.httpAPICall=a.httpAPICall,gs.newWebSocket=a.newWebSocket,gs.extension=a.extension,gs.extension.init(),gs.listDevices=function(e,t){e="function"==typeof e?e:gs.noop,null==t&&(t={audio:!0,video:!0}),gs.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(s){gs.debug(s),e(s),gs.stopAllTracks(t)}))})).catch((function(t){gs.error(t),e([])})):(gs.warn("navigator.mediaDevices unavailable"),e([]))},gs.attachMediaStream=function(e,t){try{e.srcObject=t}catch(s){try{e.src=URL.createObjectURL(t)}catch(s){gs.error("Error attaching stream to element")}}},gs.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(s){try{e.src=t.src}catch(s){gs.error("Error reattaching stream to element")}}};var i=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",r=window["on"+i];if(window.addEventListener(i,(function(e){for(var t in gs.log("Closing window"),gs.sessions)gs.sessions[t]&&gs.sessions[t].destroyOnUnload&&(gs.log("Destroying session "+t),gs.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));r&&"function"==typeof r&&r()})),gs.safariVp8=!1,"safari"===gs.webRTCAdapter.browserDetails.browser&&gs.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){var c,o=Object(qt.a)(RTCRtpSender.getCapabilities("video").codecs);try{for(o.s();!(c=o.n()).done;){var l=c.value;if(l&&l.mimeType&&"video/vp8"===l.mimeType.toLowerCase()){gs.safariVp8=!0;break}}}catch(u){o.e(u)}finally{o.f()}gs.safariVp8?gs.log("This version of Safari supports VP8"):gs.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var d=new RTCPeerConnection({});d.createOffer({offerToReceiveVideo:!0}).then((function(e){gs.safariVp8=-1!==e.sdp.indexOf("VP8"),gs.safariVp8?gs.log("This version of Safari supports VP8"):gs.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),d.close(),d=null}))}if(gs.unifiedPlan=!1,"firefox"===gs.webRTCAdapter.browserDetails.browser&&gs.webRTCAdapter.browserDetails.version>=59)gs.unifiedPlan=!0;else if("chrome"===gs.webRTCAdapter.browserDetails.browser&&gs.webRTCAdapter.browserDetails.version>=72)gs.unifiedPlan=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in ps.prototype){var h=new RTCPeerConnection;try{h.addTransceiver("audio"),gs.unifiedPlan=!0}catch(j){}h.close()}else gs.unifiedPlan=!1;gs.initDone=!0,e.callback()}},gs.isWebrtcSupported=function(){return!!window.RTCPeerConnection},gs.isGetUserMediaAvailable=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},gs.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="",n=0;n<e;n++){var a=Math.floor(Math.random()*t.length);s+=t.substring(a,a+1)}return s};var ms=gs;function fs(e){var t=this;ms.init({debug:"none",callback:function(){var s=new ms({server:t.state.server,iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"turn:sync1.ut.ac.ir:3478",username:"shafiei",credential:"12345678"}],success:function(){s.attach({plugin:"janus.plugin.videoroom",opaqueId:t.state.opaqueId,success:function(n){t.setState({janus:s}),t.setState({sfutest:n}),ms.log("Plugin attached! ("+t.state.sfutest.getPlugin()+", id="+t.state.sfutest.getId()+")"),ms.log("  -- This is a publisher/manager"),t.vregisterUsername(e)},error:function(e){ms.error("  -- Error attaching plugin...",e)},consentDialog:function(e){ms.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){ms.log("ICE state changed to "+e)},mediaState:function(e,t){ms.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){ms.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},onmessage:function(e,s){ms.debug(" ::: Got a message (publisher) :::",e),console.log(" ::: Got a message (publisher) :::",e);var n=e.videoroom;if(ms.debug("Event: "+n),n)if("joined"===n){console.log("><><><><><>",e),t.setState({myVroomId:e.id,vJoined:!0}),ms.log("Successfully joined room "+e.room+" with ID "+e.id);var a=t.currentRole();if(t.vAddParticipant(e.id,t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+a+"\xa7"+t.state.slot),e.publishers){var i=e.publishers;for(var r in console.debug("Got a list of available publishers/feeds:",i),i){console.log("List >>",i);var c=i[r].id,o=i[r].display,l=i[r].audio_codec,d=i[r].video_codec;ms.debug("  >> ["+c+"] "+o+" (audio: "+l+", video: "+d+")"),t.vAddParticipant(i[r].id,i[r].display),t.vNewRemoteFeed(c,"",o,l,d)}}}else if("destroyed"===n)ms.warn("The room has been destroyed!");else if("event"===n)if(e.publishers){i=e.publishers;for(var r in ms.debug("Got a list of available publishers/feeds:",i),i){c=i[r].id,o=i[r].display,l=i[r].audio_codec,d=i[r].video_codec;console.log(i),ms.debug("  >> ["+c+"] "+o+" (audio: "+l+", video: "+d+")"),t.vAddParticipant(i[r].id,i[r].display),t.vNewRemoteFeed(c,"",o,l,d)}}else if(e.display){a=e.display.split("\xa7")[4];var h=e.display.split("\xa7")[1];if(t.changeOwn(h,a),t.vChangeOwn(h,a),!t.state.isSata||"moderator"!==a&&"presenter"!==a||t.vNewRemoteFeed(e.id,"",e.display,l,d),t.state.isSata&&("speaker"===a||"listener"===a)){var u=t.state.feeds.filter((function(t){return t.rfid===e.id}));u&&u[0]&&(console.log(u[0]),u[0].send({message:{request:"leave"},success:function(e){console.log(e)}}))}}else if(e.leaving){var j=e.leaving;console.log("Publisher leaving: "+j),t.setState({feeds:t.state.feeds.filter((function(e){return e.rfid!=j}))},(function(){return console.log("feeds: >>>>",t.state.feeds)})),null!=(b=t.state.feeds.filter((function(e){return e.rfid===j})).shift())&&b.detach(),t.vremoveParticipant(j)}else if(e.unpublished){var b,p=e.unpublished;if(console.log("Publisher left: "+p),"ok"===p)return t.state.sfutest.hangup(),void t.vStreamDettacher(t.state.sfutest);null!=(b=t.state.feeds.filter((function(e){return e.rfid===p})).shift())&&(b.detach(),t.vStreamDettacher(b)),t.vremoveParticipant(p),t.setState({feeds:t.state.feeds.filter((function(e){return e.rfid!=p}))})}else e.error&&e.error_code;s&&(ms.debug("Handling SDP as well...",s),t.state.sfutest.handleRemoteJsep({jsep:s}))},onlocalstream:function(e){ms.debug(" ::: Got a local stream :::",e),console.log(" ::: Got a local stream :::",e),console.log(t.state.sfutest.id),0===t.state.feeds.filter((function(e){return e.id===t.state.sfutest.id})).length&&(t.state.sfutest.rfid=t.state.myVroomId,t.setState({feeds:t.state.feeds.concat(t.state.sfutest)}));var s=e.getVideoTracks();console.log("onlocalstream",s),s&&0!==s.length?(console.log(t.state.vparticipants),t.vStreamAttacher(t.state.sfutest,t.state.name)):t.vStreamDettacher(t.state.sfutest)},onremotestream:function(e){},oncleanup:function(){ms.log(" ::: Got a cleanup notification: we are unpublished now :::")}})},error:function(e){ms.error(e);var s="";t.state.publishedCamera&&(s=s+"?cam=true&roomId="+t.state.slot),t.state.muted||(s+="&mic=true")},destroyed:function(){window.location.reload()}})}})}function xs(e,t,s,n,a){var i=this,r=s.split("\xa7")[0],c=s.split("\xa7")[4],o=null;i.state.janus.attach({plugin:"janus.plugin.videoroom",opaqueId:this.state.opaqueId,success:function(t){(o=t).simulcastStarted=!1,ms.log("Plugin attached! ("+o.getPlugin()+", id="+o.getId()+")"),ms.log("  -- This is a subscriber");var s={request:"join",room:parseInt(i.state.vroomId),ptype:"subscriber",pin:i.state.vpin,feed:e,private_id:i.state.mypvtid};"safari"!==ms.webRTCAdapter.browserDetails.browser||"vp9"!==a&&("vp8"!==a||ms.safariVp8)||(a&&(a=a.toUpperCase()),console.log("Publisher is using "+a+", but Safari doesn't support it: disabling video"),s.offer_video=!1),o.videoCodec=a,!i.state.isSata||"moderator"!==c&&"presenter"!==c||o.send({message:s}),i.state.isSata||o.send({message:s})},error:function(e){ms.error("  -- Error attaching plugin...",e),window.alert("Error attaching plugin... "+e)},onmessage:function(e,t){ms.debug(" ::: Got a message (subscriber) :::",e),console.log(" ::: Got a message (subscriber) :::",e);var s=e.videoroom;ms.log("Event: "+s),e.error||s&&("attached"===s?(o.rfid=e.id,o.rfdisplay=e.display,i.setState({feeds:i.state.feeds.concat(o)},(function(){return console.log("@@@@",i.state.feeds)})),a||i.vStreamDettacher(o),ms.log("Successfully attached to feed "+o.rfid+" ("+o.rfdisplay+") in room "+e.room)):"event"===s&&e.leaving),t&&(ms.log("Handling SDP as well...",t),o.createAnswer({jsep:t,media:{audioSend:!1,videoSend:!1,data:!1},success:function(e){ms.log("Got SDP!",e);var t={request:"start",room:i.state.roomId};o.send({message:t,jsep:e})},error:function(e){ms.log("WebRTC error:",e),window.alert("WebRTC error... "+e.message)}}))},iceState:function(e){ms.log("ICE state of this WebRTC PeerConnection (feed #"+o.rfid+") changed to "+e)},webrtcState:function(e){ms.log("Janus says this WebRTC PeerConnection (feed #"+o.rfid+") is "+(e?"up":"down")+" now"),"down"===e&&i.vremoveParticipant(o.rfid)},onlocalstream:function(e){console.log(">>>>>>>>>>>",e)},onremotestream:function(e){console.log(">>>>>>>>>>>",e),i.vStreamAttacher(o,r)},ondata:function(e){},oncleanup:function(){i.vStreamDettacher(o),i.setState({feeds:i.state.feeds.filter((function(e){return e.id!==o.id}))}),i.disher(),ms.log(" ::: Got a cleanup notification (remote feed "+e+") :::")}})}function Os(e){var t=this,s=this.currentRole(),n=1,a={request:"listparticipants",room:parseInt(this.state.vroomId)};t.state.sfutest.send({message:a,success:function(a){var i=[];a.participants&&a.participants.length>0&&a.participants.map((function(e){e.display.split("\xa7")[5]&&"NaN"!==e.display.split("\xa7")[5]&&i.push(parseInt(e.display.split("\xa7")[5]))})),i.length>0&&(n=Math.max.apply(Math,i)+1,console.log("&&&&&",i,n)),t.state.is_moderator,t.setState({slot:n});var r={request:"join",room:parseInt(e),ptype:"publisher",pin:t.state.vpin,display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+s+"\xa7"+n};t.state.sfutest.send({message:r})}})}function ws(e){var t=this,s=this.currentRole();console.log("changing role to ..",s,parseInt(e));var n={request:"configure",room:parseInt(e),pin:t.state.vpin,display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+s+"\xa7"+t.state.slot};t.state.sfutest.send({message:n}),t.setState({myId:t.state.mixertest.id,role:s}),t.changeOwn(t.state.userUUID,s),t.vChangeOwn(t.state.userUUID,s)}function ys(e){var t={request:"listparticipants",room:parseInt(this.state.vroomId)};this.state.sfutest.send({message:t,success:function(e){console.log(e)}})}function ks(e,t){var s=this,n=s.state.vparticipants.filter((function(t){return t.uuid===e}));n&&n.length>0&&s.setState({vparticipants:s.state.vparticipants.filter((function(t){return t.uuid!==e}))},(function(){n[0].role=t,s.setState({vparticipants:s.state.vparticipants.concat(n[0])})}))}function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this;if(console.log("Attaching "+e),console.log(G()("#video-"+e.id)),0==G()("#video-"+e.id).length){var n=document.createElement("video");n.autoplay=!0,n.muted=!0,n.id="video-"+e.id}e.id&&e.webrtcStuff&&e.webrtcStuff.remoteStream&&(0==G()("#video-"+e.id).length&&G()("#Dish").append("<div id='d-"+e.id+"' class='Camera' data-content='"+t+"'></div>"),n&&G()("#d-"+e.id).append(n),ms.attachMediaStream(document.getElementById("video-"+e.id),e.webrtcStuff.remoteStream),s.disher("","Dish","Camera")),e.id&&e.webrtcStuff&&e.webrtcStuff.myStream&&(s.state.isSata?0==G()("#video-"+e.id).length&&G()("#myDish").append("<div id='d-"+e.id+"' class='myCamera' data-content='"+t+"'></div>"):0==G()("#video-"+e.id).length&&G()("#Dish").append("<div id='d-"+e.id+"' class='Camera' data-content='"+t+"'></div>"),n&&G()("#d-"+e.id).append(n),ms.attachMediaStream(document.getElementById("video-"+e.id),e.webrtcStuff.myStream),s.state.isSata?s.disher("","myDish","myCamera"):s.disher("","Dish","Camera")),G()("#video-"+e.id).css("width","inherit")}function Ss(e){e.id&&(G()("#video-"+e.id).remove(),G()("#d-"+e.id).remove(),this.disher("","Dish","Camera"))}function Cs(e){this.setState({vparticipants:this.state.vparticipants.filter((function(t){return t.id!==e}))})}function Is(e,t){var s=t.split("\xa7");this.exisitingParticipant(s[1])&&this.setState({vparticipants:this.state.vparticipants.concat({id:e,display:s[0],uuid:s[1],userColor:s[2],initials:s[3],role:s[4],slot:s[5],current:"stopped-talking"})})}function Ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this,n=!0,a=!0;s.state.is_moderator?(n="stdres-16:9",e=16):(n="lowres",e=16),t&&(a={deviceId:t}),s.state.sfutest.createOffer({media:Object(D.a)({audioRecv:!1,videoRecv:!1,data:!1,videoSend:!0,audioSend:!1,video:n},"video",a),success:function(t){if(ms.debug("********* Got publisher SDP!",t),console.log("switching to "+e),t){var n={request:"configure",audio:!1,video:!0,data:!1,bitrate:8e3*e,keyframe:!0,bitrate_cap:!1};s.state.sfutest.send({message:n,jsep:t})}s.setState({publishedCamera:!0}),G()("#camera-spinner").hide(),G()("#camera-on").hide(),G()("#camera-off").show(),G()("#camera-off").css("color","black")},error:function(e){ms.error("***** WebRTC error:",e)}})}function Ms(){var e=this;console.log("unPublishing ..");e.state.sfutest.send({message:{request:"unpublish"}}),e.vStreamDettacher(e.state.sfutest),G()("#camera-spinner").hide(),G()("#camera-on").show(),G()("#camera-off").css("color","initial"),e.setState({publishedCamera:!1,videoState:"initial"})}function Ts(e){var t=this;t.state.publishedCamera&&t.unPublishCamera(),t.publishCamera(16,e)}function Ds(){this.state.sfutest&&(this.unPublishCamera(),this.state.sfutest.send({message:{request:"leave"}}))}function As(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this;G()("#camera-spinner").show(),G()("#camera-off").hide(),G()("#camera-on").hide(),s.state.publishedCamera?t?(s.unPublishCamera(),setTimeout(function(){s.publishCamera(8,e)}.bind(this),2e3)):s.unPublishCamera():s.publishCamera(8,e)}function Rs(e){var t=this;ms.init({debug:"none",callback:function(){var s=new ms({server:t.state.server,iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"turn:sync1.ut.ac.ir:3478",username:"shafiei",credential:"12345678"}],success:function(){console.log("sucess"),s.attach({plugin:"janus.plugin.videoroom",opaqueId:t.state.opaqueId,success:function(n){console.log("pluginHandle",n),t.setState({scJanus:s}),t.setState({scSfutest:n}),ms.log("Plugin attached! ("+t.state.scSfutest.getPlugin()+", id="+t.state.scSfutest.getId()+")"),ms.log("  -- This is a publisher/manager"),t.scRegisterUsername(e)},error:function(e){ms.error("  -- Error attaching plugin...",e),console.log(e)},consentDialog:function(e){ms.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){ms.log("ICE state changed to "+e)},mediaState:function(e,t){ms.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){ms.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},onmessage:function(e,s){ms.debug(" ::: Got a message (publisher) :::",e);var n=e.videoroom;if(ms.debug("Event: "+n),n)if("joined"===n){if(t.setState({myScRoomId:e.id,scJoined:!0}),console.log(">>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<",e),ms.log("Successfully joined room "+e.room+" with ID "+e.id),e.publishers){var a=e.publishers;for(var i in ms.debug("Got a list of available publishers/feeds:",a),a){console.log("List >>",a);var r=a[i].id,c=a[i].display,o=a[i].audio_codec,l=a[i].video_codec;ms.debug("  >> ["+r+"] "+c+" (audio: "+o+", video: "+l+")"),t.scAddParticipant(a[i].id,a[i].display),t.scNewRemoteFeed(r,"",c,o,l)}}}else if("destroyed"===n)ms.warn("The room has been destroyed!");else if("event"===n)if(e.publishers){a=e.publishers;for(var i in console.debug("Got a list of available publishers/feeds:",a),a){r=a[i].id,c=a[i].display,o=a[i].audio_codec,l=a[i].video_codec;console.log(a),ms.debug("  >> ["+r+"] "+c+" (audio: "+o+", video: "+l+")"),t.scAddParticipant(a[i].id,a[i].display),t.scNewRemoteFeed(r,"",c,o,l)}}else if(e.leaving){var d=e.leaving;console.log("Publisher leaving: "+d),t.setState({scFeeds:t.state.scFeeds.filter((function(e){return e.rfid!=d}))},(function(){return console.log("feeds: >>>>",t.state.scFeeds)})),null!=(h=t.state.scFeeds.filter((function(e){return e.rfid===d})).shift())&&h.detach(),t.scRemoveParticipant(d)}else if(e.unpublished){var h,u=e.unpublished;if(console.log("Publisher left: "+u),"ok"===u)return t.state.scSfutest.hangup(),void t.scStreamDettacher(t.state.scSfutest);null!=(h=t.state.scFeeds.filter((function(e){return e.rfid===u})).shift())&&(h.detach(),t.scStreamDettacher(h)),t.scRemoveParticipant(u),t.setState({scFeeds:t.state.scFeeds.filter((function(e){return e.rfid!=u}))})}else e.error&&e.error_code;s&&(ms.debug("Handling SDP as well...",s),t.state.scSfutest.handleRemoteJsep({jsep:s}))},onlocalstream:function(e){ms.debug(" ::: Got a local stream :::",e),0===t.state.scFeeds.filter((function(e){return e.id===t.state.scSfutest.id})).length&&(t.state.scSfutest.rfid=t.state.myVroomId,t.setState({scFeeds:t.state.scFeeds.concat(t.state.scSfutest)}));var s=e.getVideoTracks();s&&0!==s.length?t.scStreamAttacher(t.state.scSfutest,t.state.name):t.scStreamDettacher(t.state.scSfutest),e.getVideoTracks()[0].onended=function(){t.toggleScreen()}},onremotestream:function(e){},oncleanup:function(){t.scStreamDettacher(t.state.scSfutest),ms.log(" ::: Got a cleanup notification: we are unpublished now :::")}})},error:function(e){ms.error(e)},destroyed:function(){window.location.reload()}})}})}function Ps(e,t,s,n,a){var i=this,r=s.split("\xa7")[0],c=null;i.state.janus.attach({plugin:"janus.plugin.videoroom",opaqueId:this.state.opaqueId,success:function(t){(c=t).simulcastStarted=!1,ms.log("Plugin attached! ("+c.getPlugin()+", id="+c.getId()+")"),ms.log("  -- This is a subscriber");var s={request:"join",room:parseInt(i.state.scRoomId),ptype:"subscriber",feed:e,private_id:i.state.mypvtid};"safari"!==ms.webRTCAdapter.browserDetails.browser||"vp9"!==a&&("vp8"!==a||ms.safariVp8)||(a&&(a=a.toUpperCase()),console.log("Publisher is using "+a+", but Safari doesn't support it: disabling video"),s.offer_video=!1),c.videoCodec=a,c.send({message:s})},error:function(e){ms.error("  -- Error attaching plugin...",e),window.alert("Error attaching plugin... "+e)},onmessage:function(e,t){ms.debug(" ::: Got a message (subscriber) :::",e);var s=e.videoroom;ms.log("Event: "+s),e.error?window.alert(e.error):s&&"attached"===s&&(c.rfid=e.id,c.rfdisplay=e.display,i.setState({scFeeds:i.state.scFeeds.concat(c)},(function(){return console.log("@@@@",i.state.scFeeds)})),a||i.scStreamDettacher(c),ms.log("Successfully attached to feed "+c.rfid+" ("+c.rfdisplay+") in room "+e.room)),t&&(ms.log("Handling SDP as well...",t),c.createAnswer({jsep:t,media:{audioSend:!1,videoSend:!1,data:!1},success:function(e){ms.log("Got SDP!",e);var t={request:"start",room:i.state.roomId};c.send({message:t,jsep:e})},error:function(e){ms.log("WebRTC error:",e),window.alert("WebRTC error... "+e.message)}}))},iceState:function(e){ms.log("ICE state of this WebRTC PeerConnection (feed #"+c.rfid+") changed to "+e)},webrtcState:function(e){ms.log("Janus says this WebRTC PeerConnection (feed #"+c.rfid+") is "+(e?"up":"down")+" now"),"down"===e&&i.scRemoveParticipant(c.rfid)},onlocalstream:function(e){console.log(">>>>>>>>>>>",e)},onremotestream:function(e){console.log(">>>>>>>>>>>",e),i.scStreamAttacher(c,r)},ondata:function(e){},oncleanup:function(){ms.log(" ::: Got a cleanup notification (remote feed "+e+") :::")}})}function Ls(e){var t=this;console.log(parseInt(e));var s={request:"join",room:parseInt(e),ptype:"publisher",display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.slot};t.state.scSfutest.send({message:s})}function Bs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(console.log("Attaching "+e),console.log(G()("#screen-"+e.id)),0==G()("#screen-"+e.id).length){var s=document.createElement("video");s.autoplay=!0,s.muted=!0,s.width=800,s.id="screen-"+e.id,G()("#screen").append("<div id='s-"+e.id+"' class='Screen' data-content='"+t+"'></div>")}s&&G()("#s-"+e.id).append(s),e.id&&e.webrtcStuff&&e.webrtcStuff.remoteStream&&ms.attachMediaStream(document.getElementById("screen-"+e.id),e.webrtcStuff.remoteStream),e.id&&e.webrtcStuff&&e.webrtcStuff.myStream&&ms.attachMediaStream(document.getElementById("screen-"+e.id),e.webrtcStuff.myStream),G()("#screen-"+e.id).css("width","-webkit-fill-available")}function Es(e){e.id&&(G()("#screen-"+e.id).remove(),G()("#s-"+e.id).remove())}function Us(e,t){var s=t.split("\xa7");this.exisitingParticipant(s[1])&&this.setState({scParticipants:this.state.scParticipants.concat({id:e,display:s[0],uuid:s[1],userColor:s[2],role:"listener",current:"stopped-talking"})})}function Hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=this;t.state.scSfutest.createOffer({media:{audioRecv:!1,videoRecv:!1,data:!1,videoSend:!0,video:"screen",screenshareFrameRate:1,screenshareWidth:800,audioSend:!1},success:function(s){if(ms.debug("********* Got publisher SDP!",s),console.log("switching to "+e),s){t.state.scSfutest.send({message:{request:"configure",audio:!1,video:!0,data:!1,bitrate:5e6,keyframe:!0,publishers:1},jsep:s})}t.setState({publishedScreen:!0}),G()("#screen-spinner").hide(),G()("#screen-off").show(),G()("#screen-off").css("color","black")},error:function(e){ms.error("***** WebRTC error:",e)}})}function zs(){var e=this;console.log("unPublishing ..");e.state.scSfutest.send({message:{request:"unpublish"}}),e.scStreamDettacher(e.state.scSfutest),G()("#screen-spinner").hide(),G()("#screen-on").show(),G()("#screen-off").css("color","initial"),e.setState({publishedScreen:!1,videoState:"initial",slot:null})}function Fs(){this.state.scSfutest&&(this.unPublishScreen(),this.state.scSfutest.send({message:{request:"leave"}}))}function Vs(){var e=this;G()("#screen-spinner").show(),G()("#screen-off").hide(),G()("#screen-on").hide(),e.state.publishedScreen?e.unPublishScreen():e.publishScreen()}function qs(e,t,s,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=0,r=0,c=.75*e+2*a;i<t;)r+e>s&&(r=0,c=c+.75*e+2*a),r=r+e+2*a,i++;return!(c>n)&&e}function Ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Dish",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Camera";console.log("Disher called",t,s);var n=2,a=document.getElementById(t),i=0,r=0;a&&(i=a.offsetWidth-2*n,r=a.offsetHeight-2*n);for(var c=document.getElementsByClassName(s),o=0,l=1;l<5e3;){var d=qs(l,c.length,i,r,n);if(!1===d){o=l-1;break}l++}Gs(o-=2*n,n,s)}function Gs(e,t,s){console.log(e,t,s);for(var n=document.getElementsByClassName(s),a=0;a<n.length;a++)n[a].style.width=e+"px",n[a].style.margin=t+"px",n[a].style.height=.75*e+"px"}var Js=A.farsi,Ys=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n,a;return Object(c.a)(this,s),(a=t.call(this,e)).getInstance=a.getInstance.bind(Object(j.a)(a)),a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.setInstance=a.setInstance.bind(Object(j.a)(a)),a.handRaiseToggle=a.handRaiseToggle.bind(Object(j.a)(a)),a.initDevices=a.initDevices.bind(Object(j.a)(a)),a.vsessionCreate=fs.bind(Object(j.a)(a)),a.vregisterUsername=Os.bind(Object(j.a)(a)),a.vNewRemoteFeed=xs.bind(Object(j.a)(a)),a.publishCamera=Ns.bind(Object(j.a)(a)),a.toggleCamera=As.bind(Object(j.a)(a)),a.vStreamAttacher=_s.bind(Object(j.a)(a)),a.vStreamDettacher=Ss.bind(Object(j.a)(a)),a.vremoveParticipant=Cs.bind(Object(j.a)(a)),a.unPublishCamera=Ms.bind(Object(j.a)(a)),a.vChangeUsername=ws.bind(Object(j.a)(a)),a.vAddParticipant=Is.bind(Object(j.a)(a)),a.toggleVideoDevice=Ts.bind(Object(j.a)(a)),a.exitVideoRoom=Ds.bind(Object(j.a)(a)),a.changeUsername=ss.bind(Object(j.a)(a)),a.listParticipants=ys.bind(Object(j.a)(a)),a.vChangeOwn=ks.bind(Object(j.a)(a)),a.currentRole=ns.bind(Object(j.a)(a)),a.sessionCreate=Xt.bind(Object(j.a)(a)),a.registerUsername=ts.bind(Object(j.a)(a)),a.participantChangeStatus=ds.bind(Object(j.a)(a)),a.participantDisplay=ls.bind(Object(j.a)(a)),a.forceMute=js.bind(Object(j.a)(a)),a.participantChangeRoom=hs.bind(Object(j.a)(a)),a.exitAudioRoom=bs.bind(Object(j.a)(a)),a.removeParticipant=as.bind(Object(j.a)(a)),a.addParticipant=is.bind(Object(j.a)(a)),a.toggleMute=us.bind(Object(j.a)(a)),a.exisitingParticipant=rs.bind(Object(j.a)(a)),a.changeParticipant=os.bind(Object(j.a)(a)),a.changeOwn=cs.bind(Object(j.a)(a)),a.handRaiseCreate=nt.bind(Object(j.a)(a)),a.handRaiseDestroy=at.bind(Object(j.a)(a)),a.isHandRaised=it.bind(Object(j.a)(a)),a.joinAudioRoom=$t.bind(Object(j.a)(a)),a.joinAudioRoomWOMic=es.bind(Object(j.a)(a)),a.scSessionCreate=Rs.bind(Object(j.a)(a)),a.scRegisterUsername=Ls.bind(Object(j.a)(a)),a.scNewRemoteFeed=Ps.bind(Object(j.a)(a)),a.publishScreen=Hs.bind(Object(j.a)(a)),a.toggleScreen=Vs.bind(Object(j.a)(a)),a.scStreamAttacher=Bs.bind(Object(j.a)(a)),a.scStreamDettacher=Es.bind(Object(j.a)(a)),a.unPublishScreen=zs.bind(Object(j.a)(a)),a.scAddParticipant=Us.bind(Object(j.a)(a)),a.exitScreenRoom=Fs.bind(Object(j.a)(a)),a.dishArea=qs.bind(Object(j.a)(a)),a.disher=Ws.bind(Object(j.a)(a)),a.setWidth=Gs.bind(Object(j.a)(a)),a.appendChat=Qe.bind(Object(j.a)(a)),a.chatItems=$e.bind(Object(j.a)(a)),a.throttle=et.bind(Object(j.a)(a)),a.send=tt.bind(Object(j.a)(a)),a.wsSend=st.bind(Object(j.a)(a)),a.keydownHandler=Ze.bind(Object(j.a)(a)),a.scrollChat=Xe.bind(Object(j.a)(a)),a.socketHandle=a.socketHandle.bind(Object(j.a)(a)),a.handleChangedRole=a.handleChangedRole.bind(Object(j.a)(a)),a.broadcast=a.broadcast.bind(Object(j.a)(a)),a.changeLayout=a.changeLayout.bind(Object(j.a)(a)),a.state=(n={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),name:null,fullname:null,userUUID:null,initials:null,is_speaker:!1,is_moderator:!1,is_presenter:!1,role:null,talking:{},handRaised:[],myHand:!1,sourceSettings:!1,opaqueId:"videoroomtest-"+Kt.randomString(12),mixertest:null,server:w,roomId:null,pin:null,id:null,participants:[],vparticipants:[],scParticipants:[],muted:!0},Object(D.a)(n,"talking",!1),Object(D.a)(n,"myId",null),Object(D.a)(n,"vroomId",null),Object(D.a)(n,"vpin",null),Object(D.a)(n,"scRoomId",1234),Object(D.a)(n,"scPin",null),Object(D.a)(n,"scJanus",null),Object(D.a)(n,"scSfutest",null),Object(D.a)(n,"scFeeds",[]),Object(D.a)(n,"janus",null),Object(D.a)(n,"sfutest",null),Object(D.a)(n,"feeds",[]),Object(D.a)(n,"propagates",[]),Object(D.a)(n,"chats",[]),Object(D.a)(n,"lastTime",Date.now()),Object(D.a)(n,"content",null),Object(D.a)(n,"item",null),Object(D.a)(n,"speakerDevices",[]),Object(D.a)(n,"microphoneDevices",[]),Object(D.a)(n,"cameraDevices",[]),Object(D.a)(n,"isSata",!1),Object(D.a)(n,"slot",1),Object(D.a)(n,"layoutCol",12),Object(D.a)(n,"errorMessage",null),Object(D.a)(n,"speakerDevice",null),Object(D.a)(n,"microphoneDevice",null),Object(D.a)(n,"cameraDevice",null),Object(D.a)(n,"theme",""),Object(D.a)(n,"playSoundBtn",!1),Object(D.a)(n,"timer",0),Object(D.a)(n,"timerDuration",120),Object(D.a)(n,"timerPlaying",!1),Object(D.a)(n,"timerStarted",!0),Object(D.a)(n,"timerCard",!1),Object(D.a)(n,"pollCard",!1),Object(D.a)(n,"playingFiles",[]),n),a}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("set_instance",this.setInstance),g.on("got_instance",this.getInstance),g.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_instance",this.getInstance),g.removeListener("set_instance",this.setInstance),g.removeListener("deleted_instance",this.getInstance),window.localStorage.setItem(this.state.roomId,"unchoke"),this.exitAll(),document.body.classList.remove("theme-dark")}},{key:"exitAll",value:function(){this.exitAudioRoom(),this.exitVideoRoom()}},{key:"componentDidMount",value:function(){Js=A[this.state.lang];var e=this;this.state.token&&this.state.token.length>10&&I("users/validate_token",{},this.state.token),window.addEventListener("load",(function(t){e.disher(),window.onresize=Ws}),!1),We.on("connect",(function(){e.state.roomId&&We.emit("room",{room:e.state.roomId.toString(),uuid:e.state.userUUID})})),We.on("message",(function(t){console.log("message",t),t.sender!==e.state.userUUID&&e.socketHandle(t)})),G()(window).on("resize",Ws),G()("#videoz").on("resize",Ws),this.initDevices(),window.localStorage.getItem(this.state.roomId)||window.localStorage.setItem(this.state.roomId,"unchoke"),window.onunload=window.onbeforeunload=function(){window.localStorage.setItem(this.state.roomId,"unchoke")}}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"initDevices",value:function(){var e=this;navigator.mediaDevices.enumerateDevices().then((function(t){t.forEach((function(t){"audiooutput"===t.kind&&e.setState({speakerDevices:e.state.speakerDevices.concat({id:t.deviceId,label:t.label})}),"audioinput"===t.kind&&e.setState({microphoneDevices:e.state.microphoneDevices.concat({id:t.deviceId,label:t.label})}),"videoinput"===t.kind&&e.setState({cameraDevices:e.state.cameraDevices.concat({id:t.deviceId,label:t.label})})}))})).catch((function(e){console.log(e.name+": "+e.message)}))}},{key:"socketHandle",value:function(e){var t=this,s=this,n=e;switch(n.type){case"chat":s.appendChat(n.c);break;case"changeRole":s.handleChangedRole(n.c);break;case"changeLayout":s.changeOwnLayout(n.c.x);break;case"handRaise":s.handRaiseCreate(n.c);break;case"handDown":s.handRaiseDestroy(n.c);break;case"toggleTimer":this.setState({timerStarted:!1,timerDuration:n.c.timerDuration},(function(){t.setState({timerStarted:!0})}));break;case"startTimer":this.setState({timerPlaying:!0});break;case"stopTimer":this.setState({timerPlaying:!1});break;case"userCounter":s.setState({userCounter:n.c})}}},{key:"handleChangedRole",value:function(e){var t=this,s=e.uuid,n=e.role;s==t.state.userUUID&&("listener"===n&&t.setState({is_speaker:!1,is_presenter:!1,is_moderator:!1},(function(){t.vChangeUsername(t.state.vroomId)})),"speaker"===n&&t.setState({is_speaker:!0,is_presenter:!1,is_moderator:!1},(function(){t.vChangeUsername(t.state.roomId)})),"presenter"===n&&t.setState({is_presenter:!0,is_speaker:!1,is_moderator:!1},(function(){t.vChangeUsername(t.state.roomId)})),"moderator"===n&&t.setState({is_moderator:!0,is_speaker:!1,is_presenter:!1},(function(){t.vChangeUsername(t.state.roomId)})))}},{key:"getInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Room"===t&&this.setState({id:s.id,roomId:s.uuid,pin:s.pin,secret:s.secret,vroomId:s.vuuid,vpin:s.vpin,vsecret:s.vsecret,is_speaker:s.is_speaker,is_moderator:s.is_moderator,is_presenter:s.is_presenter,isSata:s.is_sata},(function(){e.sessionCreate(e.state.roomId),e.vsessionCreate(e.state.vroomId),e.scSessionCreate(1234),"unchoke"===window.localStorage.getItem(e.state.roomId)&&(window.localStorage.setItem(e.state.roomId,"choke"),window.location.reload()),e.connectSocketRoom()}))}},{key:"setInstance",value:function(){var e=this,t=g.getKlass(),s=g.getIntance();"Validate"===t&&this.setState({name:s.name,fullname:s.name,initials:s.initials,userUUID:s.uuid},(function(){S("rooms",e.props.match.params.id,e.state.token)}))}},{key:"broadcast",value:function(){console.log("{}{}{}",this.state.feeds);var e={request:"rtp_forward",room:parseInt(this.state.vroomId),publisher_id:this.state.feeds[0].rfid,host:"127.0.0.1",audio_port:10001,video_port:10003,data_port:5e3,secret:this.state.vsecret};this.state.sfutest.send({message:e,success:function(e){console.log(e)}})}},{key:"playSound",value:function(e){var t=this,s={request:"play_file",room:parseInt(this.state.roomId),secret:this.state.secret,filename:"/var/snap/janus-gateway/common/share/OPUS/"+e+".opus",loop:!1};this.state.mixertest.send({message:s,success:function(s){t.setState({playingFiles:t.state.playingFiles.concat({fileName:e,fileId:s.file_id})}),console.log(s)}})}},{key:"stopSound",value:function(){var e=this;this.state.playingFiles.map((function(t){var s={request:"stop_file",room:parseInt(e.state.roomId),secret:e.state.secret,file_id:t.fileId};e.state.mixertest.send({message:s,success:function(e){console.log(e)}})}))}},{key:"presentBtn",value:function(){var e=this;if(this.state.is_presenter||this.state.is_moderator)return Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.toggleScreen()},children:Object(R.jsxs)("span",{class:"avatar avatar-mini avatar-ctl",children:[Object(R.jsx)("div",{id:"screen-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}}),Object(R.jsxs)("svg",{id:"screen-on",style:{display:"block"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M21 12v3a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h9"}),Object(R.jsx)("line",{x1:"7",y1:"20",x2:"17",y2:"20"}),Object(R.jsx)("line",{x1:"9",y1:"16",x2:"9",y2:"20"}),Object(R.jsx)("line",{x1:"15",y1:"16",x2:"15",y2:"20"}),Object(R.jsx)("path",{d:"M17 8l4 -4m-4 0l4 4"})]}),Object(R.jsxs)("svg",{id:"screen-off",style:{display:"none"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M21 12v3a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h9"}),Object(R.jsx)("line",{x1:"7",y1:"20",x2:"17",y2:"20"}),Object(R.jsx)("line",{x1:"9",y1:"16",x2:"9",y2:"20"}),Object(R.jsx)("line",{x1:"15",y1:"16",x2:"15",y2:"20"}),Object(R.jsx)("path",{d:"M17 4h4v4"}),Object(R.jsx)("path",{d:"M16 9l5 -5"})]})]})})}},{key:"microphoneBtn",value:function(){var e=this;if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.toggleMute()},children:Object(R.jsxs)("span",{class:"avatar avatar-mini avatar-ctl",children:[Object(R.jsxs)("svg",{id:"microphone-off",style:{display:"none"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"9",y:"2",width:"6",height:"11",rx:"3"}),Object(R.jsx)("path",{d:"M5 10a7 7 0 0 0 14 0"}),Object(R.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),Object(R.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),Object(R.jsxs)("svg",{id:"microphone-on",style:{display:"block"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"3",y1:"3",x2:"21",y2:"21"}),Object(R.jsx)("path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"}),Object(R.jsx)("path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2.002 -2a6.967 6.967 0 0 0 1.152 -3.85"}),Object(R.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),Object(R.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})]})})}},{key:"cameraBtn",value:function(){var e=this;if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.toggleCamera(e.state.cameraDevices[0].id)},children:Object(R.jsxs)("span",{class:"avatar avatar-mini avatar-ctl",children:[Object(R.jsx)("div",{id:"camera-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}}),Object(R.jsxs)("svg",{id:"camera-off",style:{display:"none"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"10",r:"7"}),Object(R.jsx)("circle",{cx:"12",cy:"10",r:"3"}),Object(R.jsx)("path",{d:"M8 16l-2.091 3.486a1 1 0 0 0 .857 1.514h10.468a1 1 0 0 0 .857 -1.514l-2.091 -3.486"})]}),Object(R.jsxs)("svg",{id:"camera-on",style:{display:"block"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M6.15 6.153a7 7 0 0 0 9.696 9.696m2.003 -2.001a7 7 0 0 0 -9.699 -9.695"}),Object(R.jsx)("path",{d:"M9.13 9.122a3 3 0 0 0 3.743 3.749m2.001 -2.009a3 3 0 0 0 -3.737 -3.736"}),Object(R.jsx)("path",{d:"M8 16l-2.091 3.486a1 1 0 0 0 .857 1.514h10.468a1 1 0 0 0 .857 -1.514l-2.091 -3.486"}),Object(R.jsx)("line",{x1:"3",y1:"3",x2:"21",y2:"21"})]})]})})}},{key:"settingsBtn",value:function(){var e=this;if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.toggleSettings()},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})})})}},{key:"handRaiseBtn",value:function(){var e=this;if(!this.state.is_moderator)return Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.handRaiseToggle()},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),Object(R.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),Object(R.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),Object(R.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]})})})}},{key:"exitBtn",value:function(){var e=this;return Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.exitAll()},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),Object(R.jsx)("path",{d:"M7 12h14l-3 -3m0 6l3 -3"})]})})})}},{key:"controls",value:function(){return Object(R.jsx)("div",{class:"card card-active mb-3",children:Object(R.jsxs)("div",{class:"card-body p-0 py-1",style:{textAlign:"center"},children:[this.microphoneBtn(),this.cameraBtn(),this.presentBtn(),this.settingsBtn(),this.handRaiseBtn()]})})}},{key:"changeOwnLayout",value:function(e){var t=this;G()("#content").css("min-height","450px"),4===e&&this.setState({layoutCol:6,timerCard:!0,pollCard:!0},(function(){setTimeout(function(){this.disher("","Dish","Camera")}.bind(t),700)})),2===e&&this.setState({layoutCol:6,timerCard:!1,pollCard:!1},(function(){setTimeout(function(){this.disher("","Dish","Camera")}.bind(t),700)})),3===e&&(G()("#content").css("min-height","180px"),G()("#content-card").css("background-color","#ffffff00 !important"),this.setState({layoutCol:12,timerCard:!1,pollCard:!1},(function(){setTimeout(function(){this.disher("","Dish","Camera")}.bind(t),700)}))),1===e&&this.setState({layoutCol:12,timerCard:!1,pollCard:!1},(function(){setTimeout(function(){this.disher("","Dish","Camera")}.bind(t),700)}))}},{key:"changeLayout",value:function(e){this.wsSend({type:"changeLayout",c:{uuid:this.state.userUUID,x:e}}),this.changeOwnLayout(e)}},{key:"toggleTheme",value:function(){""!==this.state.theme?(this.setState({theme:""}),document.body.classList.remove("theme-dark")):(document.body.classList.add("theme-dark"),this.setState({theme:"theme-dark"}))}},{key:"layoutControl",value:function(){var e=this;if(this.state.is_moderator)return Object(R.jsx)("div",{class:"card card-active card-danger mb-3",children:Object(R.jsxs)("div",{class:"card-body p-0 py-1",style:{textAlign:"center"},children:[Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.changeLayout(2)},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"12",y1:"4",x2:"12",y2:"20"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.changeLayout(1)},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"6",rx:"2"}),Object(R.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",rx:"2"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.changeLayout(4)},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),Object(R.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",rx:"1"}),Object(R.jsx)("rect",{x:"4",y:"14",width:"6",height:"6",rx:"1"}),Object(R.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.changeLayout(3)},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),Object(R.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",rx:"1",fill:"black"}),Object(R.jsx)("rect",{x:"4",y:"14",width:"6",height:"6",rx:"1"}),Object(R.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.toggleTheme()},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"}),Object(R.jsx)("path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),Object(R.jsx)("path",{d:"M19 11h2m-1 -1v2"})]})})})]})})}},{key:"adminControl",value:function(){var e=this;if(this.state.is_moderator)return Object(R.jsx)("div",{class:"card card-active card-sucess mb-3",children:Object(R.jsxs)("div",{class:"card-body p-0 py-1",style:{textAlign:"center"},children:[Object(R.jsx)("a",{class:"m-10p",onClick:function(){return e.togglePlaySound()},children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M18 8a3 3 0 0 1 0 6"}),Object(R.jsx)("path",{d:"M10 8v11a1 1 0 0 1 -1 1h-1a1 1 0 0 1 -1 -1v-5"}),Object(R.jsx)("path",{d:"M12 8h0l4.524 -3.77a0.9 .9 0 0 1 1.476 .692v12.156a0.9 .9 0 0 1 -1.476 .692l-4.524 -3.77h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h8"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:"",children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),Object(R.jsx)("polyline",{points:"16 3 12 7 8 3"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:"",children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"3",y1:"19",x2:"3.01",y2:"19"}),Object(R.jsx)("path",{d:"M7 19a4 4 0 0 0 -4 -4"}),Object(R.jsx)("path",{d:"M11 19a8 8 0 0 0 -8 -8"}),Object(R.jsx)("path",{d:"M15 19h3a3 3 0 0 0 3 -3v-8a3 3 0 0 0 -3 -3h-12a3 3 0 0 0 -2.8 2"})]})})}),Object(R.jsx)("a",{class:"m-10p",onClick:"",children:Object(R.jsx)("span",{class:"avatar avatar-mini avatar-ctl",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),Object(R.jsx)("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),Object(R.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),Object(R.jsx)("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}),Object(R.jsx)("rect",{x:"8",y:"11",width:"8",height:"5",rx:"1"}),Object(R.jsx)("path",{d:"M10 11v-2a2 2 0 1 1 4 0v2"})]})})})]})})}},{key:"showControl",value:function(){return this.controls()}},{key:"talkingIndicator",value:function(e){if(this.state.talking[e])return Object(R.jsx)("span",{class:"badge bg-yellow"})}},{key:"handRaiseToggle",value:function(){var e=this;this.state.myHand?this.setState({myHand:!1},(function(){e.handRaiseDestroy({uuid:e.state.userUUID}),e.wsSend({type:"handDown",c:{uuid:e.state.userUUID}})})):this.setState({myHand:!0},(function(){e.handRaiseCreate({uuid:e.state.userUUID}),e.wsSend({type:"handRaise",c:{uuid:e.state.userUUID}})}))}},{key:"speakerList",value:function(){var e=this,t=[];return this.state.participants.map((function(s){"moderator"!==s.role&&"presenter"!==s.role||t.push(Object(R.jsx)("div",{class:"col-6 mb-1",children:Object(R.jsxs)("div",{class:"row g-3 align-items-center",children:[Object(R.jsxs)("span",{class:"avatar avatar-sm",children:[s.initials,e.talkingIndicator(s.id),e.handRaiseIndicator(s)]}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("span",{class:" chat-title",children:s.display}),e.roleSelect(s)]})]})}))})),t}},{key:"handRaiseIndicator",value:function(e){if(this.isHandRaised(e.uuid))return Object(R.jsx)("span",{class:"badge bg-yellow",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"12px"},width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),Object(R.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),Object(R.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),Object(R.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]})})}},{key:"listenerList",value:function(){var e=this,t=[];return this.state.participants.map((function(s){"listener"!==s.role&&"speaker"!==s.role||t.push(Object(R.jsx)("div",{class:"col-6 mb-1",children:Object(R.jsxs)("div",{class:"row g-3 align-items-center",children:[Object(R.jsxs)("span",{class:"avatar avatar-sm",children:[s.initials,e.handRaiseIndicator(s)]}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("span",{class:" chat-title",children:s.display}),e.roleSelect(s)]})]})}))})),t}},{key:"changeRole",value:function(e,t){this.wsSend({type:"changeRole",c:{uuid:e,role:t}}),I("attendances/change_duty",{room_id:this.state.id,uuid:e,duty:t},this.state.token)}},{key:"roleSelect",value:function(e){var t=this,s=e.role;return this.state.is_moderator?Object(R.jsx)("div",{class:"form-hint mb-1",children:Object(R.jsxs)("select",{class:"form-select role-select",onChange:function(s){return t.changeRole(e.uuid,s.target.value)},children:[Object(R.jsx)("option",{value:"listener",selected:"listener"===s,children:Js.listener}),Object(R.jsx)("option",{value:"presenter",selected:"presenter"===s,children:Js.presenter}),Object(R.jsx)("option",{value:"speaker",selected:"speaker"===s,children:Js.speaker}),Object(R.jsx)("option",{value:"moderator",selected:"moderator"===s,children:Js.moderator})]})}):Object(R.jsx)("div",{class:"form-hint mb-1 role-select",children:Js[e.role]})}},{key:"connectSocketRoom",value:function(){this.state.userUUID&&this.state.roomId&&We.emit("room",{room:this.state.roomId,uuid:this.state.userUUID})}},{key:"toggleSettings",value:function(){this.state.sourceSettings?(G()("#sourceSettings").hide(),this.setState({sourceSettings:!1})):(this.setState({sourceSettings:!0}),G()("#sourceSettings").show())}},{key:"deviceOptions",value:function(e){var t=[];return e.map((function(e){t.push(Object(R.jsx)("option",{value:e.id,children:e.label}))})),t}},{key:"selectDevice",value:function(e){var t=this;console.log(e),this.setState(e,(function(){"microphoneDevice"===Object.keys(e)[0]&&t.joinAudioRoom(),"cameraDevice"===Object.keys(e)[0]&&t.toggleCamera(e.cameraDevice,!0)}))}},{key:"playList",value:function(){var e=this;if(this.state.playSoundBtn)return Object(R.jsxs)("div",{class:"card mb-3 ",children:[Object(R.jsx)("div",{class:"card-status-top bg-success"}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("h3",{class:"card-title",children:[Js.play_sound,Object(R.jsx)("a",{onClick:function(){return e.stopSound()},class:"btn btn-white btn-icon mx-1","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"5",y:"5",width:"14",height:"14",rx:"2"})]})})]}),Object(R.jsx)("div",{class:"row",children:Object(R.jsxs)("div",{className:"btn-list",children:[Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("anthem-iran")},children:Js["anthem-iran"]}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("quran")},children:Js.quran}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("applause1")},children:Js.applause1}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("applause2")},children:Js.applause2}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("laugh")},children:Js.laugh}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("laughing")},children:Js.laughing}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("snoring")},children:Js.snoring}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("throat")},children:Js.throat}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("footsteps")},children:Js.footsteps}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("piano1")},children:Js.piano1}),Object(R.jsx)("button",{type:"button",class:"btn",onClick:function(){return e.playSound("piano2")},children:Js.piano2})]})})]})]})}},{key:"togglePlaySound",value:function(){this.state.playSoundBtn?this.setState({playSoundBtn:!1}):this.setState({playSoundBtn:!0})}},{key:"showSettings",value:function(){var e=this;if(this.state.microphoneDevices.length>0)return Object(R.jsx)("div",{class:"card mb-3",id:"sourceSettings",style:{display:"none"},children:Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsxs)("div",{className:"mb-2",children:[Object(R.jsx)("label",{class:"form-label mb-0",children:"Microphone"}),Object(R.jsx)("select",{id:"audioSourceSelect",class:"form-select",onChange:function(t){return e.selectDevice({microphoneDevice:t.target.value})},children:this.deviceOptions(this.state.microphoneDevices)})]}),Object(R.jsxs)("div",{className:"mb-2",children:[Object(R.jsx)("label",{class:"form-label mb-0",children:"Webcam"}),Object(R.jsx)("select",{id:"videoSourceSelect",class:"form-select",onChange:function(t){console.log(t.target),e.selectDevice({cameraDevice:t.target.value})},children:this.deviceOptions(this.state.cameraDevices)})]})]})})}},{key:"sataPages",value:function(){if(this.state.isSata&&this.state.is_moderator)return Object(R.jsxs)("ul",{class:"pagination ",children:[Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=1&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"1"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=2&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"2"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=3&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"3"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=4&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"4"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=5&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"5"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=6&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"6"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=7&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"7"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=8&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"8"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=9&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"9"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=10&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"10"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=11&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"11"})}),Object(R.jsx)("li",{class:"page-item",children:Object(R.jsx)("a",{class:"page-link",href:"p.html?display=12&room_id="+this.state.vroomId+"&pin="+this.state.vpin,target:"_blank",children:"12"})})]})}},{key:"webrtcAlerts",value:function(){var e=this;if(this.state.errorMessage)return Object(R.jsxs)("div",{class:"alert alert-important alert-warning alert-dismissible",role:"alert",children:[Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsxs)("div",{children:[Js.error,": ",Js[this.state.errorMessage]?Js[this.state.errorMessage]:this.state.errorMessage,Object(R.jsxs)("a",{className:"mx-2 btn",onClick:function(){return e.justListen()},children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M6 10a7 7 0 1 1 13 3.6a10 10 0 0 1 -2 2a8 8 0 0 0 -2 3a4.5 4.5 0 0 1 -6.8 1.4"}),Object(R.jsx)("path",{d:"M10 10a3 3 0 1 1 5 2.2"})]}),Js.just_listen_click]})]})]}),Object(R.jsx)("a",{class:"btn-close btn-close-white","data-bs-dismiss":"alert","aria-label":"close"})]})}},{key:"justListen",value:function(){document.getElementById("roomaudio").play(),document.getElementById("roomaudio").muted=!1}},{key:"renderTime",value:function(){return 0===this.state.timer?Object(R.jsx)("div",{className:"timer",children:Js.ended}):Object(R.jsxs)("div",{className:"timer",children:[Object(R.jsx)("div",{className:"text",children:Js.remaining}),Object(R.jsx)("div",{className:"value",children:this.state.timer}),Object(R.jsx)("div",{className:"text",children:Js.seconds})]})}},{key:"updateTimer",value:function(e){this.state.timer!==e&&this.setState({timer:e})}},{key:"timerShow",value:function(){var e=this;if(this.state.timerStarted)return Object(R.jsx)(Zt.CountdownCircleTimer,{isPlaying:this.state.timerPlaying,duration:parseInt(this.state.timerDuration),colors:[["#004777",.33],["#F7B801",.33],["#A30000"],["#A30000"]],onComplete:function(){return e.setState({timerPlaying:!1})},renderAriaTime:function(t){return e.updateTimer(t.remainingTime)},children:this.renderTime()})}},{key:"toggleTimer",value:function(){var e=this;this.setState({timerStarted:!1},(function(){e.setState({timerStarted:!0}),e.wsSend({type:"toggleTimer",c:{uuid:e.state.userUUID,timerDuration:e.state.timerDuration}})}))}},{key:"stratTimer",value:function(){var e=this;this.setState({timerPlaying:!0},(function(){e.wsSend({type:"startTimer",c:{uuid:e.state.userUUID}})}))}},{key:"stopTimer",value:function(){var e=this;this.setState({timerPlaying:!1},(function(){e.wsSend({type:"stopTimer",c:{uuid:e.state.userUUID}})}))}},{key:"timerCard",value:function(){var e=this;if(this.state.timerCard)return Object(R.jsx)("div",{class:"col-lg-"+this.state.layoutCol+" p-1 eff-"+this.state.layoutCol,children:Object(R.jsx)("div",{class:"card ",children:Object(R.jsx)("div",{class:"card-body",style:{minHeight:"150px"},children:Object(R.jsxs)("div",{class:"empty",children:[Object(R.jsx)("div",{class:"row mb-3",children:this.timerShow()}),Object(R.jsxs)("div",{class:"row",children:[Object(R.jsxs)("div",{class:"col-auto",children:[Object(R.jsx)("a",{onClick:function(){return e.toggleTimer()},class:"btn btn-white btn-icon","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),Object(R.jsx)("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})]})}),Object(R.jsx)("a",{onClick:function(){return e.stopTimer()},class:"btn btn-white btn-icon mx-1","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"5",y:"5",width:"14",height:"14",rx:"2"})]})}),Object(R.jsx)("a",{onClick:function(){return e.stratTimer()},class:"btn btn-white btn-icon mx-1","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M7 4v16l13 -8z"})]})})]}),Object(R.jsx)("div",{class:"col",style:{width:"100px"},children:Object(R.jsx)("input",{type:"number",class:"form-control",placeholder:Js.seconds,onChange:function(t){return e.setState({timerDuration:t.target.value})}})})]})]})})})})}},{key:"pollCard",value:function(){if(this.state.pollCard)return Object(R.jsx)("div",{class:"col-lg-"+this.state.layoutCol+" p-1 eff-"+this.state.layoutCol,children:Object(R.jsx)("div",{class:"card mb-1",children:Object(R.jsx)("div",{class:"card-body",style:{minHeight:"350px"}})})})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsx)("div",{className:"page-wrapper",children:Object(R.jsx)("div",{className:"page-body pt-2",children:Object(R.jsx)("div",{className:"container-fluid",children:Object(R.jsxs)("div",{className:"row  row-cards",children:[Object(R.jsxs)("div",{class:"col-lg-3",children:[Object(R.jsx)("div",{className:this.state.isSata?"show-element":"hide-element",children:Object(R.jsx)("div",{class:"card mb-3 p-1",children:Object(R.jsx)("div",{class:"card-body",style:{height:"180px"},children:Object(R.jsx)("div",{id:"myDish"})})})}),this.layoutControl(),this.adminControl(),this.showControl(),this.showSettings(),Object(R.jsxs)("div",{class:"card mb-3 maxh-250 ",children:[Object(R.jsx)("div",{class:"card-status-top bg-danger"}),Object(R.jsx)("div",{class:"card-body pt-2 pb-1",style:{overflowY:"scroll"},children:Object(R.jsx)("div",{class:"row",children:this.speakerList()})})]}),Object(R.jsxs)("div",{class:"card mb-3 maxh-250",children:[Object(R.jsx)("div",{class:"card-status-top bg-blue"}),Object(R.jsx)("div",{class:"card-body pt-2 pb-1",style:{overflowY:"scroll"},children:Object(R.jsx)("div",{class:"row",children:this.listenerList()})})]}),Object(R.jsxs)("div",{class:"card mb-3 maxh-350 minh-350",children:[Object(R.jsx)("div",{className:"card-header p-2 px-3 bg-dark-lt",style:{fontSize:"12px",fontWeight:"600"},children:Js.chats}),Object(R.jsx)("div",{class:"list-group list-group-flush overflow-auto",id:"chat-box",style:{maxHeight:"25rem"},children:this.chatItems()}),Object(R.jsx)("div",{class:"card-footer bg-dark",children:Object(R.jsxs)("div",{class:"row",children:[Object(R.jsx)("div",{class:"col",children:Object(R.jsx)("textarea",{id:"chat-form",class:"form-control","data-bs-toggle":"autosize",placeholder:Js.write_something,onChange:function(t){e.handleChange({item:{content:t.target.value,name:e.state.name,initials:e.state.initials,time:Date.now(),uuid:Object(B.v4)()}})}})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return e.send()},class:"btn  btn-icon","aria-label":"Button",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"}),Object(R.jsx)("path",{d:"M21 3l-6.5 18a0.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a0.55 .55 0 0 1 0 -1l18 -6.5"})]})})})]})})]})]}),Object(R.jsxs)("div",{class:"col-lg-9 ",children:[this.webrtcAlerts(),this.playList(),Object(R.jsxs)("div",{class:"row ",children:[Object(R.jsx)("div",{id:"videoz",class:"col-lg-"+this.state.layoutCol+" p-1 eff-"+this.state.layoutCol,children:Object(R.jsx)("div",{class:"card mb-1",id:"content-card",children:Object(R.jsx)("div",{class:"card-body p-1",id:"content",style:{minHeight:"450px"},children:Object(R.jsx)("div",{id:"Dish"})})})}),Object(R.jsxs)("div",{class:"col-lg-"+this.state.layoutCol+" p-1 eff-"+this.state.layoutCol,children:[Object(R.jsx)("div",{class:"card mb-1 ",children:Object(R.jsx)("div",{class:"card-body p-1 ",id:"content2",style:{minHeight:"450px"},children:Object(R.jsx)("div",{class:"my-auto",id:"screen"})})}),Object(R.jsx)("div",{id:"mixedaudio",style:{display:"block"}})]}),this.pollCard(),this.timerCard()]}),this.sataPages()]})]})})})})]})}}]),s}(a.a.Component),Ks=A.farsi,Zs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setInstance=n.setInstance.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.getMultipleList=n.getMultipleList.bind(Object(j.a)(n)),n.search=n.search.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),title:null,attendances:null,users:null,attendable_type:"",attendable_id:0,q:"",selectedUser:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_multiple_list",this.getMultipleList),g.on("set_instance",this.setInstance),g.on("deleted_instance",this.setInstance),g.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_multiple_list",this.getMultipleList),g.removeListener("set_instance",this.setInstance),g.removeListener("got_instance",this.getInstance),g.removeListener("deleted_instance",this.setInstance)}},{key:"componentDidMount",value:function(){var e=this;Ks=A[this.state.lang];var t=Ce.a.parse(this.props.location.search),s="",n=0;Object.keys(t).map((function(e){var a=e.split("_");a[0]&&(s=a[0].charAt(0).toUpperCase()+a[0].slice(1),n=t[e])})),this.setState({attendable_type:s,attendable_id:n},(function(){_("attendances",e.state.page,e.state,e.state.token)}))}},{key:"getMultipleList",value:function(){var e=g.getMutipleList(),t=g.getKlass();console.log(e),e&&"Attendance"===t&&this.setState({users:e.users,attendances:e.attendances})}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"MeetingUrl"===e&&this.setState({url:t.url})}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"search",value:function(e){var t=this;e.length>3?this.setState({q:e},(function(){return _("attendances",t.state.page,t.state,t.state.token)})):this.setState({q:""},(function(){return _("attendances",t.state.page,t.state,t.state.token)}))}},{key:"setInstance",value:function(){_("attendances",this.state.page,this.state,this.state.token)}},{key:"addParticipant",value:function(e){""!==this.state.attendable_type&&I("attendances",{attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type,user_id:e},this.state.token)}},{key:"removeParticipant",value:function(e){C("attendances",{id:e,attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type},this.state.token)}},{key:"userItems",value:function(e){var t=this,s=[];return e&&e.map((function(e){s.push(Object(R.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return t.addParticipant(e.user_id)},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{children:Object(R.jsx)("span",{class:"avatar",children:e.initials})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:e.name}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:e.bio})]}),Object(R.jsx)("div",{class:"col-auto"})]})}))})),s}},{key:"changeDuty",value:function(e,t){console.log(e,t),I("attendances/change_duty",{id:e,duty:t},this.state.token)}},{key:"dutyOptions",value:function(e){var t=this;if(!this.props.duties)return Object(R.jsxs)("select",{class:"form-select",onChange:function(s){return t.changeDuty(e.id,s.target.value)},children:[Object(R.jsx)("option",{value:"moderator",selected:"moderator"===e.duty,children:Ks.moderator}),Object(R.jsx)("option",{value:"presenter",selected:"presenter"===e.duty,children:Ks.presenter}),Object(R.jsx)("option",{value:"speaker",selected:"speaker"===e.duty,children:Ks.speaker}),Object(R.jsx)("option",{value:"listener",selected:"listener"===e.duty,children:Ks.listener})]});var s=[];this.props.duties.map((function(n){return s.push(Object(R.jsx)("option",{value:n,selected:e.duty===n,children:Ks[n]})),Object(R.jsx)("select",{class:"form-select",onChange:function(s){return t.changeDuty(e.id,s.target.value)},children:s})}))}},{key:"createBigBlue",value:function(e){G()("#bigblue-spinner").show(),S("meetings/join_bigblue",e,this.state.token)}},{key:"attendanceItems",value:function(e){var t=this,s=[];return e&&e.map((function(e){console.log(e);var n=e.profile;s.push(Object(R.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return t.removeParticipant(e.id)},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar",children:n.initials})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:n.name}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:n.bio})]}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsxs)("a",{onClick:function(){return t.createBigBlue(e.attendable_id)},children:["+",Object(R.jsx)("div",{id:"bigblue-spinner",class:"spinner-border text-black",role:"status",style:{display:"none"}})]})}),Object(R.jsx)("div",{class:"col-auto",children:t.dutyOptions(e)})]})}))})),s}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Ks.add_participants}),Object(R.jsx)("h2",{className:"page-title",children:Ks.choose_participants})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:Ks.all_users})}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsxs)("div",{class:"input-icon ",children:[Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:Ks.search_placeholder,onInput:function(t){e.search(t.target.value)}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})})}),this.userItems(this.state.users)]})}),Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsxs)("div",{class:"card mb-3",children:[Object(R.jsx)("div",{class:"card-header",children:Object(R.jsx)("h3",{class:"card-title",children:Ks.participants})}),Object(R.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.attendanceItems(this.state.attendances)})]})})]})})})]})]})})}}]),s}(a.a.Component);U.a.locale("fa",{useGregorianParser:!0});Object($.b)($.a);var Qs=function(e){var t=A[e.lang];function s(s){console.log(s);var n=[];return s&&(n.push(Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:t.create_event}),Object(R.jsxs)("select",{class:"form-select",onChange:function(t){return e.changeAbility("create_event",t.target.value)},children:[Object(R.jsx)("option",{value:!0,selected:!!s.create_event,children:t.true}),Object(R.jsx)("option",{value:!1,selected:!s.create_event,children:t.false})]})]})),n.push(Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:t.create_exhibition}),Object(R.jsxs)("select",{class:"form-select",onChange:function(t){return e.changeAbility("create_exhibition",t.target.value)},children:[Object(R.jsx)("option",{value:!0,selected:!!s.create_exhibition,children:t.true}),Object(R.jsx)("option",{value:!1,selected:!s.create_exhibition,children:t.false})]})]})),n.push(Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:t.modify_ability}),Object(R.jsxs)("select",{class:"form-select",onChange:function(t){return e.changeAbility("modify_ability",t.target.value)},children:[Object(R.jsx)("option",{value:!0,selected:!!s.modify_ability,children:t.true}),Object(R.jsx)("option",{value:!1,selected:!s.modify_ability,children:t.false})]})]})),n.push(Object(R.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(R.jsx)("label",{class:"form-label ",children:t.administration}),Object(R.jsxs)("select",{class:"form-select",onChange:function(t){return e.changeAbility("administration",t.target.value)},children:[Object(R.jsx)("option",{value:!0,selected:!!s.administration,children:t.true}),Object(R.jsx)("option",{value:!1,selected:!s.administration,children:t.false})]})]}))),n}return Object(R.jsxs)("div",{className:"row",children:[Object(R.jsx)("div",{className:"col-md-6",children:Object(R.jsx)("div",{className:"card",children:Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"7",r:"4"}),Object(R.jsx)("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})]})}),Object(R.jsx)("input",{type:"text",class:"form-control",placeholder:t.name,onInput:function(t){e.searchUser(t.target.value)}})]}),function(t){var s=[];return t&&t.map((function(t){s.push(Object(R.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(R.jsxs)("div",{class:"row align-items-center",children:[Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{onClick:function(){return e.userAbility(t.user_id)},children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("path",{d:"M9 12l2 2l4 -4"})]})})}),Object(R.jsx)("div",{class:"col-auto",children:Object(R.jsx)("a",{href:"#",children:Object(R.jsx)("span",{class:"avatar",children:t.initials})})}),Object(R.jsxs)("div",{class:"col text-truncate",children:[Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:t.name}),Object(R.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:t.bio})]}),Object(R.jsx)("div",{class:"col-auto"})]})}))})),s}(e.profiles)]})})}),Object(R.jsx)("div",{className:"col-md-6",children:function(n){if(n)return Object(R.jsxs)("div",{className:"card",children:[Object(R.jsx)("div",{className:"card-header  bg-dark-lt",children:n.profile.name}),Object(R.jsx)("div",{className:"card-body",children:s(n)}),Object(R.jsx)("div",{class:"card-footer",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("button",{id:"submit-button",onClick:function(){return e.submitAbility()},class:"btn btn-primary ms-auto",children:t.submit}),Object(R.jsx)("div",{id:"submit-spinner",class:"spinner-border text-red ms-auto",role:"status",style:{display:"none"}})]})})]})}(e.selectedAbility)})]})},Xs=A.farsi,$s=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.searchUser=n.searchUser.bind(Object(j.a)(n)),n.userAbility=n.userAbility.bind(Object(j.a)(n)),n.getInstance=n.getInstance.bind(Object(j.a)(n)),n.changeAbility=n.changeAbility.bind(Object(j.a)(n)),n.submitAbility=n.submitAbility.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),profiles:[],selectedAbility:null,profile:null,userAbilities:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList),g.on("got_instance",this.getInstance),this.state.lang&&(Xs=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){this.state.token&&this.state.token.length>10?S("profiles/my",1,this.state.token):this.props.history.push("login")}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"searchUser",value:function(e){if(e.length>2){var t={q:e};k("profiles/search",this.state.page,t,this.state.token)}else this.setState({profiles:[]})}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Ability"===e&&this.setState({selectedAbility:t}),t&&"Profile"===e&&(this.setState({profile:t,userAbilities:t.abilities}),t.abilities&&!t.abilities.administration&&this.props.history.push("/#/"))}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Profile"===t&&this.setState({profiles:e})}},{key:"userAbility",value:function(e){S("abilities",e,this.state.token)}},{key:"changeAbility",value:function(e,t){var s=this.state.selectedAbility;s[e]=JSON.parse(t.toLowerCase()),this.setState({selectedAbility:s})}},{key:"submitAbility",value:function(){N("abilities",this.state.selectedAbility,this.state.token)}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:Xs.overview}),Object(R.jsx)("h2",{className:"page-title",children:Xs.settings})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-cards",children:[Object(R.jsx)("div",{className:"col-md-3",children:Object(R.jsxs)("div",{className:"card",children:[Object(R.jsxs)("div",{className:"card-header bg-dark-lt",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),Xs.settings]}),Object(R.jsxs)("div",{className:"list-group list-group-flush",children:[Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsx)("div",{class:"row align-items-center",children:Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:Xs.abilities})})})}),Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsx)("div",{class:"row align-items-center",children:Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:Xs.restrictions})})})}),Object(R.jsx)("div",{class:"list-group-item",children:Object(R.jsx)("div",{class:"row align-items-center",children:Object(R.jsx)("div",{class:"col text-truncate",children:Object(R.jsx)("a",{href:"#",class:"text-body d-block",children:Xs.reports})})})})]})]})}),Object(R.jsx)("div",{className:"col-md-9",children:Object(R.jsx)(Qs,{profiles:this.state.profiles,selectedAbility:this.state.selectedAbility,searchUser:this.searchUser,userAbility:this.userAbility,changeAbility:this.changeAbility,submitAbility:this.submitAbility,lang:this.state.lang})})]})})})]})]})})}}]),s}(a.a.Component),en=A.farsi,tn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.getList=n.getList.bind(Object(j.a)(n)),n.dateSelect=n.dateSelect.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),meetings:[],calendar:!1,today:Z()(),highlightRanges:[],selectedMeeting:[]},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_instance",this.getInstance),g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList),g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){en=A[this.state.lang],k("meetings/my",this.state.page,{},this.state.token)}},{key:"getInstance",value:function(){}},{key:"getList",value:function(){var e=this,t=g.getList(),s=g.getKlass();t&&"Meeting"===s&&this.setState({meetings:t},(function(){e.constructCalendar(),e.dateSelect(e.state.today)}))}},{key:"handleChange",value:function(e){}},{key:"dateSelect",value:function(e){var t=[];this.state.meetings.map((function(s){Date.parse(s.start_day)<=e._d&&Date.parse(s.end_day)>=e._d&&t.push(s)})),this.setState({selectedMeeting:t})}},{key:"showCalendar",value:function(){if(this.state.meetings&&this.state.meetings.length>0&&this.state.meetingLoaded)return Object(R.jsx)("div",{class:"col-lg-4",children:Object(R.jsx)("div",{class:"card mb-3",children:Object(R.jsx)("div",{class:"card-body",children:Object(R.jsx)(be,{highlightRanges:this.state.highlightRanges,today:this.state.today,dateSelect:this.dateSelect,lang:this.state.lang})})})})}},{key:"constructCalendar",value:function(){var e=[];this.state.meetings.map((function(t){console.log(t),e.push({color:ge()(),start:t.start_time,end:t.end_time})})),this.setState({highlightRanges:this.state.highlightRanges.concat(e),today:null,meetingLoaded:!0})}},{key:"cardMasonry",value:function(){var e=[];return this.state.selectedMeeting&&(0!==this.state.selectedMeeting.length&&e.push(Object(R.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(R.jsx)(Le,{meetings:this.state.selectedMeeting,col:6,attend:this.attend,lang:this.state.lang})})),0===this.state.selectedMeeting.length&&e.push(this.noMeetingCard())),e}},{key:"noMeetingCard",value:function(){return Object(R.jsx)("div",{class:"card",children:Object(R.jsxs)("div",{class:"empty",children:[Object(R.jsx)("div",{class:"empty-img",children:Object(R.jsx)("div",{className:"demo-icon-preview",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M12 9v2m0 4v.01"}),Object(R.jsx)("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"})]})})}),Object(R.jsx)("p",{class:"empty-title",children:en.no_result_to_show}),Object(R.jsx)("p",{class:"empty-subtitle text-muted",children:en.try_adjusting_your_search})]})})}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsx)("div",{className:"page-header d-print-none",children:Object(R.jsxs)("div",{className:"row align-items-center",children:[Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:en.overview}),Object(R.jsx)("h2",{className:"page-title",children:en.calendar})]}),Object(R.jsx)("div",{class:"col-auto ms-auto d-print-none"})]})})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{class:"row",id:"calendar",children:[this.showCalendar(),Object(R.jsx)("div",{class:"col-lg-8",children:this.cardMasonry()})]})})})]})]})})}}]),s}(a.a.Component),sn=A.farsi,nn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getList=n.getList.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),profiles:[],page:1,pages:1,q:""},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){g.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){sn=A[this.state.lang],k("profiles/search",this.state.page,{page:this.state.page},this.state.token)}},{key:"handleChange",value:function(e){}},{key:"getList",value:function(){var e=g.getList(),t=g.getKlass();e&&"Profile"===t&&(e[0]&&e[0].page?(1==e[0].page?this.setState({profiles:e}):this.setState({profiles:this.state.profiles.concat(e)}),this.setState({page:e[0].page,pages:e[0].pages})):this.setState({profiles:[],pages:0})),console.log(e)}},{key:"tags",value:function(e){var t=[];return e.tags.map((function(e){t.push(Object(R.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"avatar",value:function(e){return e.cover?Object(R.jsx)("span",{class:"avatar avatar-xl mb-3 avatar-rounded",style:{backgroundImage:"url("+e.cover+")"}}):Object(R.jsx)("span",{class:"avatar avatar-xl mb-3 avatar-rounded",children:e.initials})}},{key:"items",value:function(){var e=this,t=[];return this.state.profiles.map((function(s){t.push(Object(R.jsx)("div",{class:"col-md-6 col-lg-3",children:Object(R.jsx)("div",{class:"card",children:Object(R.jsxs)("div",{class:"card-body p-4 text-center",children:[e.avatar(s),Object(R.jsx)("h3",{class:"m-0 mb-1",children:Object(R.jsx)("a",{href:"#/profiles/"+s.id,children:s.name})}),Object(R.jsx)("div",{class:"text-muted",children:s.short_bio}),Object(R.jsx)("div",{class:"mt-3",children:Object(R.jsx)("div",{className:"example-content",children:e.tags(s)})})]})})}))})),t}},{key:"search",value:function(e){var t=this;e.length>3?this.setState({q:e,page:1},(function(){return k("profiles/search",t.state.page,{q:e},t.state.token)})):this.setState({q:"",page:1},(function(){return k("profiles/search",t.state.page,{},t.state.token)}))}},{key:"loadMore",value:function(){var e={page:this.state.page+1,q:this.state.q};k("profiles/search",this.state.page+1,e,this.state.token)}},{key:"moreBtn",value:function(){var e=this;if(this.state.pages>this.state.page)return Object(R.jsx)("div",{class:"hr-text",children:Object(R.jsxs)("a",{onClick:function(){return e.loadMore()},children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(R.jsx)("line",{x1:"8",y1:"12",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Object(R.jsx)("line",{x1:"16",y1:"12",x2:"12",y2:"16"})]}),sn.more]})})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:sn.overview}),Object(R.jsx)("h2",{className:"page-title",children:sn.profiles})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row row-deck row-cards",children:[Object(R.jsx)("div",{class:"mb-3",children:Object(R.jsxs)("div",{class:"input-icon mb-3",children:[Object(R.jsx)("input",{type:"text",class:"form-control form-giant",placeholder:sn.search_placeholder,onInput:function(t){return e.search(t.target.value)}}),Object(R.jsx)("span",{class:"input-icon-addon",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(R.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})}),this.items(),this.moreBtn()]})})})]})]})})}}]),s}(a.a.Component),an=A.farsi,rn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).getInstance=n.getInstance.bind(Object(j.a)(n)),n.uploader=n.uploader.bind(Object(j.a)(n)),n.handleFileUpload=n.handleFileUpload.bind(Object(j.a)(n)),n.state={token:window.localStorage.getItem("token"),lang:window.localStorage.getItem("lang"),dir:window.localStorage.getItem("dir"),name:null,bio:null,initials:null,id:null,tags:[],country:null,twitter:null,instagram:null,telegram:null,email:null,phone:null,linkdin:null,recent_events:null,recent_meetings:null,recent_exhibitions:null,is_owner:!1,cover:null},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){g.on("got_instance",this.getInstance),(this.state.lang||null!==this.state.lang)&&(an=A[this.state.lang])}},{key:"componentWillUnmount",value:function(){g.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){S("profiles",this.props.match.params.id,this.state.token)}},{key:"getInstance",value:function(){var e=g.getKlass(),t=g.getIntance();"Profile"===e&&this.setState({name:t.fullname,bio:t.bio,initials:t.initials,id:t.id,tags:t.tags,country:t.country,twitter:t.twitter,instagram:t.instagram,telegram:t.telegram,email:t.email,phone:t.phone,linkdin:t.linkdin,recent_meetings:t.recent_meetings,recent_events:t.recent_events,recent_exhibitions:t.recent_exhibitions,is_owner:t.is_owner,cover:t.cover}),console.log(t)}},{key:"handleChange",value:function(e){}},{key:"socialLinks",value:function(){var e=[];return this.state.linkdin&&e.push(Object(R.jsx)("a",{href:"//"+this.state.linkdin,target:"_blank",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),Object(R.jsx)("line",{x1:"8",y1:"11",x2:"8",y2:"16"}),Object(R.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"8.01"}),Object(R.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"11"}),Object(R.jsx)("path",{d:"M16 16v-3a2 2 0 0 0 -4 0"})]})})),this.state.twitter&&e.push(Object(R.jsx)("a",{href:"//"+this.state.twitter,target:"_blank",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]})})),this.state.telegram&&e.push(Object(R.jsx)("a",{href:"//"+this.state.telegram,target:"_blank",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"})]})})),this.state.instagram&&e.push(Object(R.jsx)("a",{href:"//"+this.state.instagram,style:{color:"red"},target:"_blank",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(R.jsx)("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]})})),e}},{key:"contactBlock",value:function(){var e=[];return this.state.email&&e.push(Object(R.jsxs)("div",{className:"row",children:[Object(R.jsx)("h4",{children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),Object(R.jsx)("polyline",{points:"3 7 12 13 21 7"})]})}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.state.email})]})),this.state.phone&&e.push(Object(R.jsxs)("div",{className:"row",children:[Object(R.jsx)("h4",{children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"})]})}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.state.phone})]})),e}},{key:"uploader",value:function(){var e=this,t=this;t.setState({progressShow:!0},(function(){return console.log(e.state.progressShow)}));var s={onUploadProgress:function(e){var s=Math.round(100*e.loaded/e.total);t.setState({progress:s})},headers:{"Content-Type":"application/json",Authorization:"bearer "+t.state.token}},n=new FormData;n.append("upload[attached_document]",this.state.file),n.append("upload[uploadable_id]",this.props.match.params.id),n.append("upload[uploadable_type]","Profile"),n.append("upload[upload_type]","avatar"),f.a.post(x+"/uploads",n,s).then((function(s){t.setState({progressShow:!1,uploadedRecently:!0}),e.props.history.push("/uploads/cropper/"+s.data.data.uuid+"?profile="+e.state.id)})).catch((function(e){return t.setState({progressShow:!1})}))}},{key:"handleFileUpload",value:function(e){var t=this;console.log(e.target.files[0].name),this.setState({file:e.target.files[0]},(function(){t.uploader()}))}},{key:"editBtn",value:function(){if(this.state.is_owner)return Object(R.jsx)("a",{href:"#/wizard",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(R.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(R.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})}},{key:"avatarBtn",value:function(){var e=this;if(this.state.is_owner)return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("input",{ref:"fileInput",onChange:this.handleFileUpload,type:"file",style:{display:"none"}}),Object(R.jsxs)("button",{onClick:function(){return e.refs.fileInput.click()},class:"btn btn-outline-dark ",children:[Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(R.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(R.jsx)("circle",{cx:"12",cy:"13",r:"3"}),Object(R.jsx)("path",{d:"M5 7h2a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h2m9 7v7a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"}),Object(R.jsx)("line",{x1:"15",y1:"6",x2:"21",y2:"6"}),Object(R.jsx)("line",{x1:"18",y1:"3",x2:"18",y2:"9"})]}),an.change_avatar]})]})}},{key:"avatar",value:function(){return this.state.cover?Object(R.jsx)("span",{class:"avatar avatar-xl avatar-rounded",style:{backgroundImage:"url("+this.state.cover+")"}}):Object(R.jsx)("span",{class:"avatar avatar-xl avatar-rounded",children:this.state.initials})}},{key:"render",value:function(){return Object(R.jsx)("body",{className:"antialiased",children:Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)(L,{history:this.props.history}),Object(R.jsxs)("div",{className:"page-wrapper",children:[Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"page-header d-print-none",children:[Object(R.jsx)("div",{className:"row align-items-center"}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("div",{className:"page-pretitle",children:an.overview}),Object(R.jsx)("h2",{className:"page-title",children:an.profile})]})]})}),Object(R.jsx)("div",{className:"page-body",children:Object(R.jsx)("div",{className:"container-xl",children:Object(R.jsxs)("div",{className:"row",children:[Object(R.jsx)("div",{class:"col-md-4 col-xl-4",children:Object(R.jsxs)("div",{class:"card",children:[Object(R.jsxs)("div",{class:"card-body text-center",children:[Object(R.jsx)("div",{class:"mb-3",children:this.avatar()}),this.avatarBtn(),Object(R.jsxs)("div",{class:"card-title mb-1",children:[this.state.name,Object(R.jsx)("span",{style:{verticalAlign:"5px"},children:this.editBtn()})]})]}),Object(R.jsxs)("div",{class:"card-body",children:[Object(R.jsx)("div",{class:"text-muted mb-1",children:this.state.bio}),Object(R.jsx)("h4",{children:an.country}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.state.country}),Object(R.jsx)("h4",{children:an.tags}),Object(R.jsx)("div",{class:"text-muted mb-3",children:this.state.tags})]}),Object(R.jsx)("div",{class:"card-body",children:this.contactBlock()}),Object(R.jsx)("div",{class:"card-footer text-center",children:this.socialLinks()})]})}),Object(R.jsxs)("div",{class:"col-md-8 col-xl-8",children:[Object(R.jsx)("div",{class:"alert alert-important bg-dark-lt",role:"alert",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{children:an.recent_meetings})]})}),Object(R.jsx)("div",{className:"row",children:Object(R.jsx)(Le,{meetings:this.state.recent_meetings,col:6,attend:this.attend,lang:this.state.lang})}),Object(R.jsx)("div",{class:"alert alert-important bg-dark-lt",role:"alert",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{children:an.recent_events})]})}),Object(R.jsx)("div",{className:"row",children:Object(R.jsx)(F,{events:this.state.recent_events,col:6,lang:this.state.lang})}),Object(R.jsx)("div",{class:"alert alert-important bg-dark-lt",role:"alert",children:Object(R.jsxs)("div",{class:"d-flex",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{children:an.recent_exhibitions})]})}),Object(R.jsx)("div",{className:"row",children:Object(R.jsx)(pt,{exhibitions:this.state.recent_exhibitions,col:6,lang:this.state.lang})})]})]})})})]})]})})}}]),s}(a.a.Component),cn=s(41),on=Object(cn.a)(),ln=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(R.jsx)(h.a,{history:on,children:Object(R.jsxs)(u.c,{children:[Object(R.jsx)(u.a,{path:"/",exact:!0,component:ue}),Object(R.jsx)(u.a,{path:"/wizard",exact:!0,component:ae}),Object(R.jsx)(u.a,{path:"/login",exact:!0,component:re}),Object(R.jsx)(u.a,{path:"/login_jwt/:id",exact:!0,component:Ut}),Object(R.jsx)(u.a,{path:"/forget",exact:!0,component:oe}),Object(R.jsx)(u.a,{path:"/settings",exact:!0,component:$s}),Object(R.jsx)(u.a,{path:"/polls",exact:!0,component:Nt}),Object(R.jsx)(u.a,{path:"/calendar",exact:!0,component:tn}),Object(R.jsx)(u.a,{path:"/uploads/:id",exact:!0,component:Rt}),Object(R.jsx)(u.a,{path:"/uploads/cropper/:id",exact:!0,component:Dt}),Object(R.jsx)(u.a,{path:"/events",exact:!0,component:ue}),Object(R.jsx)(u.a,{path:"/events/create",exact:!0,component:_e}),Object(R.jsx)(u.a,{path:"/events/attendance",exact:!0,component:Ie}),Object(R.jsx)(u.a,{path:"/events/:id",exact:!0,component:Oe}),Object(R.jsx)(u.a,{path:"/events/detail/:id",exact:!0,component:Ae}),Object(R.jsx)(u.a,{path:"/events/edit/:id",exact:!0,component:_e}),Object(R.jsx)(u.a,{path:"/events/name/:shortname",exact:!0,component:Pe}),Object(R.jsx)(u.a,{path:"/exhibitions",exact:!0,component:ft}),Object(R.jsx)(u.a,{path:"/exhibitions/create",exact:!0,component:St}),Object(R.jsx)(u.a,{path:"/exhibitions/:id",exact:!0,component:wt}),Object(R.jsx)(u.a,{path:"/exhibitions/edit/:id",exact:!0,component:St}),Object(R.jsx)(u.a,{path:"/meetings",exact:!0,component:Ve}),Object(R.jsx)(u.a,{path:"/meetings/create",exact:!0,component:jt}),Object(R.jsx)(u.a,{path:"/meetings/attendance",exact:!0,component:bt}),Object(R.jsx)(u.a,{path:"/meetings/:id",exact:!0,component:ct}),Object(R.jsx)(u.a,{path:"/meetings/edit/:id",exact:!0,component:jt}),Object(R.jsx)(u.a,{path:"/flyers/create",exact:!0,component:Et}),Object(R.jsx)(u.a,{path:"/flyers/edit/:id",exact:!0,component:Et}),Object(R.jsx)(u.a,{path:"/questions/create",exact:!0,component:Vt}),Object(R.jsx)(u.a,{path:"/attendances/create",exact:!0,component:Zs}),Object(R.jsx)(u.a,{path:"/rooms/:id",exact:!0,component:Ys}),Object(R.jsx)(u.a,{path:"/discussions",exact:!0,component:Ct}),Object(R.jsx)(u.a,{path:"/profiles",exact:!0,component:nn}),Object(R.jsx)(u.a,{path:"/profiles/:id",exact:!0,component:rn})]})})}}]),s}(a.a.Component),dn=function(e){e&&e instanceof Function&&s.e(5).then(s.bind(null,636)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))},hn=a.a.lazy((function(){return s.e(4).then(s.bind(null,634))})),un=a.a.lazy((function(){return s.e(3).then(s.bind(null,635))})),jn=function(e){var t=e.children,s=window.localStorage.getItem("dir")||"rtl";return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(a.a.Suspense,{fallback:Object(R.jsx)(R.Fragment,{}),children:["rtl"===s&&Object(R.jsx)(hn,{}),"ltr"===s&&Object(R.jsx)(un,{})]}),t]})};r.a.render(Object(R.jsx)(jn,{children:Object(R.jsx)(ln,{})}),document.getElementById("root")),dn()}},[[617,1,2]]]);
//# sourceMappingURL=main.5ed849cc.chunk.js.map