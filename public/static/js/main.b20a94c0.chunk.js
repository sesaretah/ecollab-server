(this.webpackJsonpecollab=this.webpackJsonpecollab||[]).push([[0],{288:function(e,t,n){},289:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},321:function(e,t){},323:function(e,t){},333:function(e,t){},335:function(e,t){},362:function(e,t){},363:function(e,t){},368:function(e,t){},370:function(e,t){},377:function(e,t){},396:function(e,t){},546:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),a=n(17),r=n.n(a),c=(n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(8)),o=n(9),l=n(11),d=n(10),u=(n.p,n(296),n(165)),h=n(22),j=n(3),b=n(56),v=new(n(271).Dispatcher),p=new(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).list=[],e.multipleList=[],e.instance=null,e.klass=null,e.reason=null,e}return Object(o.a)(n,[{key:"listModel",value:function(e){this.list=[],this.klass=e.klass;for(var t=0,n=e.data.length;t<n;++t)this.list.push(e.data[t]),t===n-1&&this.emit("got_list");0==e.data.length&&this.emit("got_list")}},{key:"listMultipleModel",value:function(e){console.log(">>>>>",e),this.multipleList=e.data,this.klass=e.klass,this.emit("got_multiple_list")}},{key:"showIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("got_instance")}},{key:"setIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("set_instance")}},{key:"deleteIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("deleted_instance")}},{key:"postFile",value:function(e){console.log(e),this.klass=e.klass,this.instance=e.data,this.emit("file_posted")}},{key:"setIntanceFailure",value:function(e){console.log(e),this.reason="Error",this.klass="",this.emit("set_instance")}},{key:"getReason",value:function(){return this.reason}},{key:"getIntance",value:function(){return this.instance}},{key:"getList",value:function(){return this.list}},{key:"getListnKlass",value:function(){return[this.list,this.klass]}},{key:"getMutipleList",value:function(){return this.multipleList}},{key:"getKlass",value:function(){return this.klass}},{key:"handleActions",value:function(e){switch(e.type){case"LIST_MODEL_SUCCESS":this.listModel(e.list);break;case"MULTIPLE_LIST_MODEL_SUCCESS":this.listMultipleModel(e.list);break;case"GET_INSTANCE_SUCCESS":this.showIntance(e.instance);break;case"DELETE_INSTANCE_SUCCESS":this.deleteIntance(e.instance);break;case"SET_INSTANCE_SUCCESS":this.setIntance(e.instance);break;case"POST_FILE_SUCCESS":this.postFile(e.instance);break;case"SET_INSTANCE_FAILURE":console.log(e),this.setIntanceFailure(e.reason)}}}]),n}(b.EventEmitter));v.register(p.handleActions.bind(p));var m=p,g=n(43),f=n.n(g),x="/v1",O="https://connect.ut.ac.ir/",w="https://sync.ut.ac.ir:8089/janus",y=x;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,i=Object.keys(n).map((function(e){return e+"="+n[e]})).join("&");f.a.get(y+"/"+e+"?page="+t+"&"+i,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){v.dispatch({type:"LIST_MODEL_SUCCESS",list:e.data})})).catch((function(e){console.log(e)}))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,i=Object.keys(n).map((function(e){return e+"="+n[e]})).join("&");f.a.get(y+"/"+e+"?page="+t+"&"+i,{headers:{"Content-Type":"application/json",Authorization:"bearer "+s}}).then((function(e){v.dispatch({type:"MULTIPLE_LIST_MODEL_SUCCESS",list:e.data})})).catch((function(e){console.log(e)}))}function C(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;f.a.get(y+"/"+e+"/"+t+"?page="+s,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){v.dispatch({type:"GET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");f.a.get(y+"/"+e+"/delete?"+s,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){v.dispatch({type:"DELETE_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}function N(e,t,n){f.a.post(y+"/"+e+"/",t,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){v.dispatch({type:"SET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){v.dispatch({type:"SET_INSTANCE_FAILURE",instance:e.reason}),console.log(e)}))}function T(e,t,n){f.a.put(y+"/"+e+"/"+t.id,t,{headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){v.dispatch({type:"SET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}var I,D=n(5),A={fa:(I={overview:"\u0646\u0645\u0627\u06cc \u06a9\u0644\u06cc",events:"\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627",home:"\u062e\u0627\u0646\u0647",meetings:"\u0646\u0634\u0633\u062a \u0647\u0627",users:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",event_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0631\u0648\u06cc\u062f\u0627\u062f",event_title:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0648\u06cc\u062f\u0627\u062f",event_info:"\u0634\u0631\u062d \u0631\u0648\u06cc\u062f\u0627\u062f",event_type:"\u0646\u0648\u0639 \u0631\u0648\u06cc\u062f\u0627\u062f",event:"\u0631\u0648\u06cc\u062f\u0627\u062f",create_event:"\u0627\u06cc\u062c\u0627\u062f \u0631\u0648\u06cc\u062f\u0627\u062f",create_event_page:"\u0627\u06cc\u062c\u0627\u062f \u0631\u0648\u06cc\u062f\u0627\u062f",in_person:"\u062d\u0636\u0648\u0631\u06cc",online:"\u0628\u0631\u062e\u0637",hybrid:"\u062a\u0644\u0641\u06cc\u0642\u06cc",meeting_info:"\u0634\u0631\u062d \u0646\u0634\u0633\u062a",meeting_title:"\u0639\u0646\u0648\u0627\u0646 \u0646\u0634\u0633\u062a",meeting_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0646\u0634\u0633\u062a",meeting_type:"\u0646\u0648\u0639 \u0646\u0634\u0633\u062a",meeting_capacity:"\u0638\u0631\u0641\u06cc\u062a \u0646\u0634\u0633\u062a",meeting_external_link:"\u0644\u06cc\u0646\u06a9 \u0646\u0634\u0633\u062a",meeting_start_time:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",meeting_end_time:"\u0632\u0645\u0627\u0646 \u067e\u0627\u06cc\u0627\u0646",related_to_event:"\u0646\u0634\u0633\u062a\u06cc \u0627\u0632 \u0631\u0648\u06cc\u062f\u0627\u062f",create_meeting:"\u0627\u06cc\u062c\u0627\u062f \u0646\u0634\u0633\u062a",create_meeting_page:"\u0627\u06cc\u062c\u0627\u062f \u0646\u0634\u0633\u062a",online_external:"\u0628\u0631\u062e\u0637 \u0628\u06cc\u0631\u0648\u0646\u06cc",exhibition_info:"\u0634\u0631\u062d",exhibition_detail:"\u062c\u0632\u0626\u06cc\u0627\u062a \u063a\u0631\u0641\u0647",exhibition_title:"\u0639\u0646\u0648\u0627\u0646 \u0634\u0631\u06a9\u062a/\u0645\u0648\u0633\u0633\u0647"},Object(D.a)(I,"related_to_event","\u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0631\u0648\u06cc\u062f\u0627\u062f"),Object(D.a)(I,"create_exhibition","\u0627\u06cc\u062c\u0627\u062f \u0646\u0645\u0627\u06cc\u0634\u06af\u0627\u0647"),Object(D.a)(I,"create_exhibition_page","\u0627\u06cc\u062c\u0627\u062f \u0646\u0645\u0627\u06cc\u0634\u06af\u0627\u0647"),Object(D.a)(I,"exhibitions","\u0646\u0645\u0627\u06cc\u0634\u06af\u0627\u0647"),Object(D.a)(I,"stations","\u063a\u0631\u0641\u0647 \u0647\u0627"),Object(D.a)(I,"choose_participants","\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 \u0645\u0648\u0631\u062f\u0646\u0638\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),Object(D.a)(I,"participants","\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(I,"add_participants","\u0627\u0641\u0632\u0648\u062f\u0646 \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u0647"),Object(D.a)(I,"pages","\u0635\u0641\u062d\u0627\u062a"),Object(D.a)(I,"page_content","\u0645\u062d\u062a\u0648\u0627\u06cc \u0635\u0641\u062d\u0647"),Object(D.a)(I,"page_title","\u0639\u0646\u0648\u0627\u0646 \u0635\u0641\u062d\u0647"),Object(D.a)(I,"create_page","\u0627\u06cc\u062c\u0627\u062f \u0635\u0641\u062d\u0647"),Object(D.a)(I,"default_page","\u0635\u0641\u062d\u0647 \u067e\u06cc\u0634 \u0641\u0631\u0636"),Object(D.a)(I,"default_page_info","\u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u067e\u06cc\u0634 \u0641\u0631\u0635 \u062f\u0631 \u0646\u0634\u0633\u062a \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u0648\u062f"),Object(D.a)(I,"create_upload","\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u0645\u0646\u0628\u0639"),Object(D.a)(I,"upload_title","\u0639\u0646\u0648\u0627\u0646 \u0645\u0646\u0628\u0639"),Object(D.a)(I,"default_is_private_upload","\u0628\u0647 \u062c\u0632 \u0645\u062f\u06cc\u0631\u0627\u0646 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u062f\u06cc\u062f\u0647 \u0646\u0634\u0648\u062f"),Object(D.a)(I,"cover","\u06a9\u0627\u0648\u0631"),Object(D.a)(I,"file","\u0641\u0627\u06cc\u0644"),Object(D.a)(I,"video","\u0648\u06cc\u062f\u06cc\u0648"),Object(D.a)(I,"choose_file","\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"),Object(D.a)(I,"resources","\u0645\u0646\u0627\u0628\u0639"),Object(D.a)(I,"all","\u0647\u0645\u0647"),Object(D.a)(I,"welcome","\u062e\u0648\u0634 \u0622\u0645\u062f\u06cc\u062f"),Object(D.a)(I,"welcome_note","\u0628\u0627 \u0648\u0631\u0648\u062f \u0628\u0647 \u0627\u06cc\u0646 \u0633\u0627\u0645\u0627\u0646\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0646\u06cc\u062f \u06cc\u0627 \u062f\u0631 \u0633\u0627\u06cc\u0631 \u0631\u0648\u06cc\u062f\u0627\u062f \u0647\u0627 \u0634\u0631\u06a9\u062a \u06a9\u0646\u06cc\u062f."),Object(D.a)(I,"sign_up_now","\u0647\u0645 \u0627\u06a9\u0646\u0648\u0646 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f"),Object(D.a)(I,"your_email","\u0627\u06cc\u0645\u06cc\u0644"),Object(D.a)(I,"your_name","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644"),Object(D.a)(I,"choose_password","\u0627\u0646\u062a\u062e\u0627\u0628 \u0631\u0645\u0632\u0639\u0628\u0648\u0631"),Object(D.a)(I,"repeat_password","\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632\u0639\u0628\u0648\u0631"),Object(D.a)(I,"password_rule","\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u062d\u062a\u0645\u0627 \u0628\u0627\u06cc\u062f \u06f8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f"),Object(D.a)(I,"sign_up_and_continue","\u062b\u0628\u062a \u0646\u0627\u0645 \u0648 \u0627\u062f\u0627\u0645\u0647"),Object(D.a)(I,"login_if_registered","\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"),Object(D.a)(I,"if_not_registered","\u0627\u06af\u0631 \u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"),Object(D.a)(I,"login","\u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),Object(D.a)(I,"sign_up","\u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f"),Object(D.a)(I,"password","\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),Object(D.a)(I,"",""),Object(D.a)(I,"",""),Object(D.a)(I,"write_something","\u0627\u06cc\u0646\u062c\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f ..."),Object(D.a)(I,"provide_following_info","\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u062a\u06a9\u0645\u06cc\u0644 \u06a9\u0646\u06cc\u062f"),Object(D.a)(I,"cancel","\u0627\u0646\u0635\u0631\u0627\u0641"),Object(D.a)(I,"submit","\u062b\u0628\u062a"),Object(D.a)(I,"filter","\u0641\u06cc\u0644\u062a\u0631 \u06a9\u0646"),Object(D.a)(I,"search_placeholder","\u062c\u0633\u062a\u062c\u0648..."),Object(D.a)(I,"save","\u0630\u062e\u06cc\u0631\u0647"),Object(D.a)(I,"tags","\u0628\u0631\u0686\u0633\u0628 \u0647\u0627"),Object(D.a)(I,"is_private","\u062e\u0635\u0648\u0635\u06cc"),Object(D.a)(I,"speakers","\u0635\u062d\u0628\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(I,"listeners","\u0634\u0646\u0648\u0646\u062f\u06af\u0627\u0646"),Object(D.a)(I,"moderator","\u0645\u062f\u06cc\u0631"),Object(D.a)(I,"listener","\u0634\u0646\u0648\u0646\u062f\u0647"),Object(D.a)(I,"presenter","\u0627\u0631\u0627\u0626\u0647 \u062f\u0647\u0646\u062f\u0647"),Object(D.a)(I,"speaker","\u0635\u062d\u0628\u062a \u06a9\u0646\u0646\u062f\u0647"),Object(D.a)(I,"calendar","\u062a\u0642\u0648\u06cc\u0645"),Object(D.a)(I,"enter_room","\u0648\u0631\u0648\u062f \u0628\u0647 \u062c\u0644\u0633\u0647"),Object(D.a)(I,"default_is_private_info","\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u062e\u0648\u062f\u0634\u0627\u0646 \u062f\u0631 \u0631\u0648\u06cc\u062f\u0627\u062f \u0647\u0627 \u06cc\u0627 \u0646\u0634\u0633\u062a \u0647\u0627\u06cc \u062e\u0635\u0648\u0635\u06cc \u0639\u0636\u0648 \u0634\u0648\u0646\u062f \u0648 \u0635\u0631\u0641\u0627 \u0628\u0627\u06cc\u062f \u062f\u0639\u0648\u062a \u0634\u0648\u0646\u062f"),I)},M=n(0),R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.logout=s.logout.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),profile:{name:"",initials:""}},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){this.state.token&&this.state.token.length>10?C("profiles/my",1,this.state.token):this.props.history.push("login")}},{key:"getInstance",value:function(){var e=m.getIntance(),t=m.getKlass();e&&"Profile"===t&&this.setState({profile:e})}},{key:"handleChange",value:function(e){}},{key:"logout",value:function(){this.setState({token:null}),window.localStorage.removeItem("token"),window.location.replace("/")}},{key:"render",value:function(){var e=this,t=A.fa;return Object(M.jsx)("header",{className:"navbar navbar-expand-md navbar-dark d-print-none",children:Object(M.jsxs)("div",{className:"container-xl",children:[Object(M.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-menu",children:Object(M.jsx)("span",{className:"navbar-toggler-icon"})}),Object(M.jsx)("h1",{className:"navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3",children:Object(M.jsx)("a",{href:"/#/"})}),Object(M.jsxs)("div",{className:"navbar-nav flex-row order-md-last",children:[Object(M.jsx)("div",{class:"nav-item d-none d-md-flex me-3",children:Object(M.jsxs)("a",{href:"/#/discussions",className:"nav-link px-0",children:[Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"}),Object(M.jsx)("line",{x1:"12",y1:"12",x2:"12",y2:"12.01"}),Object(M.jsx)("line",{x1:"8",y1:"12",x2:"8",y2:"12.01"}),Object(M.jsx)("line",{x1:"16",y1:"12",x2:"16",y2:"12.01"})]}),Object(M.jsx)("span",{className:"badge bg-red"})]})}),Object(M.jsxs)("div",{className:"nav-item dropdown",children:[Object(M.jsxs)("a",{href:"#",className:"nav-link d-flex lh-1 text-reset p-0","data-bs-toggle":"dropdown","aria-label":"Open user menu",children:[Object(M.jsx)("span",{className:"avatar avatar-sm",children:this.state.profile.initials}),Object(M.jsxs)("div",{className:"d-none d-xl-block ps-2",children:[Object(M.jsx)("div",{children:this.state.profile.name}),Object(M.jsx)("div",{className:"mt-1 small text-muted"})]})]}),Object(M.jsx)("div",{className:"dropdown-menu dropdown-menu-end dropdown-menu-arrow",children:Object(M.jsx)("a",{onClick:function(){return e.logout()},className:"dropdown-item",children:"Logout"})})]})]}),Object(M.jsx)("div",{className:"collapse navbar-collapse",id:"navbar-menu",children:Object(M.jsx)("div",{className:"d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center",children:Object(M.jsxs)("ul",{className:"navbar-nav",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"/#/",children:[Object(M.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),Object(M.jsx)("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),Object(M.jsx)("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]})}),Object(M.jsx)("span",{className:"nav-link-title",children:t.home})]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"/#/events",children:[Object(M.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(M.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(M.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(M.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(M.jsx)("rect",{x:"8",y:"15",width:"2",height:"2"})]})}),Object(M.jsx)("span",{className:"nav-link-title",children:t.events})]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"/#/meetings",children:[Object(M.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"3",y1:"4",x2:"21",y2:"4"}),Object(M.jsx)("path",{d:"M4 4v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-10"}),Object(M.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"20"}),Object(M.jsx)("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),Object(M.jsx)("path",{d:"M8 12l3 -3l2 2l3 -3"})]})}),Object(M.jsx)("span",{className:"nav-link-title",children:t.meetings})]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"/#/exhibitions",children:[Object(M.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"9"}),Object(M.jsx)("line",{x1:"3.6",y1:"9",x2:"20.4",y2:"9"}),Object(M.jsx)("line",{x1:"3.6",y1:"15",x2:"20.4",y2:"15"}),Object(M.jsx)("path",{d:"M11.5 3a17 17 0 0 0 0 18"}),Object(M.jsx)("path",{d:"M12.5 3a17 17 0 0 1 0 18"})]})}),Object(M.jsx)("span",{className:"nav-link-title",children:t.exhibitions})]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"/#/profiles",children:[Object(M.jsx)("span",{className:"nav-link-icon d-md-none d-lg-inline-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(M.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),Object(M.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),Object(M.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]})}),Object(M.jsx)("span",{className:"nav-link-title",children:t.users})]})})]})})})]})})}}]),n}(i.a.Component),P=(n(55),n(57)),E=n(23),L=n.n(E);L.a.locale("fa",{useGregorianParser:!0});var V=A.fa,B=function(e){function t(e){var t=new Date(e),n=t.getDate(),s=t.getMonth()+1;return t.getFullYear()+"/"+s+"/"+n+" "+t.getHours()+":"+t.getMinutes()}function n(e){if(e.cover)return Object(M.jsx)("a",{href:"/#/events/"+e.id,children:Object(M.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function s(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}return Object(M.jsx)(i.a.Fragment,{children:function(){var i=[];return e.events&&e.events.map((function(a){i.push(Object(M.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(M.jsxs)("div",{className:"card",children:[n(a),Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:Object(M.jsx)("a",{href:"/#/events/"+a.id,children:a.title})}),Object(M.jsx)("p",{style:{textAlign:"justify"},children:a.truncated_info}),Object(M.jsxs)("h4",{children:[V.event_type,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:V[a.event_type]}),Object(M.jsxs)("h4",{children:[V.meeting_start_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(t(a.start_date)).format("HH:mm jYYYY/jMM/jDD")}),Object(M.jsxs)("h4",{children:[V.meeting_end_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(t(a.end_date)).format("HH:mm YYYY/MM/DD")}),Object(M.jsx)("h4",{children:V.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:s(a.tags)})]})]})}))})),i}()})},U=function(e){return Object(M.jsx)("div",{className:"col-lg-4",children:Object(M.jsxs)("div",{className:"card",style:{height:"24rem"},children:[Object(M.jsx)("div",{className:"card-header",children:"Pepole to follow"}),Object(M.jsxs)("div",{className:"list-group card-list-group card-body-scrollable card-body-scrollable-shadow",children:[Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"1"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/a4fb1d293bd8d3fd38352418c50fcf1369a7a87d.jpg",className:"rounded",alt:"G\xf3r\u0105 ty",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["G\xf3r\u0105 ty",Object(M.jsx)("div",{className:"text-muted",children:"GOLEC UORKIESTRA, Gromee, Bedoes"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:41"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"2"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/f04bb6fba32e89475d9981007aff21e13745dec2.jpg",className:"rounded",alt:"High Life",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["High Life",Object(M.jsx)("div",{className:"text-muted",children:"Daft Punk"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:21"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"3"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/c3f13b4f7a674abda9aa36fd72fa341e918c0f26.jpg",className:"rounded",alt:"Houdini",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Houdini",Object(M.jsx)("div",{className:"text-muted",children:"Foster The People"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:23"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"4"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/4d4ab714dfca7b9df41d4a02a2c39394ebdeb6b6.jpg",className:"rounded",alt:"Safe And Sound",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Safe And Sound",Object(M.jsx)("div",{className:"text-muted",children:"Capital Cities"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:12"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"5"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/79b2422b467ad20c07576e8f8f5f2f1692ac7142.jpg",className:"rounded",alt:"Partied Out",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Partied Out",Object(M.jsx)("div",{className:"text-muted",children:"Con Bro Chill"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:17"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"6"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/aac97056fc02fe02c7e95f7ff77a07c6e82f7d6e.jpg",className:"rounded",alt:"Runaway (U & I)",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Runaway (U & I)",Object(M.jsx)("div",{className:"text-muted",children:"Galantis"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:47"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"7"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/859337f0eaa49b1ad6ed76719b7c1ae26d6412c8.jpg",className:"rounded",alt:"Light It Up",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Light It Up",Object(M.jsx)("div",{className:"text-muted",children:"Major Lazer, Nyla, Fuse ODG"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"02:46"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"8"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/2e7357491deb8a6796ee8d9181ca9ea1f407bb5f.jpg",className:"rounded",alt:"Hangover",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Hangover",Object(M.jsx)("div",{className:"text-muted",children:"Taio Cruz, Flo Rida"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"04:04"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"9"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/c976bfc96d5e44820e553a16a6097cd02a61fd2f.jpg",className:"rounded",alt:"Shape of You",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Shape of You",Object(M.jsx)("div",{className:"text-muted",children:"Ed Sheeran"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:53"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"10"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/c9a8350feee77e9345eec4155cddc96694803d1a.jpg",className:"rounded",alt:"Alone",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Alone",Object(M.jsx)("div",{className:"text-muted",children:"Alan Walker"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"02:41"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"11"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/fe4ee21d30450829e5b172e806b3c1e14ca1e5f3.jpg",className:"rounded",alt:"Langrennsfar",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Langrennsfar",Object(M.jsx)("div",{className:"text-muted",children:"Ylvis"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"02:43"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})}),Object(M.jsx)("div",{className:"list-group-item",children:Object(M.jsxs)("div",{className:"row g-2 align-items-center",children:[Object(M.jsx)("div",{className:"col-auto text-h3",children:"12"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("img",{src:"./static/tracks/f4e96086f44c4dff1758b1fc1338cd88c1b5ce9c.jpg",className:"rounded",alt:"Skibidi",width:"40",height:"40"})}),Object(M.jsxs)("div",{className:"col",children:["Skibidi",Object(M.jsx)("div",{className:"text-muted",children:"Little Big"})]}),Object(M.jsx)("div",{className:"col-auto text-muted",children:"03:12"}),Object(M.jsx)("div",{className:"col-auto",children:Object(M.jsx)("a",{href:"#",className:"link-secondary",children:Object(M.jsxs)("button",{className:"switch-icon","data-bs-toggle":"switch-icon",children:[Object(M.jsx)("span",{className:"switch-icon-a text-muted",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),Object(M.jsx)("span",{className:"switch-icon-b text-red",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-filled",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})})]})})}),Object(M.jsx)("div",{className:"col-auto lh-1",children:Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("a",{href:"#",className:"link-secondary","data-bs-toggle":"dropdown",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"5",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),Object(M.jsx)("circle",{cx:"19",cy:"12",r:"1"})]})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(M.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})]})]})})]})})]})]})})},H=function(e){var t=A.fa;return Object(M.jsxs)("div",{className:"card mb-3",style:e.height?{height:e.height}:{height:"auto"},children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:t.participants}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/attendances/create?"+e.attendable_type+"_id="+e.attendable_id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(M.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),Object(M.jsx)("path",{d:"M16 11h6m-3 -3v6"})]})})})})]}),Object(M.jsx)("div",{className:"card-body card-body-scrollable card-body-scrollable-shadow",children:Object(M.jsx)("div",{class:"avatar-list avatar-list-stacked",children:function(){var t=[];return e.attendees&&e.attendees.map((function(e){t.push(Object(M.jsx)("span",{class:"avatar avatar-sm avatar-rounded",children:e.initials}))})),t}()})})]})},z=(i.a.Component,n(163)),F=n(31),W=Object(F.b)(F.a),q=x,G=A.fa,J=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).submit=s.submit.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),email:null,name:null,password:null,password_confirmation:null,id:null,bio:null,country:null,initials:"NN",options:[],tags:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){this.state.token&&""!==this.state.token&&C("profiles/my","1",this.state.token)}},{key:"getInstance",value:function(){var e=m.getIntance(),t=m.getKlass();e&&"Profile"===t&&(this.setState({id:e.id,name:e.name,bio:e.bio,country:e.country,initials:e.initials,tags:e.tags}),console.log(e.tags))}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"SignUp"===e&&(window.localStorage.setItem("token",t.token),window.location.reload()),"Profile"===e&&this.props.history.push("/#/")}},{key:"submit",value:function(){N("users/sign_up",this.state)}},{key:"submitProfile",value:function(){T("profiles",this.state,this.state.token)}},{key:"tagSelected",value:function(e){var t=this,n=[];e.map((function(e){e.title?n.push(e.title):n.push(e)})),this.setState({tags:n},(function(){return console.log(t.state.tags)}))}},{key:"checkSignUp",value:function(){return this.state.token&&""!==this.state.token?this.signedUp():this.notSignedUp()}},{key:"notSignedUp",value:function(){var e=this;return Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsx)("div",{class:"text-center mb-4",children:Object(M.jsx)("a",{href:".",children:Object(M.jsx)("img",{src:"./static/logo.svg",height:"36",alt:""})})}),Object(M.jsxs)("div",{class:"card card-md",children:[Object(M.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[Object(M.jsx)("img",{src:"./static/illustrations/undraw_sign_in_e6hj.svg",height:"128",class:"mb-n2",alt:""}),Object(M.jsx)("h1",{class:"mt-5",children:G.welcome}),Object(M.jsx)("p",{class:"text-muted",children:G.welcome_note}),Object(M.jsx)("p",{class:"text-muted",children:G.login_if_registered}),Object(M.jsx)("a",{href:"/#/login",class:"btn btn-outline-success w-100",children:G.login})]}),Object(M.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:G.sign_up_now}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:G.your_email}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({email:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(M.jsx)("div",{class:"form-hint"})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:G.your_name}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({name:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(M.jsx)("div",{class:"form-hint"})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:G.choose_password}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({password:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(M.jsx)("div",{class:"form-hint",children:G.password_rule})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:G.repeat_password}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({password_confirmation:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(M.jsx)("div",{class:"form-hint"})]})]})]}),Object(M.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(M.jsx)("div",{class:"col-4",children:Object(M.jsx)("div",{class:"progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"25%"},role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"25% Complete"})})})}),Object(M.jsx)("div",{class:"col",children:Object(M.jsx)("div",{class:"btn-list justify-content-end",children:Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary",children:G.sign_up_and_continue})})})]})]})}},{key:"signedUp",value:function(){var e=this;if(this.state.id)return Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("div",{class:"card card-md",children:[Object(M.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[Object(M.jsx)("span",{class:"avatar avatar-xl mb-2 avatar-rounded",children:this.state.initials}),Object(M.jsx)("p",{class:"text-muted",children:"Click to change your profile picture"})]}),Object(M.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:"Complete your profile"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:"Your country"}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)(z.a,{classes:"form-control ps-1",priorityOptions:["CA","IR","US"],value:this.state.country,onChange:function(t){return e.handleChange({country:t})}})]})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:["Bio",Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)("textarea",{class:"form-control",name:"example-textarea-input",rows:"6",placeholder:"Write about your self ...",onInput:function(t){e.handleChange({bio:t.target.value})},value:this.state.bio})]}),Object(M.jsx)("div",{class:"mb-3",children:Object(M.jsx)(W,{id:"yytyty",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(q+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var n=t.items;e.setState({options:n,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(M.jsx)(i.a.Fragment,{children:Object(M.jsx)("span",{children:e.title})})}})})]})]}),Object(M.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(M.jsx)("div",{class:"col-4",children:Object(M.jsx)("div",{class:"progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"75%"},role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"25% Complete"})})})}),Object(M.jsx)("div",{class:"col",children:Object(M.jsxs)("div",{class:"btn-list justify-content-end",children:[Object(M.jsx)("a",{href:"/#/",class:"btn btn-link link-secondary",children:"Complete later"}),Object(M.jsx)("button",{onClick:function(){return e.submitProfile()},class:"btn btn-primary",children:"Continue"})]})})]})]})}},{key:"render",value:function(){return Object(M.jsx)("div",{class:"page page-center",children:Object(M.jsx)("div",{class:"container-tight py-4",children:this.checkSignUp()})})}}]),n}(i.a.Component),Y=(Object(F.b)(F.a),A.fa),K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).submit=s.submit.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),email:null,password:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){this.state.token&&this.state.token}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Login"===e&&(window.localStorage.setItem("token",t.token),this.props.history.push("/#/events"))}},{key:"submit",value:function(){N("users/login",this.state)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{class:"page page-center",children:Object(M.jsx)("div",{class:"container-tight py-4",children:Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsx)("div",{class:"text-center mb-4",children:Object(M.jsx)("a",{href:".",children:Object(M.jsx)("img",{src:"./static/logo.svg",height:"36",alt:""})})}),Object(M.jsxs)("div",{class:"card card-md",children:[Object(M.jsxs)("div",{class:"card-body text-center py-4 p-sm-5",children:[Object(M.jsx)("img",{src:"./static/illustrations/undraw_sign_in_e6hj.svg",height:"128",class:"mb-n2",alt:""}),Object(M.jsx)("h1",{class:"mt-5",children:Y.welcome}),Object(M.jsx)("p",{class:"text-muted",children:Y.welcome_note}),Object(M.jsx)("p",{class:"text-muted",children:Y.if_not_registered}),Object(M.jsx)("a",{href:"/#/wizard",class:"btn btn-outline-primary w-100",children:Y.sign_up})]}),Object(M.jsx)("div",{class:"hr-text hr-text-center hr-text-spaceless",children:Y.login_now}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Y.your_email}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({email:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]}),Object(M.jsx)("div",{class:"form-hint"})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Y.password}),Object(M.jsxs)("div",{class:"input-group input-group-flat",children:[Object(M.jsx)("span",{class:"input-group-text"}),Object(M.jsx)("input",{type:"password",onInput:function(t){e.handleChange({password:t.target.value})},class:"form-control ps-1",autocomplete:"off"})]})]})]})]}),Object(M.jsxs)("div",{class:"row align-items-center mt-3",children:[Object(M.jsx)("div",{class:"col-4"}),Object(M.jsx)("div",{class:"col",children:Object(M.jsx)("div",{class:"btn-list justify-content-end",children:Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-success",children:Y.login})})})]})]})})})}}]),n}(i.a.Component),Z=n(19),Q=n.n(Z),X=n(26),$=n.n(X),ee=A.fa,te=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getList=s.getList.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,events:null,allTags:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){k("events",this.state.page,{},this.state.token),k("tags/top",this.state.page,{},this.state.token)}},{key:"getList",value:function(){var e=m.getList(),t=m.getKlass();e&&"Event"===t&&this.setState({events:e}),e&&"Tag"===t&&this.setState({allTags:e}),console.log(e)}},{key:"handleChange",value:function(e){}},{key:"noEventCard",value:function(){}},{key:"checkEvent",value:function(){return this.state.events?Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:ee.events}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/events/create",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem"})})]})}),Object(M.jsx)(B,{events:this.state.events,col:8})]}):this.noEventCard()}},{key:"cardMasonry",value:function(){if(this.state.events)return Object(M.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(M.jsx)(B,{events:this.state.events,col:6})})}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(n){t.push(Object(M.jsxs)("label",{class:"form-check",children:[Object(M.jsx)("input",{id:"tag-check-"+n.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:n.id,onChange:function(t){return e.changeTags(t)}}),Object(M.jsx)("span",{class:"form-check-label",children:Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:n.title})})]}))})),t}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:ee.overview}),Object(M.jsx)("h2",{className:"page-title",children:ee.events})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsx)("div",{class:"col-lg-3",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:ee.events}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/events/create",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(M.jsxs)("label",{class:"form-label ",children:[ee.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Q()(this.state.start_time)}),Object(M.jsxs)("label",{class:"form-label mt-2",children:[ee.meeting_end_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Q()(this.state.end_time)})]})}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"subheader mb-2",children:ee.tags}),Object(M.jsx)("div",{children:this.tagCheckbox()})]})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("a",{onClick:function(){return e.filterSearch()},class:"btn btn-primary w-100",children:[Object(M.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),ee.filter]})})]})}),Object(M.jsx)("div",{class:"col-lg-9",children:this.cardMasonry()})]})})})]})]})})}}]),n}(i.a.Component),ne=(n(509),n(510),function(e){function t(e){var t=new Date(e),n=t.getDate(),s=t.getMonth()+1;return t.getFullYear()+"/"+s+"/"+n+" "+t.getHours()+":"+t.getMinutes()}var n=A.fa;return Object(M.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(M.jsxs)("div",{className:"card mb-3",style:e.height?{height:e.height}:{height:"auto"},children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:n.meetings}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/create?event_id="+e.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:function(){var n=[];return e.meetings.map((function(s){n.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"/#/meetings/"+s.id,children:s.title}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:L()(t(s.start_time)).format("HH:mm jYYYY/jMM/jDD")})]}),Object(M.jsxs)("div",{class:"col-auto",children:[Object(M.jsx)("a",{href:"/#/meetings/edit/"+s.id,class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(M.jsx)("a",{onClick:function(){return e.deleteMeeting(s.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})]})}))})),n}()}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{herf:"",class:"btn btn-link"}),Object(M.jsx)("a",{href:"/#/events/detail/"+e.id,class:"ms-auto",children:n.all})]})})]})})}),se=function(e){return Object(M.jsx)(X.Calendar,{ranges:e.highlightRanges,value:e.today,isGregorian:!1,inputFormat:"YYYY-M-D",inputJalaaliFormat:"jYYYY-jM-jD",onChange:function(t){return e.dateSelect(t)}})},ie=A.fa,ae=function(e){return Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsxs)("h3",{class:"card-title",children:[e.title," "]}),Object(M.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(M.jsx)("li",{class:"nav-item",style:{marginRight:"10px"},children:e.isPrivateBadge()}),Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/events/edit/"+e.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})]})]}),Object(M.jsx)("a",{onClick:function(){return e.toggleCalendar()},children:Object(M.jsxs)("div",{className:"card-header cursor-pointer",children:[Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),Object(M.jsx)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),Object(M.jsx)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),Object(M.jsx)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),Object(M.jsx)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),Object(M.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})]}),ie.calendar,Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"11",y2:"18"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"11",y2:"6"})]})})})]})}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h4",{children:ie.event_info}),Object(M.jsx)("div",{class:"text-muted mb-3",style:{textAlign:"justify"},children:e.info}),Object(M.jsx)("h4",{children:ie.event_type}),Object(M.jsx)("div",{class:"text-muted mb-3",children:ie[e.event_type]}),Object(M.jsx)("h4",{children:ie.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:e.tagsShow(e.tags)})]})]})},re=n(117),ce=n.n(re),oe=n(7),le=n.n(oe),de=n(42),ue=n.n(de),he=A.fa,je=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).dateSelect=s.dateSelect.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.isPrivateBadge=s.isPrivateBadge.bind(Object(j.a)(s)),s.toggleCalendar=s.toggleCalendar.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,event_type:null,info:null,meetings:[],flyers:[],quillOne:null,attendees:null,tags:[],is_private:!1,calendar:!1,today:Q()(),highlightRanges:[],meetingLoaded:!1,selectedMeeting:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance),m.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){C("events",this.props.match.params.id,this.state.token);var e=new ue.a("#editor-one",{readOnly:!0});this.setState({quillOne:e})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();"Event"===t&&this.setState({title:n.title,id:n.id,event_type:n.event_type,info:n.info,meetings:n.meetings,flyers:n.flyers,attendees:n.attendees,tags:n.tags,is_private:n.is_private,uploads:n.uploads},(function(){e.constructCalendar()})),console.log(n)}},{key:"deleteFlyer",value:function(e){_("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"loadContent",value:function(e){le()("#content").html(),this.state.quillOne.setContents(e)}},{key:"toggleCalendar",value:function(){var e=this;this.setState({calendar:!this.state.calendar},(function(){e.state.calendar?le()("#calendar").show():le()("#calendar").hide()}))}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(t){t.is_default&&(le()("#content").html(),e.state.quillOne.setContents(t.quill_content))})),this.state.flyers.map((function(n){t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{onClick:function(){return e.loadContent(n.quill_content)},class:"text-body d-block",children:n.title})}),Object(M.jsxs)("div",{class:"col-auto",children:[Object(M.jsx)("a",{href:"/#/flyers/edit/"+n.id,class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})]})}))})),t}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(M.jsx)("span",{class:"badge bg-red-lt",children:he.is_private})}},{key:"dateSelect",value:function(e){var t=[];this.state.meetings.map((function(n){Date.parse(n.start_day)<=e._d&&Date.parse(n.end_day)>=e._d&&t.push(n)})),this.setState({selectedMeeting:t})}},{key:"meetingList",value:function(){var e=this,t=[];return this.state.selectedMeeting.map((function(n){t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"/#/meetings/"+n.id,class:"text-body d-block",children:n.title}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:n.info})]}),Object(M.jsx)("div",{class:"col-auto",children:e.tagsShow(n.tags)})]})}))})),t}},{key:"constructCalendar",value:function(){var e=[];this.state.meetings.map((function(t){console.log(t),e.push({color:ce()(),start:t.start_time,end:t.end_time})})),this.setState({highlightRanges:this.state.highlightRanges.concat(e),today:null,meetingLoaded:!0})}},{key:"showCalendar",value:function(){if(this.state.meetings&&this.state.meetings.length>0&&this.state.meetingLoaded)return Object(M.jsxs)("div",{class:"row row-deck",id:"calendar",style:{display:"none"},children:[Object(M.jsx)("div",{class:"col-lg-6",children:Object(M.jsx)("div",{class:"card mb-3",children:Object(M.jsx)("div",{class:"card-body",children:Object(M.jsx)(se,{highlightRanges:this.state.highlightRanges,today:this.state.today,dateSelect:this.dateSelect})})})}),Object(M.jsx)("div",{class:"col-lg-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:he.meetings})}),Object(M.jsx)("div",{class:"list-group list-group-flush overflow-auto",style:{maxHeight:"25rem"},children:this.meetingList()})]})})]})}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(n){"cover"!==n.upload_type&&t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{style:{cursor:"pointer"},href:n.link,class:"text-body d-block",children:n.title})}),Object(M.jsx)("div",{class:"col-auto p-0",children:Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})}))})),t}},{key:"render",value:function(){return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:he.overview}),Object(M.jsx)("h2",{className:"page-title",children:he.event_detail})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row  row-cards",children:[Object(M.jsxs)("div",{class:"col-lg-4",children:[Object(M.jsx)(ae,{title:this.state.title,info:this.state.info,isPrivateBadge:this.isPrivateBadge,tagsShow:this.tagsShow,event_type:this.state.event_type,tags:this.state.tags,toggleCalendar:this.toggleCalendar,id:this.state.id}),Object(M.jsx)(H,{attendees:this.state.attendees,attendable_type:"event",attendable_id:this.state.id}),Object(M.jsx)(ne,{meetings:this.state.meetings,col:"12",id:this.state.id}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:he.pages}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/flyers/create?event_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:he.resources}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("div",{class:"upload-btn",children:Object(M.jsx)("label",{for:"file-input",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/uploads/create?event_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]})]}),Object(M.jsxs)("div",{class:"col-lg-8",children:[this.showCalendar(),Object(M.jsx)("div",{class:"card",children:Object(M.jsx)("div",{class:"card-body",id:"content",style:{margin:"initial"},children:Object(M.jsx)("div",{id:"editor-one"})})})]})]})})})]})]})})}}]),n}(i.a.Component),be=Object(F.b)(F.a),ve=x,pe=A.fa,me=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).submit=s.submit.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,info:null,event_type:null,start_date:Q()(),end_date:Q()(),is_private:!1,options:[],tags:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){this.props.match.params.id&&C("events",this.props.match.params.id,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Event"===e&&this.props.history.push("/events/"+t.id)}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();n&&"Event"===t&&this.setState({id:n.id,title:n.title,info:n.info,event_type:n.event_type,tags:n.tags,is_private:n.is_private,start_date:n.start_date,end_date:n.end_date,editing:!0},(function(){console.log(e.state),e.changeType(e.state.event_type),e.tagSelected(e.state.tags)}))}},{key:"submit",value:function(){var e=this.state;this.state.editing?T("events",e,this.state.token):N("events",e,this.state.token)}},{key:"changeType",value:function(e){var t=this;le()(".form-selectgroup-input").each((function(){le()(this).val()!==e||le()(this).checked?le()(this).prop("checked",!1):(le()(this).prop("checked",!0),t.setState({event_type:e}))}))}},{key:"tagSelected",value:function(e){var t=this,n=[];e.map((function(e){e.title?n.push(e.title):n.push(e)})),this.setState({tags:n},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(M.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(M.jsx)(be,{id:"event-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(ve+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var n=t.items;e.setState({options:n,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(M.jsx)(i.a.Fragment,{children:Object(M.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:pe.create_event_page}),Object(M.jsx)("h2",{className:"page-title",children:pe.provide_following_info})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{class:"col-md-8",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:pe.create_event})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("form",{children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:pe.event_title}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({title:t.target.value})},id:"title",class:"form-control",name:"text-input",placeholder:pe.write_something,value:this.state.title})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[pe.event_info,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)("textarea",{onInput:function(t){e.handleChange({info:t.target.value})},class:"form-control",id:"content",name:"example-textarea-input",rows:"6",placeholder:pe.write_something,value:this.state.info})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:pe.event_type}),Object(M.jsxs)("div",{class:"form-selectgroup",children:[Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"in_person",class:"form-selectgroup-input",checked:"",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:pe.in_person})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"hybrid",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:pe.hybrid})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"online",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:pe.online})]})]})]}),Object(M.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(M.jsx)("label",{class:"form-label",children:pe.tags}),this.tagShow()]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[pe.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({start_date:t})},value:Q()(this.state.start_date)})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[pe.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{timePicker:!1,isGregorian:!1,onChange:function(t){e.setState({end_date:t})},value:Q()(this.state.end_date)})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"form-label",children:pe.is_private}),Object(M.jsxs)("label",{class:"form-check form-switch",children:[Object(M.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(M.jsx)("span",{class:"form-check-label",children:pe.default_is_private_info})]})]})]})}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{href:"/#/events",class:"btn btn-link",children:pe.cancel}),Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:pe.submit})]})}),Object(M.jsx)("div",{class:"progress progress-sm card-progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:"Help"}),Object(M.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem."})]})]})})]})})})]})]})})}}]),n}(i.a.Component),ge=n(53),fe=n.n(ge),xe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.getMultipleList=s.getMultipleList.bind(Object(j.a)(s)),s.search=s.search.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,attendances:null,users:null,attendable_type:"",attendable_id:0,q:"",selectedUser:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_multiple_list",this.getMultipleList),m.on("set_instance",this.setInstance),m.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_multiple_list",this.getMultipleList),m.removeListener("set_instance",this.setInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this,t=fe.a.parse(this.props.location.search),n="",s=0;Object.keys(t).map((function(e){var i=e.split("_");i[0]&&(n=i[0].charAt(0).toUpperCase()+i[0].slice(1),s=t[e])})),this.setState({attendable_type:n,attendable_id:s},(function(){S("attendances",e.state.page,e.state,e.state.token)}))}},{key:"getMultipleList",value:function(){var e=m.getMutipleList(),t=m.getKlass();console.log(e),e&&"Attendance"===t&&this.setState({users:e.users,attendances:e.attendances})}},{key:"getInstance",value:function(){S("attendances",this.state.page,this.state,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"search",value:function(e){var t=this;e.length>3?this.setState({q:e},(function(){return S("attendances",t.state.page,t.state,t.state.token)})):this.setState({q:""},(function(){return S("attendances",t.state.page,t.state,t.state.token)}))}},{key:"setInstance",value:function(){S("attendances",this.state.page,this.state,this.state.token)}},{key:"addParticipant",value:function(e){""!==this.state.attendable_type&&N("attendances",{attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type,user_id:e},this.state.token)}},{key:"removeParticipant",value:function(e){_("attendances",{id:e,attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type},this.state.token)}},{key:"userItems",value:function(e){var t=this,n=[];return e&&e.map((function(e){n.push(Object(M.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{onClick:function(){return t.addParticipant(e.user_id)},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar",children:e.initials})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:e.name}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:e.bio})]}),Object(M.jsx)("div",{class:"col-auto"})]})}))})),n}},{key:"attendanceItems",value:function(e){var t=this,n=[];return e&&e.map((function(e){var s=e.profile;n.push(Object(M.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{onClick:function(){return t.removeParticipant(e.id)},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar",children:s.initials})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:s.name}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:s.bio})]}),Object(M.jsx)("div",{class:"col-auto"})]})}))})),n}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:"add participants"}),Object(M.jsx)("h2",{className:"page-title",children:this.state.title})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:"All Users"})}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"input-icon ",children:[Object(M.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026",onInput:function(t){e.search(t.target.value)}}),Object(M.jsx)("span",{class:"input-icon-addon",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(M.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})})}),this.userItems(this.state.users)]})}),Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:"Participants"})}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.attendanceItems(this.state.attendances)})]})})]})})})]})]})})}}]),n}(i.a.Component),Oe=n(281);L.a.locale("fa",{useGregorianParser:!0});var we=A.fa,ye=function(e){function t(){var t=[];return e.attendees&&e.attendees.map((function(e){t.push(Object(M.jsx)("span",{class:"avatar avatar-sm avatar-rounded",children:e.initials}))})),t}function n(e){var t=new Date(e),n=t.getDate(),s=t.getMonth()+1;return t.getFullYear()+"/"+s+"/"+n+" "+t.getHours()+":"+t.getMinutes()}function s(t,n){if(e[t])return Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("h4",{children:[n,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:e[t]})]})}return Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:e.title}),Object(M.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(M.jsx)("li",{class:"nav-item",style:{marginRight:"10px"},children:e.isPrivateBadge()}),Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/edit/"+e.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})]})]}),Object(M.jsxs)("div",{class:"card-body",children:[function(){if(e.event)return Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("h4",{children:[we.related_to_event,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:Object(M.jsx)("a",{href:"/#/events/"+e.event.id,children:e.event.title})})]})}(),s("info",we.meeting_info),Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("h4",{children:[we.meeting_type,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:we[e.meeting_type]})]}),s("capacity",we.meeting_capacity),s("external_link",we.meeting_external_link),Object(M.jsxs)("h4",{children:[we.meeting_start_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(n(e.start_time)).format("HH:mm jYYYY/jMM/jDD")}),Object(M.jsxs)("h4",{children:[we.meeting_end_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(n(e.end_time)).format("HH:mm YYYY/MM/DD")}),Object(M.jsx)("h4",{children:we.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:e.tagsShow(e.tags)})]}),e.page&&"meeting"==e.page?Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsx)("div",{class:"mt-2",children:Object(M.jsx)("a",{href:"/#/rooms/"+e.room_id+"?rnd="+Object(P.v4)(),onClick:e.forceUpdate,class:"btn btn-primary bg-lime w-100",children:we.enter_room})})}):e.page&&"detail"==e.page?Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsx)("div",{class:"row align-items-center",children:Object(M.jsx)("div",{class:"col-auto ",children:Object(M.jsx)("div",{class:"avatar-list avatar-list-stacked",children:t()})})})}):void 0]})},ke=A.fa,Se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.isPrivateBadge=s.isPrivateBadge.bind(Object(j.a)(s)),s.getList=s.getList.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,event_type:null,info:null,meetings:[],tags:[],is_private:!1,allTags:[],start_time:Q()(),end_time:Q()(),selectedTags:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance),m.on("deleted_instance",this.getInstance),m.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("deleted_instance",this.getInstance),m.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){C("events",this.props.match.params.id,this.state.token),k("events/tags",this.state.page,{id:this.props.match.params.id})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Event"===e&&this.setState({title:t.title,id:t.id,event_type:t.event_type,info:t.info,meetings:t.meetings,tags:t.tags,is_private:t.is_private},(function(){})),console.log(t)}},{key:"getList",value:function(){var e=m.getList(),t=m.getKlass();e&&"Tag"===t&&this.setState({allTags:e}),e&&"Meeting"===t&&this.setState({meetings:e}),console.log(e)}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(M.jsx)("span",{class:"badge bg-red-lt",children:ke.is_private})}},{key:"changeTags",value:function(e){var t=this,n="#tag-check-"+e.target.value;if(console.log(le()(n),le()(n).is(":checked")),le()(n).is(":checked"))t.setState({selectedTags:t.state.selectedTags.concat(e.target.value)},(function(){console.log(t.state.selectedTags)}));else{var s=Object(Oe.a)(t.state.selectedTags),i=s.indexOf(e.target.value);-1!==i&&(s.splice(i,1),t.setState({selectedTags:s}))}}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(n){t.push(Object(M.jsxs)("label",{class:"form-check",children:[Object(M.jsx)("input",{id:"tag-check-"+n.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:n.id,onChange:function(t){return e.changeTags(t)}}),Object(M.jsx)("span",{class:"form-check-label",children:Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:n.title})})]}))})),t}},{key:"checkTags",value:function(){}},{key:"meetingList",value:function(){var e=this,t=[];return this.state.meetings.map((function(n){t.push(Object(M.jsx)(ye,{title:n.title,info:n.info,start_time:n.start_time,end_time:n.end_time,isPrivateBadge:e.isPrivateBadge,tagsShow:e.tagsShow,meeting_type:n.meeting_type,tags:n.tags,id:n.id,event:n.event,page:"detail",attendees:n.attendees}))})),t}},{key:"filterSearch",value:function(){k("events/meetings",this.state.page,{tag_ids:this.state.selectedTags,start_time:this.state.start_time,end_time:this.state.end_time,id:this.props.match.params.id},this.state.token)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:ke.overview}),Object(M.jsx)("h2",{className:"page-title",children:ke.event_detail})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row  row-cards",children:[Object(M.jsx)("div",{class:"col-lg-3",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:Object(M.jsx)("a",{href:"/#/events/"+this.state.id,children:this.state.title})})}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(M.jsxs)("label",{class:"form-label ",children:[ke.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Q()(this.state.start_time)}),Object(M.jsxs)("label",{class:"form-label mt-2",children:[ke.meeting_end_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Q()(this.state.end_time)})]})}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"subheader mb-2",children:ke.tags}),Object(M.jsx)("div",{children:this.tagCheckbox()})]})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("a",{onClick:function(){return e.filterSearch()},class:"btn btn-primary w-100",children:[Object(M.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),ke.filter]})})]})}),Object(M.jsx)("div",{class:"col-lg-9 col-xs-9",children:this.meetingList()})]})})})]})]})})}}]),n}(i.a.Component);L.a.locale("fa",{useGregorianParser:!0});var Ce=A.fa,_e=function(e){function t(e){var t=new Date(e),n=t.getDate(),s=t.getMonth()+1;return t.getFullYear()+"/"+s+"/"+n+" "+t.getHours()+":"+t.getMinutes()}function n(e){if(e.cover)return Object(M.jsx)("a",{href:"/#/meetings/"+e.id,children:Object(M.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function s(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}return Object(M.jsx)(i.a.Fragment,{children:function(){var i=[];return e.meetings&&e.meetings.map((function(a){i.push(Object(M.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(M.jsxs)("div",{className:"card",children:[n(a),Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:Object(M.jsx)("a",{href:"/#/meetings/"+a.id,children:a.title})}),Object(M.jsx)("p",{style:{textAlign:"justify"},children:a.truncated_info}),Object(M.jsxs)("h4",{children:[Ce.meeting_type,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:Ce[a.meeting_type]}),Object(M.jsxs)("h4",{children:[Ce.meeting_start_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(t(a.start_time)).format("HH:mm jYYYY/jMM/jDD")}),Object(M.jsxs)("h4",{children:[Ce.meeting_end_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(t(a.end_time)).format("HH:mm YYYY/MM/DD")}),Object(M.jsx)("h4",{children:Ce.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:s(a.tags)})]})]})}))})),i}()})},Ne=A.fa,Te=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getList=s.getList.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,meetings:null,allTags:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){k("meetings",this.state.page,{},this.state.token),k("tags/top",this.state.page,{},this.state.token)}},{key:"getList",value:function(){var e=m.getList(),t=m.getKlass();e&&"Meeting"===t&&this.setState({meetings:e}),e&&"Tag"===t&&this.setState({allTags:e})}},{key:"handleChange",value:function(e){}},{key:"setInstance",value:function(){}},{key:"noMeetingCard",value:function(){}},{key:"checkMeeting",value:function(){return this.state.meetings?Object(M.jsx)(_e,{meetings:this.state.meetings,col:12}):this.noMeetingCard()}},{key:"cardMasonry",value:function(){if(this.state.meetings)return Object(M.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(M.jsx)(_e,{meetings:this.state.meetings,col:6})})}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(n){t.push(Object(M.jsxs)("label",{class:"form-check",children:[Object(M.jsx)("input",{id:"tag-check-"+n.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:n.id,onChange:function(t){return e.changeTags(t)}}),Object(M.jsx)("span",{class:"form-check-label",children:Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:n.title})})]}))})),t}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:Ne.overview}),Object(M.jsx)("h2",{className:"page-title",children:Ne.meetings})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsx)("div",{class:"col-lg-3",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:Ne.meetings}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/events/create",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",style:{width:"100%"},children:[Object(M.jsxs)("label",{class:"form-label ",children:[Ne.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Q()(this.state.start_time)}),Object(M.jsxs)("label",{class:"form-label mt-2",children:[Ne.meeting_end_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Q()(this.state.end_time)})]})}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"subheader mb-2",children:Ne.tags}),Object(M.jsx)("div",{children:this.tagCheckbox()})]})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("a",{onClick:function(){return e.filterSearch()},class:"btn btn-primary w-100",children:[Object(M.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),Ne.filter]})})]})}),Object(M.jsx)("div",{class:"col-lg-9",children:this.cardMasonry()})]})})})]})]})})}}]),n}(i.a.Component);L.a.locale("fa",{useGregorianParser:!0});var Ie=A.fa,De=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).flyers=s.flyers.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,start_time:null,end_time:null,info:null,capacity:null,meeting_type:null,event:{title:"",id:0},flyers:[],quillOne:null,attendees:null,tags:[],is_private:!1,room_id:null,cover:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance),m.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){C("meetings",this.props.match.params.id,this.state.token);var e=new ue.a("#editor-one",{readOnly:!0});this.setState({quillOne:e})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Meeting"===e&&this.setState({title:t.title,id:t.id,start_time:t.start_time,end_time:t.end_time,info:t.info,capacity:t.capacity,meeting_type:t.meeting_type,event:t.event,flyers:t.flyers,attendees:t.attendees,tags:t.tags,is_private:t.is_private,room_id:t.room_id,cover:t.cover,uploads:t.uploads}),console.log(">>>>",t)}},{key:"sideBlock",value:function(e,t){if(this.state[e])return Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("h4",{children:[t,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:this.state[e]})]})}},{key:"deleteFlyer",value:function(e){_("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(t){t.is_default&&(le()("#content").html(),e.state.quillOne.setContents(t.quill_content))})),this.state.flyers.map((function(n){t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return e.loadContent(n.quill_content)},class:"text-body d-block",children:n.title})}),Object(M.jsxs)("div",{class:"col-auto p-0",children:[Object(M.jsx)("a",{href:"/#/flyers/edit/"+n.id,class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]}),Object(M.jsx)("div",{class:"col-auto p-0",children:Object(M.jsx)("a",{style:{cursor:"pointer",color:"#f4f6fa"},onClick:function(){return e.loadContent(n.quill_content)},class:"text-body d-block",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"11",y2:"18"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"11",y2:"6"})]})})})]})}))})),t}},{key:"loadContent",value:function(e){le()("#content").html(),this.state.quillOne.setContents(e)}},{key:"formatGregorianDate",value:function(e){var t=new Date(e),n=t.getDate(),s=t.getMonth()+1;return t.getFullYear()+"/"+s+"/"+n+" "+t.getHours()+":"+t.getMinutes()}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(M.jsx)("span",{class:"badge bg-red-lt",children:Ie.is_private})}},{key:"cardCover",value:function(){if(this.state.cover)return Object(M.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+this.state.cover+")"}})}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(n){"cover"!==n.upload_type&&t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{style:{cursor:"pointer"},href:n.link,class:"text-body d-block",children:n.title})}),Object(M.jsx)("div",{class:"col-auto p-0",children:Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})}))})),t}},{key:"render",value:function(){var e=A.fa;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:e.overview}),Object(M.jsx)("h2",{className:"page-title",children:e.meeting_detail})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row  row-cards",children:[Object(M.jsxs)("div",{class:"col-lg-4",children:[Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:this.state.title}),Object(M.jsxs)("ul",{class:"nav nav-pills card-header-pills",children:[Object(M.jsx)("li",{class:"nav-item",style:{marginRight:"10px"},children:this.isPrivateBadge()}),Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/meetings/edit/"+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})]})]}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsxs)("h4",{children:[e.related_to_event,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:Object(M.jsx)("a",{href:"/#/events/"+this.state.event.id,children:this.state.event.title})}),this.sideBlock("info",e.meeting_info),Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsxs)("h4",{children:[e.meeting_type,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:e[this.state.meeting_type]})]}),this.sideBlock("capacity",e.meeting_capacity),this.sideBlock("external_link",e.meeting_external_link),Object(M.jsxs)("h4",{children:[e.meeting_start_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(this.formatGregorianDate(this.state.start_time)).format("HH:mm jYYYY/jMM/jDD")}),Object(M.jsxs)("h4",{children:[e.meeting_end_time,":"]}),Object(M.jsx)("div",{class:"text-muted mb-3",children:L()(this.formatGregorianDate(this.state.end_time)).format("HH:mm YYYY/MM/DD")}),Object(M.jsx)("h4",{children:e.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:this.tagsShow(this.state.tags)})]}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsx)("div",{class:"mt-2",children:Object(M.jsx)("a",{href:"/#/rooms/"+this.state.room_id+"?rnd="+Object(P.v4)(),onClick:this.forceUpdate,class:"btn btn-primary bg-lime w-100",children:e.enter_room})})})]}),Object(M.jsx)(H,{attendees:this.state.attendees,attendable_type:"meeting",attendable_id:this.state.id}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:e.pages}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/flyers/create?meeting_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:e.resources}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("div",{class:"upload-btn",children:Object(M.jsx)("label",{for:"file-input",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/uploads/create?meeting_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]})]}),Object(M.jsx)("div",{class:"col-lg-8",children:Object(M.jsxs)("div",{class:"card",children:[this.cardCover(),Object(M.jsx)("div",{class:"card-body",id:"content",children:Object(M.jsx)("div",{id:"editor-one"})})]})})]})})})]})]})})}}]),n}(i.a.Component),Ae=n(120),Me=n.n(Ae),Re=Object(F.b)(F.a),Pe=x,Ee=A.fa,Le=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,info:null,meeting_type:"online",start_time:Date.now(),end_time:Date.now(),event_id:null,capacity:20,editing:!1,options:[],tags:[],is_private:!1},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this,t=fe.a.parse(this.props.location.search);this.setState({event_id:t.event_id},(function(){return console.log(e.state.event_id)})),this.props.match.params.id&&C("meetings",this.props.match.params.id,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Meeting"===e&&this.props.history.push("/meetings/"+t.id)}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();n&&"Meeting"===t&&this.setState({id:n.id,title:n.title,info:n.info,meeting_type:n.meeting_type,start_time:n.start_time,end_time:n.end_time,event_id:n.event.id,capacity:n.capacity,tags:n.tags,is_private:n.is_private,editing:!0},(function(){console.log(e.state),e.changeType(e.state.meeting_type),e.tagSelected(e.state.tags)}))}},{key:"submit",value:function(){var e=this.state;this.state.editing?T("meetings",e,this.state.token):N("meetings",e,this.state.token)}},{key:"changeType",value:function(e){var t=this;le()(".form-selectgroup-input").each((function(){le()(this).val()!==e||le()(this).checked?le()(this).prop("checked",!1):(le()(this).prop("checked",!0),t.setState({meeting_type:e}))}))}},{key:"tagSelected",value:function(e){var t=this,n=[];e.map((function(e){e.title?n.push(e.title):n.push(e)})),this.setState({tags:n},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(M.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(M.jsx)(Re,{id:"event-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(Pe+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var n=t.items;e.setState({options:n,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(M.jsx)(i.a.Fragment,{children:Object(M.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"isPrivateBadge",value:function(){if(this.state.is_private)return Object(M.jsx)("span",{class:"badge bg-red-lt",children:Ee.private})}},{key:"render",value:function(){var e=this,t=this.state.is_private;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:Ee.create_meeting_page}),Object(M.jsx)("h2",{className:"page-title",children:Ee.provide_following_info})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{class:"col-md-8",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:Ee.create_meeting})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("form",{children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Ee.meeting_title}),Object(M.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:Ee.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[Ee.meeting_info,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)("textarea",{class:"form-control",name:"example-textarea-input",rows:"6",placeholder:Ee.write_something,onInput:function(t){e.handleChange({info:t.target.value})},value:this.state.info})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Ee.meeting_type}),Object(M.jsxs)("div",{class:"form-selectgroup",children:[Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"in_person",class:"form-selectgroup-input",checked:"",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:Ee.in_person})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"hybrid",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:Ee.hybrid})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"online",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:Ee.online})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"online_external",class:"form-selectgroup-input",onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:Ee.online_external})]})]})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Ee.meeting_capacity}),Object(M.jsx)(Me.a,{value:this.state.capacity,onChange:function(t){e.handleChange({capacity:t.target.value})}})]}),Object(M.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(M.jsx)("label",{class:"form-label",children:Ee.tags}),this.tagShow()]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[Ee.meeting_start_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({start_time:t})},value:Q()(this.state.start_time)})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[Ee.meeting_end_time,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)($.a,{isGregorian:!1,onChange:function(t){e.setState({end_time:t})},value:Q()(this.state.end_time)})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"form-label",children:Ee.is_private}),Object(M.jsxs)("label",{class:"form-check form-switch",children:[Object(M.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(M.jsx)("span",{class:"form-check-label",children:Ee.default_is_private_info})]})]})]})}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:Ee.cancel}),Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:Ee.submit})]})}),Object(M.jsx)("div",{class:"progress progress-sm card-progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:"Help"}),Object(M.jsx)("p",{})]})]})})]})})})]})]})})}}]),n}(i.a.Component),Ve=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){}},{key:"setInstance",value:function(){}},{key:"render",value:function(){return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:"Overview"}),Object(M.jsx)("h2",{className:"page-title",children:"Condensed dark layout"})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsx)("div",{className:"row row-deck row-cards",children:Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:"Add Attendees"})}),Object(M.jsxs)("div",{class:"list-group list-group-flush list-group-hoverable",children:[Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"input-icon mb-3",children:[Object(M.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026"}),Object(M.jsx)("span",{class:"input-icon-addon",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(M.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})}),Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("span",{class:"badge bg-red"})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar"})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:"Pawe\u0142 Kuna"}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:"Change deprecated html tags to text decoration classes (#29604)"})]}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",class:"list-group-item-actions",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon text-muted",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})]})})})]})})]})]})})})})})]})]})})}}]),n}(i.a.Component);L.a.locale("fa",{useGregorianParser:!0});var Be=A.fa,Ue=function(e){function t(e){if(e.cover)return Object(M.jsx)("a",{href:"/#/exhibitions/"+e.id,children:Object(M.jsx)("div",{class:"card-img-top img-responsive img-responsive-16by9",style:{backgroundImage:"url("+e.cover+")"}})})}function n(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}return Object(M.jsx)(i.a.Fragment,{children:function(){var s=[];return e.exhibitions&&e.exhibitions.map((function(i){s.push(Object(M.jsx)("div",{className:e.col?"col-md-"+e.col:"col-md-8",children:Object(M.jsxs)("div",{className:"card",children:[t(i),Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:Object(M.jsx)("a",{href:"/#/exhibitions/"+i.id,children:i.title})}),Object(M.jsx)("p",{style:{textAlign:"justify"},children:i.truncated_info}),Object(M.jsx)("h4",{children:Be.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:n(i.tags)})]})]})}))})),s}()})},He=A.fa,ze=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getList=s.getList.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,exhibitions:null,allTags:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){k("exhibitions",this.state.page,{},this.state.token),k("tags/top",this.state.page,{},this.state.token)}},{key:"getList",value:function(){var e=m.getList(),t=m.getKlass();e&&"Exhibition"===t&&this.setState({exhibitions:e}),e&&"Tag"===t&&this.setState({allTags:e}),console.log(e)}},{key:"handleChange",value:function(e){}},{key:"noExhibitionCard",value:function(){}},{key:"checkExhibition",value:function(){return this.state.exhibitions?Object(M.jsxs)(i.a.Fragment,{children:[Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:He.exhibitions}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/exhibitions/create",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem"})})]})}),Object(M.jsx)(Ue,{exhibitions:this.state.exhibitions,col:8})]}):this.noExhibitionCard()}},{key:"cardMasonry",value:function(){if(this.state.exhibitions)return Object(M.jsx)("div",{class:"row row-cards","data-masonry":'{"percentPosition": true }',children:Object(M.jsx)(Ue,{exhibitions:this.state.exhibitions,col:6})})}},{key:"tagCheckbox",value:function(){var e=this,t=[];return this.state.allTags&&this.state.allTags.map((function(n){t.push(Object(M.jsxs)("label",{class:"form-check",children:[Object(M.jsx)("input",{id:"tag-check-"+n.id,class:"form-check-input",type:"checkbox",style:{marginTop:"3.5px"},value:n.id,onChange:function(t){return e.changeTags(t)}}),Object(M.jsx)("span",{class:"form-check-label",children:Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:n.title})})]}))})),t}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:He.overview}),Object(M.jsx)("h2",{className:"page-title",children:He.exhibitions})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsx)("div",{class:"col-lg-3",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:He.stations}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/exhibitions/create",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"card-header"}),Object(M.jsx)("div",{class:"card-header",children:Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"subheader mb-2",children:He.tags}),Object(M.jsx)("div",{children:this.tagCheckbox()})]})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("a",{onClick:function(){return e.filterSearch()},class:"btn btn-primary w-100",children:[Object(M.jsx)("span",{style:{verticalAlign:"-2px"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"})]})}),He.filter]})})]})}),Object(M.jsx)("div",{class:"col-lg-9",children:this.cardMasonry()})]})})})]})]})})}}]),n}(i.a.Component),Fe=A.fa,We=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,info:null,flyers:[],quillOne:null,tags:[],uploads:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance),m.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){C("exhibitions",this.props.match.params.id,this.state.token);var e=new ue.a("#editor-one",{readOnly:!0});this.setState({quillOne:e})}},{key:"handleChange",value:function(e){}},{key:"getInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Exhibition"===e&&this.setState({title:t.title,id:t.id,info:t.info,flyers:t.flyers,tags:t.tags,uploads:t.uploads}),console.log(t)}},{key:"deleteFlyer",value:function(e){_("flyers",{id:e,advertisable_id:this.state.id,advertisable_type:"Meeting"},this.state.token)}},{key:"loadContent",value:function(e){le()("#content").html(),this.state.quillOne.setContents(e)}},{key:"flyers",value:function(){var e=this,t=[];return this.state.flyers.map((function(t){t.is_default&&(le()("#content").html(),e.state.quillOne.setContents(t.quill_content))})),this.state.flyers.map((function(n){t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{onClick:function(){return e.loadContent(n.quill_content)},class:"text-body d-block",children:n.title})}),Object(M.jsxs)("div",{class:"col-auto",children:[Object(M.jsx)("a",{href:"/#/flyers/edit/"+n.id,class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})}),Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})]})}))})),t}},{key:"tagsShow",value:function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"uploads",value:function(){var e=this,t=[];return this.state.uploads&&this.state.uploads.map((function(n){"cover"!==n.upload_type&&t.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col text-truncate",children:Object(M.jsx)("a",{style:{cursor:"pointer"},href:n.link,class:"text-body d-block",children:n.title})}),Object(M.jsx)("div",{class:"col-auto p-0",children:Object(M.jsx)("a",{onClick:function(){return e.deleteFlyer(n.id)},class:"list-group-item-actions show",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(M.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(M.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})}))})),t}},{key:"render",value:function(){return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:Fe.overview}),Object(M.jsx)("h2",{className:"page-title",children:Fe.exhibition_detail})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row  row-cards",children:[Object(M.jsxs)("div",{class:"col-lg-4",children:[Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{className:"card-header",children:[Object(M.jsxs)("h3",{class:"card-title",children:[this.state.title," "]}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link p-1",href:"/#/exhibitions/edit/"+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(M.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(M.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})})})]}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h4",{children:Fe.exhibition_info}),Object(M.jsx)("div",{class:"text-muted mb-3",style:{textAlign:"justify"},children:this.state.info}),Object(M.jsx)("h4",{children:Fe.tags}),Object(M.jsx)("div",{class:"text-muted mb-3",children:this.tagsShow(this.state.tags)})]})]}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:Fe.pages}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/flyers/create?exhibition_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.flyers()})]}),Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsxs)("div",{class:"card-header",children:[Object(M.jsx)("h3",{class:"card-title",children:Fe.resources}),Object(M.jsx)("ul",{class:"nav nav-pills card-header-pills",children:Object(M.jsx)("li",{class:"nav-item ms-auto",children:Object(M.jsx)("div",{class:"upload-btn",children:Object(M.jsx)("label",{for:"file-input",children:Object(M.jsx)("a",{class:"nav-link",href:"/#/uploads/create?exhibition_id="+this.state.id,children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})})})})]}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.uploads()})]})]}),Object(M.jsx)("div",{class:"col-lg-8",children:Object(M.jsx)("div",{class:"card",children:Object(M.jsx)("div",{class:"card-body",id:"content",style:{margin:"initial"},children:Object(M.jsx)("div",{id:"editor-one"})})})})]})})})]})]})})}}]),n}(i.a.Component),qe=Object(F.b)(F.a),Ge=x,Je=A.fa,Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).submit=s.submit.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,info:null,options:[],tags:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){this.props.match.params.id&&C("exhibitions",this.props.match.params.id,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Exhibition"===e&&this.props.history.push("/exhibitions/"+t.id)}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();n&&"Exhibition"===t&&this.setState({id:n.id,title:n.title,info:n.info,tags:n.tags,editing:!0},(function(){console.log(e.state),e.tagSelected(e.state.tags)}))}},{key:"submit",value:function(){var e=this.state;this.state.editing?T("exhibitions",e,this.state.token):N("exhibitions",e,this.state.token)}},{key:"tagSelected",value:function(e){var t=this,n=[];e.map((function(e){e.title?n.push(e.title):n.push(e)})),this.setState({tags:n},(function(){return console.log(t.state.tags)}))}},{key:"tagShow",value:function(){return this.props.match.params.id&&this.state.id?this.tagInput():this.props.match.params.id?void 0:this.tagInput()}},{key:"tagInput",value:function(){var e=this;return Object(M.jsx)("div",{style:{direction:"ltr",marginBottom:"70px"},children:Object(M.jsx)(qe,{id:"exhibition-tag",allowNew:!0,multiple:!0,defaultSelected:this.state.tags,isLoading:this.state.isLoading,labelKey:"title",onSearch:function(t){e.setState({isLoading:!0}),fetch(Ge+"/tags/search?q="+t).then((function(e){return e.json()})).then((function(t){var n=t.items;e.setState({options:n,isLoading:!1},(function(){return console.log(e.state.options)}))}))},onChange:function(t){return e.tagSelected(t)},options:this.state.options,renderMenuItemChildren:function(e,t){return Object(M.jsx)(i.a.Fragment,{children:Object(M.jsx)("span",{children:e.title})})}})})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"render",value:function(){var e=this;this.state.is_private;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:Je.create_exhibition_page}),Object(M.jsx)("h2",{className:"page-title",children:Je.provide_following_info})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{class:"col-md-8",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:Je.create_exhibition})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("form",{children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:Je.exhibition_title}),Object(M.jsx)("input",{type:"text",onInput:function(t){e.handleChange({title:t.target.value})},id:"title",class:"form-control",name:"text-input",placeholder:Je.write_something,value:this.state.title})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[Je.exhibition_info,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)("textarea",{onInput:function(t){e.handleChange({info:t.target.value})},class:"form-control",id:"content",name:"example-textarea-input",rows:"6",placeholder:Je.write_something,value:this.state.info})]}),Object(M.jsxs)("div",{class:"mb-3 ",id:"tags",children:[Object(M.jsx)("label",{class:"form-label",children:Je.tags}),this.tagShow()]})]})}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{href:"/#/exhibitions",class:"btn btn-link",children:Je.cancel}),Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:Je.submit})]})}),Object(M.jsx)("div",{class:"progress progress-sm card-progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:"Help"}),Object(M.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam deleniti fugit incidunt, iste, itaque minima neque pariatur perferendis sed suscipit velit vitae voluptatem."})]})]})})]})})})]})]})})}}]),n}(i.a.Component),Ke=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){}},{key:"setInstance",value:function(){}},{key:"render",value:function(){return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsx)("div",{className:"page-wrapper",children:Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsx)("div",{className:"row row-deck row-cards",children:Object(M.jsxs)("div",{class:"card chat-app",children:[Object(M.jsxs)("div",{id:"plist",class:"people-list",children:[Object(M.jsxs)("div",{class:"input-icon mb-3",children:[Object(M.jsx)("input",{type:"text",class:"form-control",placeholder:"Search\u2026"}),Object(M.jsx)("span",{class:"input-icon-addon",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(M.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]}),Object(M.jsxs)("ul",{class:"list-unstyled chat-list mt-2 mb-0",children:[Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar1.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Vincent Porter"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle offline"})," left 7 mins ago "]})]})]}),Object(M.jsxs)("li",{class:"clearfix active",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar2.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Aiden Chavez"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar3.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Mike Thomas"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Christian Kelly"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle offline"})," left 10 hours ago "]})]})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar8.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Monica Ward"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle online"})," online "]})]})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar3.png",alt:"avatar"}),Object(M.jsxs)("div",{class:"about",children:[Object(M.jsx)("div",{class:"name",children:"Dean Henry"}),Object(M.jsxs)("div",{class:"status",children:[" ",Object(M.jsx)("i",{class:"fa fa-circle offline"})," offline since Oct 28 "]})]})]})]})]}),Object(M.jsxs)("div",{class:"chat",children:[Object(M.jsx)("div",{class:"chat-header clearfix",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsxs)("div",{class:"col-lg-6",children:[Object(M.jsx)("a",{href:"javascript:void(0);","data-toggle":"modal","data-target":"#view_info",children:Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar2.png",alt:"avatar"})}),Object(M.jsxs)("div",{class:"chat-about",children:[Object(M.jsx)("h6",{class:"m-b-0",children:"Aiden Chavez"}),Object(M.jsx)("small",{children:"Last seen: 2 hours ago"})]})]}),Object(M.jsx)("div",{class:"col-lg-6 hidden-sm text-right"})]})}),Object(M.jsx)("div",{class:"chat-history",children:Object(M.jsxs)("ul",{class:"m-b-0",children:[Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsxs)("div",{class:"message-data text-right",children:[Object(M.jsx)("span",{class:"message-data-time",children:"10:10 AM, Today"}),Object(M.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"avatar"})]}),Object(M.jsx)("div",{class:"message other-message float-right",children:" Hi Aiden, how are you? How is the project coming along? "})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("div",{class:"message-data",children:Object(M.jsx)("span",{class:"message-data-time",children:"10:12 AM, Today"})}),Object(M.jsx)("div",{class:"message my-message",children:"Are we meeting today?"})]}),Object(M.jsxs)("li",{class:"clearfix",children:[Object(M.jsx)("div",{class:"message-data",children:Object(M.jsx)("span",{class:"message-data-time",children:"10:15 AM, Today"})}),Object(M.jsx)("div",{class:"message my-message",children:"Project has been already finished and I have results to show you."})]})]})}),Object(M.jsx)("div",{class:"chat-message clearfix",children:Object(M.jsxs)("div",{class:"input-group mb-2",children:[Object(M.jsx)("input",{type:"text",class:"form-control",placeholder:"Type here\u2026"}),Object(M.jsx)("button",{class:"btn",type:"button",children:"Send"})]})})]})]})})})})})]})})}}]),n}(i.a.Component),Ze=n(283),Qe=A.fa,Xe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onCropChange=function(e){s.setState({crop:e})},s.onCropComplete=function(e,t){console.log(e,t),s.setState({crop_settings:t})},s.onZoomChange=function(e){s.setState({zoom:e})},s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.showCropper=s.showCropper.bind(Object(j.a)(s)),s.state={crop:{x:0,y:0},zoom:1,aspect:3.2,uploadable_type:null,uploadable_id:null,id:null,imageSrc:null,crop_settings:null,uploadable_link:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_instance",this.getInstance),m.on("set_instance",this.setInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("set_instance",this.setInstance)}},{key:"componentDidMount",value:function(){C("uploads",this.props.match.params.id,this.state.token)}},{key:"getInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"UploadShow"===e&&this.setState({id:t.id,crop_settings:t.crop,uploadable_type:t.uploadable_type,uploadable_id:t.uploadable_id,imageSrc:t.link,uploadable_link:t.uploadable_link},(function(){})),console.log(t.cropped)}},{key:"submit",value:function(){T("uploads",{id:this.state.id,crop_settings:this.state.crop_settings},this.state.token)}},{key:"setInstance",value:function(){var e=m.getKlass();m.getIntance();"Upload"===e&&this.props.history.push("/"+this.state.uploadable_link)}},{key:"showCropper",value:function(){if(this.state.imageSrc)return console.log(this.state.imageSrc),Object(M.jsx)(Ze.a,{image:this.state.imageSrc,crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.aspect,onCropChange:this.onCropChange,onCropComplete:this.onCropComplete,onZoomChange:this.onZoomChange})}},{key:"render",value:function(){var e=this;return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)("div",{className:"crop-container",children:this.showCropper()}),Object(M.jsx)("div",{className:"controls",children:Object(M.jsx)(Me.a,{value:this.state.zoom,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(t,n){return e.onZoomChange(n)},classes:{container:"slider"}})}),Object(M.jsx)("div",{className:"crop-save",children:Object(M.jsx)("a",{onClick:function(){return e.submit()},class:"btn btn-primary",children:Qe.save})})]})}}]),n}(i.a.Component),$e=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,upload_type:null,file:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=fe.a.parse(this.props.location.search),t="",n=0;Object.keys(e).map((function(s){var i=s.split("_");i[0]&&(t=i[0].charAt(0).toUpperCase()+i[0].slice(1),n=e[s])})),this.setState({uploadable_type:t,uploadable_id:n}),this.props.match.params.id&&C("uploads",this.props.match.params.id,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Upload"===e&&this.props.history.push("/"+t.advertisable_link)}},{key:"getInstance",value:function(){var e=m.getKlass(),t=m.getIntance();t&&"Upload"===e&&this.setState({id:t.id,title:t.title,uploadable_type:t.uploadable_type,uploadable_id:t.uploadable_id,editing:!0})}},{key:"changeDefault",value:function(e){this.state.is_private?this.setState({is_private:!1}):this.setState({is_private:!0})}},{key:"changeType",value:function(e){this.setState({upload_type:e})}},{key:"fileAttacher",value:function(e){this.setState({file:e})}},{key:"submit",value:function(){var e=this,t=this;t.setState({progressShow:!0},(function(){return console.log(e.state.progressShow)}));var n={onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);console.log(n),t.setState({progress:n})},headers:{"Content-Type":"application/json",Authorization:"bearer "+t.state.token}},s=new FormData;s.append("upload[attached_document]",this.state.file),s.append("upload[title]",this.state.title),s.append("upload[uploadable_type]",this.state.uploadable_type),s.append("upload[uploadable_id]",this.state.uploadable_id),s.append("upload[is_private]",this.state.is_private),s.append("upload[upload_type]",this.state.upload_type),f.a.post(x+"/uploads",s,n).then((function(n){t.setState({progressShow:!1,uploadedRecently:!0});var s=n.data.data;"cover"===s.upload_type&&e.props.history.push("/uploads/cropper/"+s.uuid)})).catch((function(e){return t.setState({progressShow:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.is_private,n=A.fa;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:n.create_upload}),Object(M.jsx)("h2",{className:"page-title",children:n.provide_following_info})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{class:"col-md-8",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:n.create_upload})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("form",{children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:n.upload_title}),Object(M.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:n.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:n.meeting_type}),Object(M.jsxs)("div",{class:"form-selectgroup",children:[Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"cover",class:"form-selectgroup-input",checked:"cover"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:n.cover})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"file",class:"form-selectgroup-input",checked:"file"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:n.file})]}),Object(M.jsxs)("label",{class:"form-selectgroup-item",children:[Object(M.jsx)("input",{type:"checkbox",name:"name",value:"video",class:"form-selectgroup-input",checked:"video"===this.state.upload_type,onClick:function(t){return e.changeType(t.target.value)}}),Object(M.jsx)("span",{class:"form-selectgroup-label",children:n.video})]})]})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"form-label",children:n.choose_file}),Object(M.jsx)("input",{type:"file",class:"form-control",onInput:function(t){e.fileAttacher(t.target.files[0])}})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"form-label",children:n.is_private}),Object(M.jsxs)("label",{class:"form-check form-switch",children:[Object(M.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(M.jsx)("span",{class:"form-check-label",children:n.default_is_private_upload})]})]})]})}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:n.cancel}),Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:n.submit})]})}),Object(M.jsx)("div",{class:"progress progress-sm card-progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:"Help"}),Object(M.jsx)("p",{})]})]})})]})})})]})]})})}}]),n}(i.a.Component),et=n(282),tt=x,nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getInstance=s.getInstance.bind(Object(j.a)(s)),s.setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,id:null,content:null,advertisable_type:null,advertisable_id:null,quill:null,quill_content:{},editing:!1,is_default:!1},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("set_instance",this.setInstance),m.removeListener("got_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this,t=this,n=fe.a.parse(this.props.location.search),s="",i=0;Object.keys(n).map((function(e){var t=e.split("_");t[0]&&(s=t[0].charAt(0).toUpperCase()+t[0].slice(1),i=n[e])})),this.setState({advertisable_type:s,advertisable_id:i}),this.props.match.params.id&&C("flyers",this.props.match.params.id,this.state.token);ue.a.register("modules/imageUploader",et.a);var a=new ue.a("#editor-one",{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"ltr"},{direction:"rtl"}],["image"],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}]],imageUploader:{upload:function(t){return new Promise((function(n,s){var i=tt+"/uploads",a=new FormData;a.append("upload[attached_document]",t);var r={headers:{"content-type":"multipart/form-data",Authorization:"bearer "+e.state.token}};f.a.post(i,a,r).then((function(e){n(e.data.data.link)})).catch((function(e){console.log(e)}))}))}}}});a.on("text-change",(function(e,n,s){"api"==s||"user"==s&&t.setState({quill_content:a.getContents(),content:a.getText()})})),this.setState({quill:a})}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"setInstance",value:function(){var e=m.getKlass(),t=m.getIntance();"Flyer"===e&&this.props.history.push("/"+t.advertisable_link)}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();n&&"Flyer"===t&&this.setState({id:n.id,title:n.title,content:n.content,advertisable_type:n.advertisable_type,advertisable_id:n.advertisable_id,quill_content:n.quill_content,is_default:n.is_default,editing:!0},(function(){console.log(e.state),e.state.quill.setContents(e.state.quill_content)}))}},{key:"submit",value:function(){var e={id:this.state.id,title:this.state.title,content:this.state.content,advertisable_type:this.state.advertisable_type,advertisable_id:this.state.advertisable_id,quill_content:this.state.quill_content,is_default:this.state.is_default};this.state.editing?T("flyers",e,this.state.token):N("flyers",e,this.state.token)}},{key:"changeDefault",value:function(e){console.log(e);this.state.is_default?this.setState({is_default:!1}):this.setState({is_default:!0})}},{key:"render",value:function(){var e=this,t=this.state.is_default,n=A.fa;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:n.create_page}),Object(M.jsx)("h2",{className:"page-title",children:n.provide_following_info})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{class:"col-md-8",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:n.create_page})}),Object(M.jsx)("div",{class:"card-body",children:Object(M.jsxs)("form",{children:[Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("label",{class:"form-label",children:n.page_title}),Object(M.jsx)("input",{type:"text",class:"form-control",name:"text-input",placeholder:n.write_something,onInput:function(t){e.handleChange({title:t.target.value})},value:this.state.title})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsxs)("label",{class:"form-label",children:[n.page_content,Object(M.jsx)("span",{class:"form-label-description"})]}),Object(M.jsx)("div",{id:"editor-one"})]}),Object(M.jsxs)("div",{class:"mb-3",children:[Object(M.jsx)("div",{class:"form-label",children:n.default_page}),Object(M.jsxs)("label",{class:"form-check form-switch",children:[Object(M.jsx)("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return e.changeDefault(t.target.value)},checked:!!t}),Object(M.jsx)("span",{class:"form-check-label",children:n.default_page_info})]})]})]})}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsx)("a",{href:"/#/meetings",class:"btn btn-link",children:n.cancel}),Object(M.jsx)("button",{onClick:function(){return e.submit()},class:"btn btn-primary ms-auto",children:n.submit})]})}),Object(M.jsx)("div",{class:"progress progress-sm card-progress",children:Object(M.jsx)("div",{class:"progress-bar",style:{width:"100%"},role:"progressbar","aria-valuenow":"38","aria-valuemin":"0","aria-valuemax":"100",children:Object(M.jsx)("span",{class:"visually-hidden",children:"38% Complete"})})})]})}),Object(M.jsx)("div",{class:"col-4",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsx)("div",{class:"card-status-top bg-lime"}),Object(M.jsxs)("div",{class:"card-body",children:[Object(M.jsx)("h3",{class:"card-title",children:"Help"}),Object(M.jsx)("p",{})]})]})})]})})})]})]})})}}]),n}(i.a.Component),st=n(21),it=n(88),at=window.RTCRtpTransceiver;ct.sessions={},ct.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||ct.extension.isInstalled()}return!0};var rt={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var n=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var s=new Error("NavigatorUserMediaError");s.name="You cancelled the request for permission, giving up...",n(s)}else n(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function ct(e){if((e=e||{}).success="function"==typeof e.success?e.success:ct.noop,e.error="function"==typeof e.error?e.error:ct.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:ct.noop,!ct.initDone)return e.error("Library not initialized"),{};if(!ct.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(ct.log("Library initialized: "+ct.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,n=null,s={},i=null,a=null,r=0,c=e.server;ct.isArray(c)?(ct.log("Multiple servers provided ("+c.length+"), will use the first that works"),c=null,a=e.server,ct.debug(a)):0===c.indexOf("ws")?(t=!0,ct.log("Using WebSockets to contact Janus: "+c)):(t=!1,ct.log("Using REST API to contact Janus: "+c));var o=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],l=e.iceTransportPolicy,d=e.bundlePolicy,u=!0===e.ipv6,h=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(h=!0===e.withCredentials);var j=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(j=e.max_poll_events),j<1&&(j=1);var b=null;void 0!==e.token&&null!==e.token&&(b=e.token);var v=null;void 0!==e.apisecret&&null!==e.apisecret&&(v=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var p=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(p=e.keepAlivePeriod),isNaN(p)&&(p=25e3);var m=6e4;function g(e){var t={high:9e5,medium:3e5,low:1e5};return void 0!==e&&null!==e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(m=e.longPollTimeout),isNaN(m)&&(m=6e4);var f=!1,x=null,O={},w=this,y=0,k={};function S(){if(null!=x)if(ct.debug("Long poll..."),f){var t=c+"/"+x+"?rid="+(new Date).getTime();j&&(t=t+"&maxev="+j),b&&(t=t+"&token="+encodeURIComponent(b)),v&&(t=t+"&apisecret="+encodeURIComponent(v)),ct.httpAPICall(t,{verb:"GET",withCredentials:h,success:C,timeout:m,error:function(t,n){if(ct.error(t+":",n),++y>3)return f=!1,void e.error("Lost connection to the server (is it down?)");S()}})}else ct.warn("Is the server down? (connected=false)")}function C(e,s){if(y=0,t||void 0===x||null===x||!0===s||S(),t||!ct.isArray(e))if("keepalive"!==e.janus)if("server_info"!==e.janus)if("ack"!==e.janus)if("success"!==e.janus)if("trickle"===e.janus){if(!(o=e.sender))return void ct.warn("Missing sender...");if(!(d=O[o]))return void ct.debug("This handle is not attached to this session");var i=e.candidate;ct.debug("Got a trickled candidate on session "+x),ct.debug(i);var a=d.webrtcStuff;a.pc&&a.remoteSdp?(ct.debug("Adding remote candidate:",i),i&&!0!==i.completed?a.pc.addIceCandidate(i):a.pc.addIceCandidate(ct.endOfCandidates)):(ct.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),a.candidates||(a.candidates=[]),a.candidates.push(i),ct.debug(a.candidates))}else{if("webrtcup"===e.janus)return ct.debug("Got a webrtcup event on session "+x),ct.debug(e),(o=e.sender)?(d=O[o])?void d.webrtcState(!0):void ct.debug("This handle is not attached to this session"):void ct.warn("Missing sender...");if("hangup"===e.janus){if(ct.debug("Got a hangup event on session "+x),ct.debug(e),!(o=e.sender))return void ct.warn("Missing sender...");if(!(d=O[o]))return void ct.debug("This handle is not attached to this session");d.webrtcState(!1,e.reason),d.hangup()}else if("detached"===e.janus){if(ct.debug("Got a detached event on session "+x),ct.debug(e),!(o=e.sender))return void ct.warn("Missing sender...");if(!(d=O[o]))return;d.detached=!0,d.ondetached(),d.detach()}else if("media"===e.janus){if(ct.debug("Got a media event on session "+x),ct.debug(e),!(o=e.sender))return void ct.warn("Missing sender...");if(!(d=O[o]))return void ct.debug("This handle is not attached to this session");d.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){if(ct.debug("Got a slowlink event on session "+x),ct.debug(e),!(o=e.sender))return void ct.warn("Missing sender...");if(!(d=O[o]))return void ct.debug("This handle is not attached to this session");d.slowLink(e.uplink,e.lost)}else{if("error"===e.janus){var r,c;if(ct.error("Ooops: "+e.error.code+" "+e.error.reason),ct.debug(e),r=e.transaction)(c=k[r])&&c(e),delete k[r];return}if("event"===e.janus){var o;if(ct.debug("Got a plugin event on session "+x),ct.debug(e),!(o=e.sender))return void ct.warn("Missing sender...");var l=e.plugindata;if(!l)return void ct.warn("Missing plugindata...");ct.debug("  -- Event is coming from "+o+" ("+l.plugin+")");var d,u=l.data;if(ct.debug(u),!(d=O[o]))return void ct.warn("This handle is not attached to this session");var h=e.jsep;h&&(ct.debug("Handling SDP as well..."),ct.debug(h));var j=d.onmessage;j?(ct.debug("Notifying application..."),j(u,h)):ct.debug("No provided notification callback")}else{if("timeout"===e.janus)return ct.error("Timeout on session "+x),ct.debug(e),void(t&&n.close(3504,"Gateway timeout"));ct.warn("Unknown message/event  '"+e.janus+"' on session "+x),ct.debug(e)}}}else ct.debug("Got a success on session "+x),ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else ct.debug("Got an ack on session "+x),ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else ct.debug("Got info on the Janus instance"),ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else ct.vdebug("Got a keepalive on session "+x);else for(var b=0;b<e.length;b++)C(e[b],!0)}function _(){if(c&&t&&f){i=setTimeout(_,p);var e={janus:"keepalive",session_id:x,transaction:ct.randomString(12)};b&&(e.token=b),v&&(e.apisecret=v),n.send(JSON.stringify(e))}}function N(o){var l=ct.randomString(12),d={janus:"create",transaction:l};if(o.reconnect&&(f=!1,d.janus="claim",d.session_id=x,n&&(n.onopen=null,n.onerror=null,n.onclose=null,i&&(clearTimeout(i),i=null))),b&&(d.token=b),v&&(d.apisecret=v),!c&&ct.isArray(a)&&(0===(c=a[r]).indexOf("ws")?(t=!0,ct.log("Server #"+(r+1)+": trying WebSockets to contact Janus ("+c+")")):(t=!1,ct.log("Server #"+(r+1)+": trying REST API to contact Janus ("+c+")"))),t)for(var u in n=ct.newWebSocket(c,"janus-protocol"),s={error:function(){if(ct.error("Error connecting to the Janus WebSockets server... "+c),ct.isArray(a)&&!o.reconnect)return++r===a.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){N(o)}),200));o.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){k[l]=function(e){if(ct.debug(e),"success"!==e.janus)return ct.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);i=setTimeout(_,p),f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?ct.log("Claimed session: "+x):ct.log("Created session: "+x),ct.sessions[x]=w,o.success()},n.send(JSON.stringify(d))},message:function(e){C(JSON.parse(e.data))},close:function(){c&&f&&(f=!1,e.error("Lost connection to the server (is it down?)"))}})n.addEventListener(u,s[u]);else ct.httpAPICall(c,{verb:"POST",withCredentials:h,body:d,success:function(e){if(ct.debug(e),"success"!==e.janus)return ct.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?ct.log("Claimed session: "+x):ct.log("Created session: "+x),ct.sessions[x]=w,S(),o.success()},error:function(e,t){if(ct.error(e+":",t),ct.isArray(a)&&!o.reconnect)return++r===a.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){N(o)}),200));""===t?o.error(e+": Is the server down?"):o.error(e+": "+t)}})}function T(e,s){if((s=s||{}).success="function"==typeof s.success?s.success:ct.noop,s.error="function"==typeof s.error?s.error:ct.noop,!f)return ct.warn("Is the server down? (connected=false)"),void s.error("Is the server down? (connected=false)");var i=O[e];if(!i||!i.webrtcStuff)return ct.warn("Invalid handle"),void s.error("Invalid handle");var a=s.message,r=s.jsep,o=ct.randomString(12),l={janus:"message",body:a,transaction:o};if(i.token&&(l.token=i.token),v&&(l.apisecret=v),r&&(l.jsep={type:r.type,sdp:r.sdp},r.e2ee&&(l.jsep.e2ee=!0),"hml"!==r.rid_order&&"lmh"!==r.rid_order||(l.jsep.rid_order=r.rid_order)),ct.debug("Sending message to plugin (handle="+e+"):"),ct.debug(l),t)return l.session_id=x,l.handle_id=e,k[o]=function(e){if(ct.debug("Message sent!"),ct.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return ct.warn("Request succeeded, but missing plugindata..."),void s.success();ct.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return ct.debug(n),void s.success(n)}"ack"===e.janus?s.success():e.error?(ct.error("Ooops: "+e.error.code+" "+e.error.reason),s.error(e.error.code+" "+e.error.reason)):(ct.error("Unknown error"),s.error("Unknown error"))},void n.send(JSON.stringify(l));ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:l,success:function(e){if(ct.debug("Message sent!"),ct.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return ct.warn("Request succeeded, but missing plugindata..."),void s.success();ct.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return ct.debug(n),void s.success(n)}"ack"===e.janus?s.success():e.error?(ct.error("Ooops: "+e.error.code+" "+e.error.reason),s.error(e.error.code+" "+e.error.reason)):(ct.error("Unknown error"),s.error("Unknown error"))},error:function(e,t){ct.error(e+":",t),s.error(e+": "+t)}})}function I(e,s){if(f){var i=O[e];if(i&&i.webrtcStuff){var a={janus:"trickle",candidate:s,transaction:ct.randomString(12)};if(i.token&&(a.token=i.token),v&&(a.apisecret=v),ct.vdebug("Sending trickle candidate (handle="+e+"):"),ct.vdebug(a),t)return a.session_id=x,a.handle_id=e,void n.send(JSON.stringify(a));ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:a,success:function(e){ct.vdebug("Candidate sent!"),ct.vdebug(e),"ack"===e.janus||ct.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){ct.error(e+":",t)}})}else ct.warn("Invalid handle")}else ct.warn("Is the server down? (connected=false)")}function D(e,t,n,s,i){var a=O[e];if(a&&a.webrtcStuff){var r=a.webrtcStuff;if(r.pc){var c=function(e){ct.log("Received state change on data channel:",e);var t=e.target.label,n=e.target.protocol,s=r.dataChannel[t]?r.dataChannel[t].readyState:"null";if(ct.log("State change on <"+t+"> data channel: "+s),"open"===s){if(r.dataChannel[t].pending&&r.dataChannel[t].pending.length>0){ct.log("Sending pending messages on <"+t+">:",r.dataChannel[t].pending.length);var i,c=Object(st.a)(r.dataChannel[t].pending);try{for(c.s();!(i=c.n()).done;){var o=i.value;ct.log("Sending data on data channel <"+t+">"),ct.debug(o),r.dataChannel[t].send(o)}}catch(l){c.e(l)}finally{c.f()}r.dataChannel[t].pending=[]}a.ondataopen(t,n)}};if(s)r.dataChannel[t]=s;else{var o={ordered:!0};n&&(o.protocol=n),r.dataChannel[t]=r.pc.createDataChannel(t,o)}r.dataChannel[t].onmessage=function(e){ct.log("Received message on data channel:",e);var t=e.target.label;a.ondata(e.data,t)},r.dataChannel[t].onopen=c,r.dataChannel[t].onclose=c,r.dataChannel[t].onerror=function(e){ct.error("Got error on data channel:",e)},r.dataChannel[t].pending=[],i&&r.dataChannel[t].pending.push(i)}else ct.warn("Invalid PeerConnection")}else ct.warn("Invalid handle")}function A(e,t){(t=t||{}).success="function"==typeof t.success?t.success:ct.noop,t.error="function"==typeof t.error?t.error:ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return ct.warn("Invalid handle"),void t.error("Invalid handle");var s=n.webrtcStuff,i=t.text||t.data;if(!i)return ct.warn("Invalid data"),void t.error("Invalid data");var a=t.label?t.label:ct.dataChanDefaultLabel;return s.dataChannel[a]?"open"!==s.dataChannel[a].readyState?(s.dataChannel[a].pending.push(i),void t.success()):(ct.log("Sending data on data channel <"+a+">"),ct.debug(i),s.dataChannel[a].send(i),void t.success()):(D(e,a,t.protocol,!1,i,t.protocol),void t.success())}function M(e,t){(t=t||{}).success="function"==typeof t.success?t.success:ct.noop,t.error="function"==typeof t.error?t.error:ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return ct.warn("Invalid handle"),void t.error("Invalid handle");var s=n.webrtcStuff;if(!s.dtmfSender){if(s.pc){var i=s.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!i)return ct.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");s.dtmfSender=i.dtmf,s.dtmfSender&&(ct.log("Created DTMF Sender"),s.dtmfSender.ontonechange=function(e){ct.debug("Sent DTMF tone: "+e.tone)})}if(!s.dtmfSender)return ct.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var a=t.dtmf;if(!a)return ct.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var r=a.tones;if(!r)return ct.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var c="number"===typeof a.duration?a.duration:500,o="number"===typeof a.gap?a.gap:50;ct.debug("Sending DTMF string "+r+" (duration "+c+"ms, gap "+o+"ms)"),s.dtmfSender.insertDTMF(r,c,o),t.success()}function R(e,s){(s=s||{}).success="function"==typeof s.success?s.success:ct.noop,s.error="function"==typeof s.error?s.error:ct.noop;var i=!0===s.noRequest;ct.log("Destroying handle "+e+" (only-locally="+i+")"),F(e);var a=O[e];if(!a||a.detached)return delete O[e],void s.success();if(i)return delete O[e],void s.success();if(!f)return ct.warn("Is the server down? (connected=false)"),void s.error("Is the server down? (connected=false)");var r={janus:"detach",transaction:ct.randomString(12)};if(a.token&&(r.token=a.token),v&&(r.apisecret=v),t)return r.session_id=x,r.handle_id=e,n.send(JSON.stringify(r)),delete O[e],void s.success();ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:r,success:function(t){ct.log("Destroyed handle:"),ct.debug(t),"success"!==t.janus&&ct.error("Ooops: "+t.error.code+" "+t.error.reason),delete O[e],s.success()},error:function(t,n){ct.error(t+":",n),delete O[e],s.success()}})}function P(e,t,n,s,i){var a=O[e];if(!a||!a.webrtcStuff)return ct.warn("Invalid handle"),s.stream||ct.stopAllTracks(i),void s.error("Invalid handle");var r=a.webrtcStuff;ct.debug("streamsDone:",i),i&&(ct.debug("  -- Audio tracks:",i.getAudioTracks()),ct.debug("  -- Video tracks:",i.getVideoTracks()));var c=!1;if(r.myStream&&n.update&&!r.streamExternal){if((!n.update&&W(n)||n.update&&(n.addAudio||n.replaceAudio))&&i.getAudioTracks()&&i.getAudioTracks().length)if(r.myStream.addTrack(i.getAudioTracks()[0]),ct.unifiedPlan){ct.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]);var h=null;if((v=r.pc.getTransceivers())&&v.length>0){var j,b=Object(st.a)(v);try{for(b.s();!(j=b.n()).done;){if((x=j.value).sender&&x.sender.track&&"audio"===x.sender.track.kind||x.receiver&&x.receiver.track&&"audio"===x.receiver.track.kind){h=x;break}}}catch(C){b.e(C)}finally{b.f()}}h&&h.sender?h.sender.replaceTrack(i.getAudioTracks()[0]):r.pc.addTrack(i.getAudioTracks()[0],i)}else ct.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]),r.pc.addTrack(i.getAudioTracks()[0],i);if((!n.update&&G(n)||n.update&&(n.addVideo||n.replaceVideo))&&i.getVideoTracks()&&i.getVideoTracks().length)if(r.myStream.addTrack(i.getVideoTracks()[0]),ct.unifiedPlan){ct.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]);var v,p=null;if((v=r.pc.getTransceivers())&&v.length>0){var m,f=Object(st.a)(v);try{for(f.s();!(m=f.n()).done;){var x;if((x=m.value).sender&&x.sender.track&&"video"===x.sender.track.kind||x.receiver&&x.receiver.track&&"video"===x.receiver.track.kind){p=x;break}}}catch(C){f.e(C)}finally{f.f()}}p&&p.sender?p.sender.replaceTrack(i.getVideoTracks()[0]):r.pc.addTrack(i.getVideoTracks()[0],i)}else ct.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]),r.pc.addTrack(i.getVideoTracks()[0],i)}else r.myStream=i,c=!0;if(!r.pc){var w={iceServers:o,iceTransportPolicy:l,bundlePolicy:d};"chrome"===ct.webRTCAdapter.browserDetails.browser&&(w.sdpSemantics=ct.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var y={optional:[{DtlsSrtpKeyAgreement:!0}]};if(u&&y.optional.push({googIPv6:!0}),s.rtcConstraints&&"object"===typeof s.rtcConstraints)for(var k in ct.debug("Adding custom PeerConnection constraints:",s.rtcConstraints),s.rtcConstraints)y.optional.push(s.rtcConstraints[k]);"edge"===ct.webRTCAdapter.browserDetails.browser&&(w.bundlePolicy="max-bundle"),RTCRtpSender&&(RTCRtpSender.prototype.createEncodedStreams||RTCRtpSender.prototype.createEncodedAudioStreams&&RTCRtpSender.prototype.createEncodedVideoStreams)&&(s.senderTransforms||s.receiverTransforms)&&(r.senderTransforms=s.senderTransforms,r.receiverTransforms=s.receiverTransforms,w.forceEncodedAudioInsertableStreams=!0,w.forceEncodedVideoInsertableStreams=!0,w.encodedInsertableStreams=!0),ct.log("Creating PeerConnection"),ct.debug(y),r.pc=new RTCPeerConnection(w,y),ct.debug(r.pc),r.pc.getStats&&(r.volume={},r.bitrate.value="0 kbits/sec"),ct.log("Preparing local SDP and gathering candidates (trickle="+r.trickle+")"),r.pc.oniceconnectionstatechange=function(e){r.pc&&a.iceState(r.pc.iceConnectionState)},r.pc.onicecandidate=function(t){if(!t.candidate||"edge"===ct.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)ct.log("End of candidates."),r.iceDone=!0,!0===r.trickle?I(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:ct.noop,t.error="function"==typeof t.error?t.error:ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return void ct.warn("Invalid handle, not sending anything");var s=n.webrtcStuff;if(ct.log("Sending offer/answer SDP..."),!s.mySdp)return void ct.warn("Local SDP instance is invalid, not sending anything...");s.mySdp={type:s.pc.localDescription.type,sdp:s.pc.localDescription.sdp},!1===s.trickle&&(s.mySdp.trickle=!1);ct.debug(t),s.sdpSent=!0,t.success(s.mySdp)}(e,s);else{var n={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===r.trickle&&I(e,n)}},r.pc.ontrack=function(e){if(ct.log("Handling Remote Track"),ct.debug(e),e.streams&&(r.remoteStream=e.streams[0],a.onremotestream(r.remoteStream),!e.track.onended)){if(r.receiverTransforms){var t=null;RTCRtpSender.prototype.createEncodedStreams?t=e.receiver.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===e.track.kind&&r.receiverTransforms.audio?t=e.receiver.createEncodedAudioStreams():"video"===e.track.kind&&r.receiverTransforms.video&&(t=e.receiver.createEncodedVideoStreams())),t&&(console.log(t),t.readableStream&&t.writableStream?t.readableStream.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writableStream):t.readable&&t.writable&&t.readable.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writable))}var n=null;ct.log("Adding onended callback to track:",e.track),e.track.onended=function(e){ct.log("Remote track removed:",e),r.remoteStream&&(clearTimeout(n),r.remoteStream.removeTrack(e.target),a.onremotestream(r.remoteStream))},e.track.onmute=function(e){ct.log("Remote track muted:",e),r.remoteStream&&null==n&&(n=setTimeout((function(){ct.log("Removing remote track"),r.remoteStream&&(r.remoteStream.removeTrack(e.target),a.onremotestream(r.remoteStream)),n=null}),2520))},e.track.onunmute=function(e){if(ct.log("Remote track flowing again:",e),null!=n)clearTimeout(n),n=null;else try{r.remoteStream.addTrack(e.target),a.onremotestream(r.remoteStream)}catch(t){ct.error(t)}}}}}if(c&&i){ct.log("Adding local stream");var S=!0===s.simulcast2;i.getTracks().forEach((function(e){ct.log("Adding local track:",e);var t=null;if(S&&"audio"!==e.kind){ct.log("Enabling rid-based simulcasting:",e);var n=g(s.simulcastMaxBitrates),a=r.pc.addTransceiver(e,{direction:"sendrecv",streams:[i],sendEncodings:s.sendEncodings||[{rid:"h",active:!0,maxBitrate:n.high},{rid:"m",active:!0,maxBitrate:n.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:n.low,scaleResolutionDownBy:4}]});a&&(t=a.sender)}else t=r.pc.addTrack(e,i);if(t&&r.senderTransforms){var c=null;RTCRtpSender.prototype.createEncodedStreams?c=t.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===t.track.kind&&r.senderTransforms.audio?c=t.createEncodedAudioStreams():"video"===t.track.kind&&r.senderTransforms.video&&(c=t.createEncodedVideoStreams())),c&&(console.log(c),c.readableStream&&c.writableStream?c.readableStream.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writableStream):c.readable&&c.writable&&c.readable.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writable))}}))}(function(e){if(ct.debug("isDataEnabled:",e),"edge"===ct.webRTCAdapter.browserDetails.browser)return ct.warn("Edge doesn't support data channels yet"),!1;return void 0!==e&&null!==e&&!0===e.data})(n)&&!r.dataChannel[ct.dataChanDefaultLabel]&&(ct.log("Creating default data channel"),D(e,ct.dataChanDefaultLabel,null,!1),r.pc.ondatachannel=function(t){ct.log("Data channel created by Janus:",t),D(e,t.channel.label,t.channel.protocol,t.channel)}),r.myStream&&a.onlocalstream(r.myStream),t?r.pc.setRemoteDescription(t).then((function(){if(ct.log("Remote description accepted!"),r.remoteSdp=t.sdp,r.candidates&&r.candidates.length>0){for(var i=0;i<r.candidates.length;i++){var a=r.candidates[i];ct.debug("Adding remote candidate:",a),a&&!0!==a.completed?r.pc.addIceCandidate(a):r.pc.addIceCandidate(ct.endOfCandidates)}r.candidates=[]}!function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:ct.noop,n.error="function"==typeof n.error?n.error:ct.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:ct.noop;var s=O[e];if(!s||!s.webrtcStuff)return ct.warn("Invalid handle"),void n.error("Invalid handle");var i=s.webrtcStuff,a=!0===n.simulcast;a?ct.log("Creating answer (iceDone="+i.iceDone+", simulcast="+a+")"):ct.log("Creating answer (iceDone="+i.iceDone+")");var r=null;if(ct.unifiedPlan){r={};var c=null,o=null,l=i.pc.getTransceivers();if(l&&l.length>0){var d,u=Object(st.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?c||(c=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(o||(o=h))}}catch(C){u.e(C)}finally{u.f()}}var j=W(t),b=q(t);if(j||b){if(j&&b){if(c)try{c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",ct.log("Setting audio transceiver to sendrecv:",c)}catch(y){ct.error(y)}}else if(j&&!b)try{c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",ct.log("Setting audio transceiver to sendonly:",c))}catch(y){ct.error(y)}else if(!j&&b)if(c)try{c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",ct.log("Setting audio transceiver to recvonly:",c)}catch(y){ct.error(y)}else c=i.pc.addTransceiver("audio",{direction:"recvonly"}),ct.log("Adding recvonly audio transceiver:",c)}else if(t.removeAudio&&c)try{c.setDirection?c.setDirection("inactive"):c.direction="inactive",ct.log("Setting audio transceiver to inactive:",c)}catch(y){ct.error(y)}var v=G(t),p=J(t);if(v||p){if(v&&p){if(o)try{o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",ct.log("Setting video transceiver to sendrecv:",o)}catch(y){ct.error(y)}}else if(v&&!p){if(o)try{o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",ct.log("Setting video transceiver to sendonly:",o)}catch(y){ct.error(y)}}else if(!v&&p)if(o)try{o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",ct.log("Setting video transceiver to recvonly:",o)}catch(y){ct.error(y)}else o=i.pc.addTransceiver("video",{direction:"recvonly"}),ct.log("Adding recvonly video transceiver:",o)}else if(t.removeVideo&&o)try{o.setDirection?o.setDirection("inactive"):o.direction="inactive",ct.log("Setting video transceiver to inactive:",o)}catch(y){ct.error(y)}}else r="firefox"===ct.webRTCAdapter.browserDetails.browser||"edge"===ct.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:q(t),offerToReceiveVideo:J(t)}:{mandatory:{OfferToReceiveAudio:q(t),OfferToReceiveVideo:J(t)}};ct.debug(r);var m=G(t);if(m&&a&&"firefox"===ct.webRTCAdapter.browserDetails.browser){ct.log("Enabling Simulcasting for Firefox (RID)");var f=i.pc.getSenders()[1];ct.log(f);var x=f.getParameters();ct.log(x);var w=g(n.simulcastMaxBitrates);f.setParameters({encodings:n.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}]})}i.pc.createAnswer(r).then((function(e){ct.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,ct.log("Setting local description"),m&&a&&("chrome"===ct.webRTCAdapter.browserDetails.browser?ct.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==ct.webRTCAdapter.browserDetails.browser&&ct.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=r,i.iceDone||i.trickle?((i.senderTransforms||i.receiverTransforms)&&(e.e2ee=!0),n.success(e)):ct.log("Waiting for all candidates...")}),n.error)}(e,n,s)}),s.error):function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:ct.noop,n.error="function"==typeof n.error?n.error:ct.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:ct.noop;var s=O[e];if(!s||!s.webrtcStuff)return ct.warn("Invalid handle"),void n.error("Invalid handle");var i=s.webrtcStuff,a=!0===n.simulcast;a?ct.log("Creating offer (iceDone="+i.iceDone+", simulcast="+a+")"):ct.log("Creating offer (iceDone="+i.iceDone+")");var r={};if(ct.unifiedPlan){var c=null,o=null,l=i.pc.getTransceivers();if(l&&l.length>0){var d,u=Object(st.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?c||(c=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(o||(o=h))}}catch(C){u.e(C)}finally{u.f()}}var j=W(t),b=q(t);j||b?j&&b?c&&(c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",ct.log("Setting audio transceiver to sendrecv:",c)):j&&!b?c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",ct.log("Setting audio transceiver to sendonly:",c)):!j&&b&&(c?(c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",ct.log("Setting audio transceiver to recvonly:",c)):(c=i.pc.addTransceiver("audio",{direction:"recvonly"}),ct.log("Adding recvonly audio transceiver:",c))):t.removeAudio&&c&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive",ct.log("Setting audio transceiver to inactive:",c));var v=G(t),p=J(t);v||p?v&&p?o&&(o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",ct.log("Setting video transceiver to sendrecv:",o)):v&&!p?o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",ct.log("Setting video transceiver to sendonly:",o)):!v&&p&&(o?(o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",ct.log("Setting video transceiver to recvonly:",o)):(o=i.pc.addTransceiver("video",{direction:"recvonly"}),ct.log("Adding recvonly video transceiver:",o))):t.removeVideo&&o&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive",ct.log("Setting video transceiver to inactive:",o))}else r.offerToReceiveAudio=q(t),r.offerToReceiveVideo=J(t);!0===n.iceRestart&&(r.iceRestart=!0);ct.debug(r);var m=G(t);if(m&&a&&"firefox"===ct.webRTCAdapter.browserDetails.browser){ct.log("Enabling Simulcasting for Firefox (RID)");var f=i.pc.getSenders().find((function(e){return"video"===e.track.kind}));if(f){var x=f.getParameters();x||(x={});var w=g(n.simulcastMaxBitrates);x.encodings=n.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}],f.setParameters(x)}}i.pc.createOffer(r).then((function(e){ct.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,ct.log("Setting local description"),m&&a&&("chrome"===ct.webRTCAdapter.browserDetails.browser||"safari"===ct.webRTCAdapter.browserDetails.browser?(ct.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),n=!1,s=[-1],i=[-1],a=null,r=null,c=null,o=null,l=-1,d=0;d<t.length;d++){if(h=t[d].match(/m=(\w+) */)){if("video"===h[1]){if(!(s[0]<0)){l=d;break}n=!0}else if(s[0]>-1){l=d;break}}else if(n){var u=t[d].match(/a=ssrc-group:FID (\d+) (\d+)/);if(u)s[0]=u[1],i[0]=u[2],t.splice(d,1),d--;else{if(s[0]){if((b=t[d].match("a=ssrc:"+s[0]+" cname:(.+)"))&&(a=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+i[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+s[0])){t.splice(d,1),d--;continue}}0!=t[d].length||(t.splice(d,1),d--)}}}if(s[0]<0){l=-1,n=!1;for(d=0;d<t.length;d++){var h;if(h=t[d].match(/m=(\w+) */)){if("video"===h[1]){if(!(s[0]<0)){l=d;break}n=!0}else if(s[0]>-1){l=d;break}}else if(n){if(s[0]<0){var j=t[d].match(/a=ssrc:(\d+)/);if(j){s[0]=j[1],t.splice(d,1),d--;continue}}else{var b;if((b=t[d].match("a=ssrc:"+s[0]+" cname:(.+)"))&&(a=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+i[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+s[0])){t.splice(d,1),d--;continue}}0!==t[d].length||(t.splice(d,1),d--)}}}if(s[0]<0)return ct.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;l<0&&(l=t.length);s[1]=Math.floor(4294967295*Math.random()),s[2]=Math.floor(4294967295*Math.random()),i[1]=Math.floor(4294967295*Math.random()),i[2]=Math.floor(4294967295*Math.random());for(d=0;d<s.length;d++)a&&(t.splice(l,0,"a=ssrc:"+s[d]+" cname:"+a),l++),r&&(t.splice(l,0,"a=ssrc:"+s[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+s[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+s[d]+" label:"+o),l++),a&&(t.splice(l,0,"a=ssrc:"+i[d]+" cname:"+a),l++),r&&(t.splice(l,0,"a=ssrc:"+i[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+i[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+i[d]+" label:"+o),l++);t.splice(l,0,"a=ssrc-group:FID "+s[2]+" "+i[2]),t.splice(l,0,"a=ssrc-group:FID "+s[1]+" "+i[1]),t.splice(l,0,"a=ssrc-group:FID "+s[0]+" "+i[0]),t.splice(l,0,"a=ssrc-group:SIM "+s[0]+" "+s[1]+" "+s[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n");return e}(e.sdp)):"firefox"!==ct.webRTCAdapter.browserDetails.browser&&ct.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=r,i.iceDone||i.trickle?((i.senderTransforms||i.receiverTransforms)&&(e.e2ee=!0),n.success(e)):ct.log("Waiting for all candidates...")}),n.error)}(e,n,s)}function E(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:ct.noop,n.error="function"==typeof n.error?n.error:z;var s=n.jsep;if(t&&s)return ct.error("Provided a JSEP to a createOffer"),void n.error("Provided a JSEP to a createOffer");if(!t&&(!s||!s.type||!s.sdp))return ct.error("A valid JSEP is required for createAnswer"),void n.error("A valid JSEP is required for createAnswer");n.media="object"===typeof n.media&&n.media?n.media:{audio:!0,video:!0};var i=n.media,a=O[e];if(!a||!a.webrtcStuff)return ct.warn("Invalid handle"),void n.error("Invalid handle");var r,c=a.webrtcStuff;if(c.trickle=(r=n.trickle,ct.debug("isTrickleEnabled:",r),!1!==r),c.pc){if(ct.log("Updating existing media session"),i.update=!0,n.stream)n.stream!==c.myStream&&ct.log("Renegotiation involves a new external stream");else{if(i.addAudio){if(i.keepAudio=!1,i.replaceAudio=!1,i.removeAudio=!1,i.audioSend=!0,c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length)return ct.error("Can't add audio stream, there already is one"),void n.error("Can't add audio stream, there already is one")}else i.removeAudio?(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!1,i.audioSend=!1):i.replaceAudio&&(i.keepAudio=!1,i.addAudio=!1,i.removeAudio=!1,i.audioSend=!0);if(c.myStream&&c.myStream.getAudioTracks()&&0!==c.myStream.getAudioTracks().length?!W(i)||i.removeAudio||i.replaceAudio||(i.keepAudio=!0):(i.replaceAudio&&(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!0,i.audioSend=!0),W(i)&&(i.keepAudio=!1,i.addAudio=!0)),i.addVideo){if(i.keepVideo=!1,i.replaceVideo=!1,i.removeVideo=!1,i.videoSend=!0,c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length)return ct.error("Can't add video stream, there already is one"),void n.error("Can't add video stream, there already is one")}else i.removeVideo?(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!1,i.videoSend=!1):i.replaceVideo&&(i.keepVideo=!1,i.addVideo=!1,i.removeVideo=!1,i.videoSend=!0);c.myStream&&c.myStream.getVideoTracks()&&0!==c.myStream.getVideoTracks().length?!G(i)||i.removeVideo||i.replaceVideo||(i.keepVideo=!0):(i.replaceVideo&&(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!0,i.videoSend=!0),G(i)&&(i.keepVideo=!1,i.addVideo=!0)),i.addData&&(i.data=!0)}if(W(i)&&i.keepAudio&&G(i)&&i.keepVideo)return a.consentDialog(!1),void P(e,s,i,n,c.myStream)}else i.update=!1,i.keepAudio=!1,i.keepVideo=!1;if(i.update&&!c.streamExternal){if(i.removeAudio||i.replaceAudio){if(c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length){var o=c.myStream.getAudioTracks()[0];ct.log("Removing audio track:",o),c.myStream.removeTrack(o);try{o.stop()}catch(A){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var l=!0;if(i.replaceAudio&&ct.unifiedPlan&&(l=!1),l){var d,u=Object(st.a)(c.pc.getSenders());try{for(u.s();!(d=u.n()).done;){var h=d.value;h&&h.track&&"audio"===h.track.kind&&(ct.log("Removing audio sender:",h),c.pc.removeTrack(h))}}catch(M){u.e(M)}finally{u.f()}}}}if(i.removeVideo||i.replaceVideo){if(c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length){var j=c.myStream.getVideoTracks()[0];ct.log("Removing video track:",j),c.myStream.removeTrack(j);try{j.stop()}catch(A){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var b=!0;if(i.replaceVideo&&ct.unifiedPlan&&(b=!1),b){var v,p=Object(st.a)(c.pc.getSenders());try{for(p.s();!(v=p.n()).done;){var m=v.value;m&&m.track&&"video"===m.track.kind&&(ct.log("Removing video sender:",m),c.pc.removeTrack(m))}}catch(M){p.e(M)}finally{p.f()}}}}}if(n.stream){var g=n.stream;return ct.log("MediaStream provided by the application"),ct.debug(g),i.update&&c.myStream&&c.myStream!==n.stream&&!c.streamExternal&&(ct.stopAllTracks(c.myStream),c.myStream=null),c.streamExternal=!0,a.consentDialog(!1),void P(e,s,i,n,g)}if(W(i)||G(i)){if(!ct.isGetUserMediaAvailable())return void n.error("getUserMedia not available");var f={mandatory:{},optional:[]};a.consentDialog(!0);var x=W(i);x&&i&&"object"===typeof i.audio&&(x=i.audio);var w=G(i);if(w&&i){var y=!0===n.simulcast,k=!0===n.simulcast2;if(!y&&!k||s||i.video||(i.video="hires"),i.video&&"screen"!=i.video&&"window"!=i.video)if("object"===typeof i.video)w=i.video;else{var S=0,C=0;"lowres"===i.video?(C=240,240,S=320):"lowres-16:9"===i.video?(C=180,180,S=320):"hires"===i.video||"hires-16:9"===i.video||"hdres"===i.video?(C=720,720,S=1280):"fhdres"===i.video?(C=1080,1080,S=1920):"4kres"===i.video?(C=2160,2160,S=3840):"stdres"===i.video?(C=480,480,S=640):"stdres-16:9"===i.video?(C=360,360,S=640):(ct.log("Default video setting is stdres 4:3"),C=480,480,S=640),ct.log("Adding media constraint:",i.video),w={height:{ideal:C},width:{ideal:S}},ct.log("Adding video constraint:",w)}else if("screen"===i.video||"window"===i.video){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return f.video={},i.screenshareFrameRate&&(f.video.frameRate=i.screenshareFrameRate),i.screenshareHeight&&(f.video.height=i.screenshareHeight),i.screenshareWidth&&(f.video.width=i.screenshareWidth),f.audio=i.captureDesktopAudio,void navigator.mediaDevices.getDisplayMedia(f).then((function(t){a.consentDialog(!1),W(i)&&!i.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(a){t.addTrack(a.getAudioTracks()[0]),P(e,s,i,n,t)})):P(e,s,i,n,t)}),(function(e){a.consentDialog(!1),n.error(e)}));function _(t,r){a.consentDialog(!1),t?n.error(t):P(e,s,i,n,r)}function N(e,t,n){ct.log("Adding media constraint (screen capture)"),ct.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){n?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){e.addTrack(n.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){a.consentDialog(!1),t(e)}))}if("chrome"===ct.webRTCAdapter.browserDetails.browser){var T=ct.webRTCAdapter.browserDetails.version,I=33;window.navigator.userAgent.match("Linux")&&(I=35),T>=26&&T<=I?N(f={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate,chromeMediaSource:"screen"}},audio:W(i)&&!i.keepAudio},_):ct.extension.getScreen((function(e,t){if(e)return a.consentDialog(!1),n.error(e);(f={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,N(f,_,W(i)&&!i.keepAudio)}))}else if("firefox"===ct.webRTCAdapter.browserDetails.browser){if(!(ct.webRTCAdapter.browserDetails.version>=33)){var D=new Error("NavigatorUserMediaError");return D.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",a.consentDialog(!1),void n.error(D)}N(f={video:{mozMediaSource:i.video,mediaSource:i.video},audio:W(i)&&!i.keepAudio},(function(e,t){if(_(e,t),!e)var n=t.currentTime,s=window.setInterval((function(){t||window.clearInterval(s),t.currentTime==n&&(window.clearInterval(s),t.onended&&t.onended()),n=t.currentTime}),500)}))}return}}i&&"screen"===i.video||navigator.mediaDevices.enumerateDevices().then((function(t){var r=t.some((function(e){return"audioinput"===e.kind})),c=function(e){if(ct.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!==typeof e.video||"object"!==typeof e.video.mandatory)return!1;var t=e.video.mandatory;if(t.chromeMediaSource)return"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource;if(t.mozMediaSource)return"window"===t.mozMediaSource||"screen"===t.mozMediaSource;if(t.mediaSource)return"window"===t.mediaSource||"screen"===t.mediaSource;return!1}(i)||t.some((function(e){return"videoinput"===e.kind})),o=W(i),l=G(i),d=function(e){return ct.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}(i),u=function(e){return ct.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}(i);if(o||l||d||u){var h=!!o&&r,j=!!l&&c;if(!h&&!j)return a.consentDialog(!1),n.error("No capture device found"),!1;if(!h&&d)return a.consentDialog(!1),n.error("Audio capture is required, but no capture device found"),!1;if(!j&&u)return a.consentDialog(!1),n.error("Video capture is required, but no capture device found"),!1}var b={audio:!(!r||i.keepAudio)&&x,video:!(!c||i.keepVideo)&&w};ct.debug("getUserMedia constraints",b),b.audio||b.video?navigator.mediaDevices.getUserMedia(b).then((function(t){a.consentDialog(!1),P(e,s,i,n,t)})).catch((function(e){a.consentDialog(!1),n.error({code:e.code,name:e.name,message:e.message})})):(a.consentDialog(!1),P(e,s,i,n,g))})).catch((function(e){a.consentDialog(!1),n.error(e)}))}else P(e,s,i,n)}function L(e,t){(t=t||{}).success="function"==typeof t.success?t.success:ct.noop,t.error="function"==typeof t.error?t.error:z;var n=t.jsep,s=O[e];if(!s||!s.webrtcStuff)return ct.warn("Invalid handle"),void t.error("Invalid handle");var i=s.webrtcStuff;if(n){if(!i.pc)return ct.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");i.pc.setRemoteDescription(n).then((function(){if(ct.log("Remote description accepted!"),i.remoteSdp=n.sdp,i.candidates&&i.candidates.length>0){for(var e=0;e<i.candidates.length;e++){var s=i.candidates[e];ct.debug("Adding remote candidate:",s),s&&!0!==s.completed?i.pc.addIceCandidate(s):i.pc.addIceCandidate(ct.endOfCandidates)}i.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function V(e,t){var n=O[e];if(!n||!n.webrtcStuff)return ct.warn("Invalid handle"),0;var s=t?"remote":"local",i=n.webrtcStuff;return i.volume[s]||(i.volume[s]={value:0}),!i.pc.getStats||"chrome"!==ct.webRTCAdapter.browserDetails.browser&&"safari"!==ct.webRTCAdapter.browserDetails.browser?(ct.warn("Getting the "+s+" volume unsupported by browser"),0):t&&!i.remoteStream?(ct.warn("Remote stream unavailable"),0):t||i.myStream?i.volume[s].timer?i.volume[s].value:(ct.log("Starting "+s+" volume monitor"),i.volume[s].timer=setInterval((function(){i.pc.getStats().then((function(e){e.forEach((function(e){e&&"audio"===e.kind&&(t&&!e.remoteSource||!t&&"media-source"!==e.type||(i.volume[s].value=e.audioLevel?e.audioLevel:0))}))}))}),200),0):(ct.warn("Local stream unavailable"),0)}function B(e,t){var n=O[e];if(!n||!n.webrtcStuff)return ct.warn("Invalid handle"),!0;var s=n.webrtcStuff;return s.pc?s.myStream?t?s.myStream.getVideoTracks()&&0!==s.myStream.getVideoTracks().length?!s.myStream.getVideoTracks()[0].enabled:(ct.warn("No video track"),!0):s.myStream.getAudioTracks()&&0!==s.myStream.getAudioTracks().length?!s.myStream.getAudioTracks()[0].enabled:(ct.warn("No audio track"),!0):(ct.warn("Invalid local MediaStream"),!0):(ct.warn("Invalid PeerConnection"),!0)}function U(e,t,n){var s=O[e];if(!s||!s.webrtcStuff)return ct.warn("Invalid handle"),!1;var i=s.webrtcStuff;return i.pc?i.myStream?t?i.myStream.getVideoTracks()&&0!==i.myStream.getVideoTracks().length?(i.myStream.getVideoTracks()[0].enabled=!n,!0):(ct.warn("No video track"),!1):i.myStream.getAudioTracks()&&0!==i.myStream.getAudioTracks().length?(i.myStream.getAudioTracks()[0].enabled=!n,!0):(ct.warn("No audio track"),!1):(ct.warn("Invalid local MediaStream"),!1):(ct.warn("Invalid PeerConnection"),!1)}function H(e){var t=O[e];if(!t||!t.webrtcStuff)return ct.warn("Invalid handle"),"Invalid handle";var n=t.webrtcStuff;return n.pc?n.pc.getStats?n.bitrate.timer?n.bitrate.value:(ct.log("Starting bitrate timer (via getStats)"),n.bitrate.timer=setInterval((function(){n.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(n.bitrate.bsnow=e.bytesReceived,n.bitrate.tsnow=e.timestamp,null===n.bitrate.bsbefore||null===n.bitrate.tsbefore)n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow;else{var s=n.bitrate.tsnow-n.bitrate.tsbefore;"safari"===ct.webRTCAdapter.browserDetails.browser&&(s/=1e3);var i=Math.round(8*(n.bitrate.bsnow-n.bitrate.bsbefore)/s);"safari"===ct.webRTCAdapter.browserDetails.browser&&(i=parseInt(i/1e3)),n.bitrate.value=i+" kbits/sec",n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):(ct.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function z(e){ct.error("WebRTC error:",e)}function F(e,s){ct.log("Cleaning WebRTC stuff");var i=O[e];if(i){var a=i.webrtcStuff;if(a){if(!0===s){var r={janus:"hangup",transaction:ct.randomString(12)};i.token&&(r.token=i.token),v&&(r.apisecret=v),ct.debug("Sending hangup request (handle="+e+"):"),ct.debug(r),t?(r.session_id=x,r.handle_id=e,n.send(JSON.stringify(r))):ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:r})}a.remoteStream=null,a.volume&&(a.volume.local&&a.volume.local.timer&&clearInterval(a.volume.local.timer),a.volume.remote&&a.volume.remote.timer&&clearInterval(a.volume.remote.timer)),a.volume={},a.bitrate.timer&&clearInterval(a.bitrate.timer),a.bitrate.timer=null,a.bitrate.bsnow=null,a.bitrate.bsbefore=null,a.bitrate.tsnow=null,a.bitrate.tsbefore=null,a.bitrate.value=null,!a.streamExternal&&a.myStream&&(ct.log("Stopping local stream tracks"),ct.stopAllTracks(a.myStream)),a.streamExternal=!1,a.myStream=null;try{a.pc.close()}catch(o){}a.pc=null,a.candidates=null,a.mySdp=null,a.remoteSdp=null,a.iceDone=!1,a.dataChannel={},a.dtmfSender=null,a.senderTransforms=null,a.receiverTransforms=null}i.oncleanup()}}function W(e){return ct.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function q(e){return ct.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function G(e){return ct.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function J(e){return ct.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}N(e),this.getServer=function(){return c},this.isConnected=function(){return f},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:ct.noop,e.error="function"==typeof e.error?e.error:ct.noop,e.reconnect=!0,N(e)},this.getSessionId=function(){return x},this.getInfo=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:ct.noop,e.error="function"==typeof e.error?e.error:ct.noop,ct.log("Getting info on Janus instance"),!f)return ct.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var s=ct.randomString(12),i={janus:"info",transaction:s};b&&(i.token=b);v&&(i.apisecret=v);if(t)return k[s]=function(t){ct.log("Server info:"),ct.debug(t),"server_info"!==t.janus&&ct.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},void n.send(JSON.stringify(i));ct.httpAPICall(c,{verb:"POST",withCredentials:h,body:i,success:function(t){ct.log("Server info:"),ct.debug(t),"server_info"!==t.janus&&ct.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},error:function(t,n){ct.error(t+":",n),""===n?e.error(t+": Is the server down?"):e.error(t+": "+n)}})}(e)},this.destroy=function(a){!function(a){(a=a||{}).success="function"==typeof a.success?a.success:ct.noop,a.error="function"==typeof a.error?a.error:ct.noop;var r=!0===a.unload,o=!0;void 0!==a.notifyDestroyed&&null!==a.notifyDestroyed&&(o=!0===a.notifyDestroyed);var l=!0===a.cleanupHandles;if(ct.log("Destroying session "+x+" (unload="+r+")"),!x)return ct.warn("No session to destroy"),a.success(),void(o&&e.destroyed());if(l)for(var d in O)R(d,{noRequest:!0});if(!f)return ct.warn("Is the server down? (connected=false)"),x=null,void a.success();var u={janus:"destroy",transaction:ct.randomString(12)};b&&(u.token=b);v&&(u.apisecret=v);if(r)return t?(n.onclose=null,n.close(),n=null):navigator.sendBeacon(c+"/"+x,JSON.stringify(u)),ct.log("Destroyed session:"),x=null,f=!1,a.success(),void(o&&e.destroyed());if(t){u.session_id=x;var j=function(){for(var e in s)n.removeEventListener(e,s[e]);n.removeEventListener("message",p),n.removeEventListener("error",m),i&&clearTimeout(i),n.close()},p=function(t){var n=JSON.parse(t.data);n.session_id==u.session_id&&n.transaction==u.transaction&&(j(),a.success(),o&&e.destroyed())},m=function(t){j(),a.error("Failed to destroy the server: Is the server down?"),o&&e.destroyed()};return n.addEventListener("message",p),n.addEventListener("error",m),void(1===n.readyState?n.send(JSON.stringify(u)):m())}ct.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:h,body:u,success:function(t){ct.log("Destroyed session:"),ct.debug(t),x=null,f=!1,"success"!==t.janus&&ct.error("Ooops: "+t.error.code+" "+t.error.reason),a.success(),o&&e.destroyed()},error:function(t,n){ct.error(t+":",n),x=null,f=!1,a.success(),o&&e.destroyed()}})}(a)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:ct.noop,e.error="function"==typeof e.error?e.error:ct.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:ct.noop,e.iceState="function"==typeof e.iceState?e.iceState:ct.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:ct.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:ct.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:ct.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:ct.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:ct.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:ct.noop,e.ondata="function"==typeof e.ondata?e.ondata:ct.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:ct.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:ct.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:ct.noop,!f)return ct.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var s=e.plugin;if(!s)return ct.error("Invalid plugin"),void e.error("Invalid plugin");var i=e.opaqueId,a=e.token?e.token:b,r=ct.randomString(12),o={janus:"attach",plugin:s,opaque_id:i,transaction:r};a&&(o.token=a);v&&(o.apisecret=v);if(t)return k[r]=function(t){if(ct.debug(t),"success"!==t.janus)return ct.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;ct.log("Created handle: "+n);var i={session:w,plugin:s,id:n,token:a,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return s},getVolume:function(){return V(n,!0)},getRemoteVolume:function(){return V(n,!0)},getLocalVolume:function(){return V(n,!1)},isAudioMuted:function(){return B(n,!1)},muteAudio:function(){return U(n,!1,!0)},unmuteAudio:function(){return U(n,!1,!1)},isVideoMuted:function(){return B(n,!0)},muteVideo:function(){return U(n,!0,!0)},unmuteVideo:function(){return U(n,!0,!1)},getBitrate:function(){return H(n)},send:function(e){T(n,e)},data:function(e){A(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){E(n,!0,e)},createAnswer:function(e){E(n,!1,e)},handleRemoteJsep:function(e){L(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){F(n,!0===e)},detach:function(e){R(n,e)}};O[n]=i,e.success(i)},o.session_id=x,void n.send(JSON.stringify(o));ct.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:h,body:o,success:function(t){if(ct.debug(t),"success"!==t.janus)return ct.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;ct.log("Created handle: "+n);var i={session:w,plugin:s,id:n,token:a,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return s},getVolume:function(){return V(n,!0)},getRemoteVolume:function(){return V(n,!0)},getLocalVolume:function(){return V(n,!1)},isAudioMuted:function(){return B(n,!1)},muteAudio:function(){return U(n,!1,!0)},unmuteAudio:function(){return U(n,!1,!1)},isVideoMuted:function(){return B(n,!0)},muteVideo:function(){return U(n,!0,!0)},unmuteVideo:function(){return U(n,!0,!1)},getBitrate:function(){return H(n)},send:function(e){T(n,e)},data:function(e){A(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){E(n,!0,e)},createAnswer:function(e){E(n,!1,e)},handleRemoteJsep:function(e){L(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){F(n,!0===e)},detach:function(e){R(n,e)}};O[n]=i,e.success(i)},error:function(t,n){ct.error(t+":",n),""===n?e.error(t+": Is the server down?"):e.error(t+": "+n)}})}(e)}}ct.UseDefaultDependencies=function(e){var t=e&&e.fetch||fetch,n=e&&e.Promise||Promise,s=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new s(e,t)},extension:e&&e.extension||rt,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||it.a,httpAPICall:function(e,s){var i={method:s.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===s.verb&&(i.headers["Content-Type"]="application/json"),void 0!==s.withCredentials&&(i.credentials=!0===s.withCredentials?"include":s.withCredentials?s.withCredentials:"omit"),s.body&&(i.body=JSON.stringify(s.body));var a=t(e,i).catch((function(e){return n.reject({message:"Probably a network error, is the server down?",error:e})}));if(s.timeout){var r=new n((function(e,t){var n=setTimeout((function(){return clearTimeout(n),t({message:"Request timed out",timeout:s.timeout})}),s.timeout)}));a=n.race([a,r])}return a.then((function(e){return e.ok?typeof s.success===typeof ct.noop?e.json().then((function(e){s.success(e)})).catch((function(t){return n.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:n.reject({message:"API call failed",response:e})})).catch((function(e){typeof s.error===typeof ct.noop&&s.error(e.message||"<< internal error >>",e)})),a}}},ct.useOldDependencies=function(e){var t=e&&e.jQuery||le.a,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||rt,webRTCAdapter:e&&e.adapter||it.a,httpAPICall:function(e,n){var s=void 0!==n.body?{contentType:"application/json",data:JSON.stringify(n.body)}:{},i=void 0!==n.withCredentials?{xhrFields:{withCredentials:n.withCredentials}}:{};return t.ajax(t.extend(s,i,{url:e,type:n.verb,cache:!1,dataType:"json",async:n.async,timeout:n.timeout,success:function(e){typeof n.success===typeof ct.noop&&n.success(e)},error:function(e,t,s){typeof n.error===typeof ct.noop&&n.error(t,s)}}))}}},ct.noop=function(){},ct.dataChanDefaultLabel="JanusDataChannel",ct.endOfCandidates=null,ct.stopAllTracks=function(e){try{var t,n=e.getTracks(),s=Object(st.a)(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;ct.log(i),i&&i.stop()}}catch(a){s.e(a)}finally{s.f()}}catch(r){}},ct.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:ct.noop,ct.initDone)e.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),ct.trace=ct.noop,ct.debug=ct.noop,ct.vdebug=ct.noop,ct.log=ct.noop,ct.warn=ct.noop,ct.error=ct.noop,!0===e.debug||"all"===e.debug)ct.trace=console.trace.bind(console),ct.debug=console.debug.bind(console),ct.vdebug=console.debug.bind(console),ct.log=console.log.bind(console),ct.warn=console.warn.bind(console),ct.error=console.error.bind(console);else if(Array.isArray(e.debug)){var t,n=Object(st.a)(e.debug);try{for(n.s();!(t=n.n()).done;){var s=t.value;switch(s){case"trace":ct.trace=console.trace.bind(console);break;case"debug":ct.debug=console.debug.bind(console);break;case"vdebug":ct.vdebug=console.debug.bind(console);break;case"log":ct.log=console.log.bind(console);break;case"warn":ct.warn=console.warn.bind(console);break;case"error":ct.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+s+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}}catch(h){n.e(h)}finally{n.f()}}ct.log("Initializing library");var i=e.dependencies||ct.UseDefaultDependencies();ct.isArray=i.isArray,ct.webRTCAdapter=i.webRTCAdapter,ct.httpAPICall=i.httpAPICall,ct.newWebSocket=i.newWebSocket,ct.extension=i.extension,ct.extension.init(),ct.listDevices=function(e,t){e="function"==typeof e?e:ct.noop,null==t&&(t={audio:!0,video:!0}),ct.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){ct.debug(n),e(n),ct.stopAllTracks(t)}))})).catch((function(t){ct.error(t),e([])})):(ct.warn("navigator.mediaDevices unavailable"),e([]))},ct.attachMediaStream=function(e,t){try{e.srcObject=t}catch(n){try{e.src=URL.createObjectURL(t)}catch(n){ct.error("Error attaching stream to element")}}},ct.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(n){try{e.src=t.src}catch(n){ct.error("Error reattaching stream to element")}}};var a=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",r=window["on"+a];if(window.addEventListener(a,(function(e){for(var t in ct.log("Closing window"),ct.sessions)ct.sessions[t]&&ct.sessions[t].destroyOnUnload&&(ct.log("Destroying session "+t),ct.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));r&&"function"==typeof r&&r()})),ct.safariVp8=!1,"safari"===ct.webRTCAdapter.browserDetails.browser&&ct.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){var c,o=Object(st.a)(RTCRtpSender.getCapabilities("video").codecs);try{for(o.s();!(c=o.n()).done;){var l=c.value;if(l&&l.mimeType&&"video/vp8"===l.mimeType.toLowerCase()){ct.safariVp8=!0;break}}}catch(h){o.e(h)}finally{o.f()}ct.safariVp8?ct.log("This version of Safari supports VP8"):ct.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var d=new RTCPeerConnection({});d.createOffer({offerToReceiveVideo:!0}).then((function(e){ct.safariVp8=-1!==e.sdp.indexOf("VP8"),ct.safariVp8?ct.log("This version of Safari supports VP8"):ct.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),d.close(),d=null}))}if(ct.unifiedPlan=!1,"firefox"===ct.webRTCAdapter.browserDetails.browser&&ct.webRTCAdapter.browserDetails.version>=59)ct.unifiedPlan=!0;else if("chrome"===ct.webRTCAdapter.browserDetails.browser&&ct.webRTCAdapter.browserDetails.version>=72)ct.unifiedPlan=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in at.prototype){var u=new RTCPeerConnection;try{u.addTransceiver("audio"),ct.unifiedPlan=!0}catch(j){}u.close()}else ct.unifiedPlan=!1;ct.initDone=!0,e.callback()}},ct.isWebrtcSupported=function(){return!!window.RTCPeerConnection},ct.isGetUserMediaAvailable=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},ct.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",s=0;s<e;s++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n};var ot=ct,lt=n(279),dt=n.n(lt).a.connect(O,{transports:["websocket"],secure:!0,reconnect:!0,rejectUnauthorized:!1}),ut=n(54);function ht(e){var t=this;console.log("Trying to connect to",e),ot.init({debug:"all",callback:function(){var n=new ot({server:t.state.server,success:function(){n.attach({plugin:"janus.plugin.audiobridge",opaqueId:t.state.opaqueId,success:function(s){t.setState({mixertest:s,janus:n}),ot.log("Plugin attached! ("+t.state.mixertest.getPlugin()+", id="+t.state.mixertest.getId()+")"),t.registerUsername(e)},error:function(e){ot.error("  -- Error attaching plugin...",e)},consentDialog:function(e){ot.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){ot.log("ICE state changed to "+e)},mediaState:function(e,t){ot.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){ot.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},onmessage:function(e,n){ot.debug(" ::: Got a message :::",e);var s=e.audiobridge;if(ot.debug("Event: "+s),s)if("talking"==s&&t.participantChangeStatus(e.id,!0),"stopped-talking"==s&&t.participantChangeStatus(e.id,!1),"joined"===s){if(e.id){t.setState({myid:e.id}),ot.log("Successfully joined room "+e.room+" with ID "+t.state.myid);var i=t.currentRole();t.addParticipant(e.id,t.state.fullname+"\xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+i),t.state.webrtcUp||(t.setState({webrtcUp:!0}),t.state.mixertest.createOffer({media:{video:!1,audio:{echoCancellation:!0}},success:function(e){ot.debug("Got SDP!",e);var n=!0;t.state.reloadParams&&t.state.reloadParams.mic&&(n=!1);var s={request:"configure",muted:n};t.state.mixertest.send({message:s,jsep:e})},error:function(e){ot.error("WebRTC error:",e)}}))}if(e.participants){var a=e.participants;for(var r in ot.debug("Got a list of participants:",a),a){var c=a[r].id,o=a[r].display,l=a[r].setup,d=a[r].muted;t.addParticipant(a[r].id,a[r].display)}}}else if("roomchanged"===s){if(t.setState({myid:e.id}),ot.log("Moved to room "+e.room+", new ID: "+t.state.myid),e.participants){a=e.participants;for(var r in console.log(">>>>>>>>>>>>>>>"),console.log("Got a list of participants:",a),a){c=a[r].id,o=a[r].display,l=a[r].setup,d=a[r].muted,i=t.currentRole();t.addParticipant(e.id,t.state.fullname+"\xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+i),ot.debug("  >> ["+c+"] "+o+" (setup="+l+", muted="+d+")")}}}else if("destroyed"===s)ot.warn("The room has been destroyed!");else if("event"===s){if(e.participants){a=e.participants;for(var r in ot.debug("Got a list of participants:",a),a){c=a[r].id,o=a[r].display,l=a[r].setup,d=a[r].muted,a[r].talking;ot.debug("  >> ["+c+"] "+o+" (setup="+l+", muted="+d+")"),d&&t.participantChangeStatus(a[r].id,!1),t.addParticipant(a[r].id,a[r].display)}}else if(e.error)return void e.error_code;if(e.leaving){var u=e.leaving;t.removeParticipant(u),ot.log("Participant left: "+u+" elements with ID #rp"+u+")")}}n&&(ot.debug("Handling SDP as well...",n),t.state.mixertest.handleRemoteJsep({jsep:n}))},onlocalstream:function(e){ot.debug(" ::: Got a local stream :::",e),t.setState({localStream:e})},onremotestream:function(e){console.log(le()("#roomaudio")),0===le()("#roomaudio").length&&(le()("#mixedaudio").append('<audio class="rounded centered" id="roomaudio" width="100%" height="100%" autoplay/>'),ot.attachMediaStream(document.getElementById("roomaudio"),e),console.log(e),t.setState({remoteStream:e}))},oncleanup:function(){ot.log(" ::: Got a cleanup notification :::")}})},error:function(e){},destroyed:function(){window.location.reload()}})}})}function jt(e){var t=this,n=this.currentRole(),s={request:"join",room:parseInt(e),pin:t.state.pin,display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.initials+"\xa7"+n};t.state.mixertest.send({message:s}),t.setState({myId:t.state.mixertest.id,role:n})}function bt(){var e="listener";return this.state.is_speaker&&(e="speaker"),this.state.is_presenter&&(e="presenter"),this.state.is_moderator&&(e="moderator"),e}function vt(e){this.setState({participants:this.state.participants.filter((function(t){return t.id!==e}))})}function pt(e,t){var n=t.split("\xa7");this.exisitingParticipant(n[1])&&this.setState({participants:this.state.participants.concat({id:e,display:n[0],uuid:n[1],userColor:n[2],initials:n[3],role:n[4],current:"stopped-talking"})}),console.log("Adding Participants ...",n[0],n[4])}function mt(e){return 0===this.state.participants.filter((function(t){return t.uuid===e})).length}function gt(e){var t=this.state.participants.filter((function(t){return t.uuid===e}));return 0===t.length?"":t[0].display}function ft(e,t){this.setState((function(n){return{talking:Object(ut.a)(Object(ut.a)({},n.talking),{},Object(D.a)({},e,t))}}))}function xt(e,t){this.setState((function(n){return{participantRoom:Object(ut.a)(Object(ut.a)({},n.participantRoom),{},Object(D.a)({},e,t))}}))}function Ot(){var e=this,t=this;this.setState({muted:!this.state.muted},(function(){t.state.mixertest.send({message:{request:"configure",muted:t.state.muted}}),e.state.muted?(le()("#microphone-on").show(),le()("#microphone-off").hide(),le()("#microphone-off").css("color","initial")):(le()("#microphone-off").show(),le()("#microphone-off").css("color","black"),le()("#microphone-on").hide()),console.log("muted",e.state.muted,e.state.myId)})),t.participantChangeStatus(this.state.myId,!1)}function wt(){this.state.mixertest.send({message:{request:"configure",muted:!0}}),this.participantChangeStatus(this.state.myId,!1)}function yt(){console.log("exitAudioRoom"),this.state.mixertest&&(console.log("exitAudioRoom"),this.state.mixertest.send({message:{request:"leave"}}))}var kt=window.RTCRtpTransceiver;Ct.sessions={},Ct.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||Ct.extension.isInstalled()}return!0};var St={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var n=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var s=new Error("NavigatorUserMediaError");s.name="You cancelled the request for permission, giving up...",n(s)}else n(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function Ct(e){if((e=e||{}).success="function"==typeof e.success?e.success:Ct.noop,e.error="function"==typeof e.error?e.error:Ct.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:Ct.noop,!Ct.initDone)return e.error("Library not initialized"),{};if(!Ct.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(Ct.log("Library initialized: "+Ct.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,n=null,s={},i=null,a=null,r=0,c=e.server;Ct.isArray(c)?(Ct.log("Multiple servers provided ("+c.length+"), will use the first that works"),c=null,a=e.server,Ct.debug(a)):0===c.indexOf("ws")?(t=!0,Ct.log("Using WebSockets to contact Janus: "+c)):(t=!1,Ct.log("Using REST API to contact Janus: "+c));var o=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],l=e.iceTransportPolicy,d=e.bundlePolicy,u=!0===e.ipv6,h=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(h=!0===e.withCredentials);var j=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(j=e.max_poll_events),j<1&&(j=1);var b=null;void 0!==e.token&&null!==e.token&&(b=e.token);var v=null;void 0!==e.apisecret&&null!==e.apisecret&&(v=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var p=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(p=e.keepAlivePeriod),isNaN(p)&&(p=25e3);var m=6e4;function g(e){var t={high:9e5,medium:3e5,low:1e5};return void 0!==e&&null!==e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(m=e.longPollTimeout),isNaN(m)&&(m=6e4);var f=!1,x=null,O={},w=this,y=0,k={};function S(){if(null!=x)if(Ct.debug("Long poll..."),f){var t=c+"/"+x+"?rid="+(new Date).getTime();j&&(t=t+"&maxev="+j),b&&(t=t+"&token="+encodeURIComponent(b)),v&&(t=t+"&apisecret="+encodeURIComponent(v)),Ct.httpAPICall(t,{verb:"GET",withCredentials:h,success:C,timeout:m,error:function(t,n){if(Ct.error(t+":",n),++y>3)return f=!1,void e.error("Lost connection to the server (is it down?)");S()}})}else Ct.warn("Is the server down? (connected=false)")}function C(e,s){if(y=0,t||void 0===x||null===x||!0===s||S(),t||!Ct.isArray(e))if("keepalive"!==e.janus)if("server_info"!==e.janus)if("ack"!==e.janus)if("success"!==e.janus)if("trickle"===e.janus){if(!(o=e.sender))return void Ct.warn("Missing sender...");if(!(d=O[o]))return void Ct.debug("This handle is not attached to this session");var i=e.candidate;Ct.debug("Got a trickled candidate on session "+x),Ct.debug(i);var a=d.webrtcStuff;a.pc&&a.remoteSdp?(Ct.debug("Adding remote candidate:",i),i&&!0!==i.completed?a.pc.addIceCandidate(i):a.pc.addIceCandidate(Ct.endOfCandidates)):(Ct.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),a.candidates||(a.candidates=[]),a.candidates.push(i),Ct.debug(a.candidates))}else{if("webrtcup"===e.janus)return Ct.debug("Got a webrtcup event on session "+x),Ct.debug(e),(o=e.sender)?(d=O[o])?void d.webrtcState(!0):void Ct.debug("This handle is not attached to this session"):void Ct.warn("Missing sender...");if("hangup"===e.janus){if(Ct.debug("Got a hangup event on session "+x),Ct.debug(e),!(o=e.sender))return void Ct.warn("Missing sender...");if(!(d=O[o]))return void Ct.debug("This handle is not attached to this session");d.webrtcState(!1,e.reason),d.hangup()}else if("detached"===e.janus){if(Ct.debug("Got a detached event on session "+x),Ct.debug(e),!(o=e.sender))return void Ct.warn("Missing sender...");if(!(d=O[o]))return;d.ondetached(),d.detach()}else if("media"===e.janus){if(Ct.debug("Got a media event on session "+x),Ct.debug(e),!(o=e.sender))return void Ct.warn("Missing sender...");if(!(d=O[o]))return void Ct.debug("This handle is not attached to this session");d.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){if(Ct.debug("Got a slowlink event on session "+x),Ct.debug(e),!(o=e.sender))return void Ct.warn("Missing sender...");if(!(d=O[o]))return void Ct.debug("This handle is not attached to this session");d.slowLink(e.uplink,e.lost)}else{if("error"===e.janus){var r,c;if(Ct.error("Ooops: "+e.error.code+" "+e.error.reason),Ct.debug(e),r=e.transaction)(c=k[r])&&c(e),delete k[r];return}if("event"===e.janus){var o;if(Ct.debug("Got a plugin event on session "+x),Ct.debug(e),!(o=e.sender))return void Ct.warn("Missing sender...");var l=e.plugindata;if(!l)return void Ct.warn("Missing plugindata...");Ct.debug("  -- Event is coming from "+o+" ("+l.plugin+")");var d,u=l.data;if(Ct.debug(u),!(d=O[o]))return void Ct.warn("This handle is not attached to this session");var h=e.jsep;h&&(Ct.debug("Handling SDP as well..."),Ct.debug(h));var j=d.onmessage;j?(Ct.debug("Notifying application..."),j(u,h)):Ct.debug("No provided notification callback")}else{if("timeout"===e.janus)return Ct.error("Timeout on session "+x),Ct.debug(e),void(t&&n.close(3504,"Gateway timeout"));Ct.warn("Unknown message/event  '"+e.janus+"' on session "+x),Ct.debug(e)}}}else Ct.debug("Got a success on session "+x),Ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Ct.debug("Got an ack on session "+x),Ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Ct.debug("Got info on the Janus instance"),Ct.debug(e),(r=e.transaction)&&((c=k[r])&&c(e),delete k[r]);else Ct.vdebug("Got a keepalive on session "+x);else for(var b=0;b<e.length;b++)C(e[b],!0)}function _(){if(c&&t&&f){i=setTimeout(_,p);var e={janus:"keepalive",session_id:x,transaction:Ct.randomString(12)};b&&(e.token=b),v&&(e.apisecret=v),n.send(JSON.stringify(e))}}function N(o){var l=Ct.randomString(12),d={janus:"create",transaction:l};if(o.reconnect&&(f=!1,d.janus="claim",d.session_id=x,n&&(n.onopen=null,n.onerror=null,n.onclose=null,i&&(clearTimeout(i),i=null))),b&&(d.token=b),v&&(d.apisecret=v),!c&&Ct.isArray(a)&&(0===(c=a[r]).indexOf("ws")?(t=!0,Ct.log("Server #"+(r+1)+": trying WebSockets to contact Janus ("+c+")")):(t=!1,Ct.log("Server #"+(r+1)+": trying REST API to contact Janus ("+c+")"))),t)for(var u in n=Ct.newWebSocket(c,"janus-protocol"),s={error:function(){if(Ct.error("Error connecting to the Janus WebSockets server... "+c),Ct.isArray(a)&&!o.reconnect)return++r===a.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){N(o)}),200));o.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){k[l]=function(e){if(Ct.debug(e),"success"!==e.janus)return Ct.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);i=setTimeout(_,p),f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?Ct.log("Claimed session: "+x):Ct.log("Created session: "+x),Ct.sessions[x]=w,o.success()},n.send(JSON.stringify(d))},message:function(e){C(JSON.parse(e.data))},close:function(){c&&f&&(f=!1,e.error("Lost connection to the server (is it down?)"))}})n.addEventListener(u,s[u]);else Ct.httpAPICall(c,{verb:"POST",withCredentials:h,body:d,success:function(e){if(Ct.debug(e),"success"!==e.janus)return Ct.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);f=!0,x=e.session_id?e.session_id:e.data.id,o.reconnect?Ct.log("Claimed session: "+x):Ct.log("Created session: "+x),Ct.sessions[x]=w,S(),o.success()},error:function(e,t){if(Ct.error(e+":",t),Ct.isArray(a)&&!o.reconnect)return++r===a.length?void o.error("Error connecting to any of the provided Janus servers: Is the server down?"):(c=null,void setTimeout((function(){N(o)}),200));""===t?o.error(e+": Is the server down?"):o.error(e+": "+t)}})}function T(e,s){if((s=s||{}).success="function"==typeof s.success?s.success:Ct.noop,s.error="function"==typeof s.error?s.error:Ct.noop,!f)return Ct.warn("Is the server down? (connected=false)"),void s.error("Is the server down? (connected=false)");var i=O[e];if(!i||!i.webrtcStuff)return Ct.warn("Invalid handle"),void s.error("Invalid handle");var a=s.message,r=s.jsep,o=Ct.randomString(12),l={janus:"message",body:a,transaction:o};if(i.token&&(l.token=i.token),v&&(l.apisecret=v),r&&(l.jsep={type:r.type,sdp:r.sdp},r.e2ee&&(l.jsep.e2ee=!0),"hml"!==r.rid_order&&"lmh"!==r.rid_order||(l.jsep.rid_order=r.rid_order)),Ct.debug("Sending message to plugin (handle="+e+"):"),Ct.debug(l),t)return l.session_id=x,l.handle_id=e,k[o]=function(e){if(Ct.debug("Message sent!"),Ct.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Ct.warn("Request succeeded, but missing plugindata..."),void s.success();Ct.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return Ct.debug(n),void s.success(n)}"ack"===e.janus?s.success():e.error?(Ct.error("Ooops: "+e.error.code+" "+e.error.reason),s.error(e.error.code+" "+e.error.reason)):(Ct.error("Unknown error"),s.error("Unknown error"))},void n.send(JSON.stringify(l));Ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:l,success:function(e){if(Ct.debug("Message sent!"),Ct.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Ct.warn("Request succeeded, but missing plugindata..."),void s.success();Ct.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return Ct.debug(n),void s.success(n)}"ack"===e.janus?s.success():e.error?(Ct.error("Ooops: "+e.error.code+" "+e.error.reason),s.error(e.error.code+" "+e.error.reason)):(Ct.error("Unknown error"),s.error("Unknown error"))},error:function(e,t){Ct.error(e+":",t),s.error(e+": "+t)}})}function I(e,s){if(f){var i=O[e];if(i&&i.webrtcStuff){var a={janus:"trickle",candidate:s,transaction:Ct.randomString(12)};if(i.token&&(a.token=i.token),v&&(a.apisecret=v),Ct.vdebug("Sending trickle candidate (handle="+e+"):"),Ct.vdebug(a),t)return a.session_id=x,a.handle_id=e,void n.send(JSON.stringify(a));Ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:a,success:function(e){Ct.vdebug("Candidate sent!"),Ct.vdebug(e),"ack"===e.janus||Ct.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){Ct.error(e+":",t)}})}else Ct.warn("Invalid handle")}else Ct.warn("Is the server down? (connected=false)")}function D(e,t,n,s,i){var a=O[e];if(a&&a.webrtcStuff){var r=a.webrtcStuff;if(r.pc){var c=function(e){Ct.log("Received state change on data channel:",e);var t=e.target.label,n=e.target.protocol,s=r.dataChannel[t]?r.dataChannel[t].readyState:"null";if(Ct.log("State change on <"+t+"> data channel: "+s),"open"===s){if(r.dataChannel[t].pending&&r.dataChannel[t].pending.length>0){Ct.log("Sending pending messages on <"+t+">:",r.dataChannel[t].pending.length);var i,c=Object(st.a)(r.dataChannel[t].pending);try{for(c.s();!(i=c.n()).done;){var o=i.value;Ct.log("Sending data on data channel <"+t+">"),Ct.debug(o),r.dataChannel[t].send(o)}}catch(l){c.e(l)}finally{c.f()}r.dataChannel[t].pending=[]}a.ondataopen(t,n)}};if(s)r.dataChannel[t]=s;else{var o={ordered:!0};n&&(o.protocol=n),r.dataChannel[t]=r.pc.createDataChannel(t,o)}r.dataChannel[t].onmessage=function(e){Ct.log("Received message on data channel:",e);var t=e.target.label;a.ondata(e.data,t)},r.dataChannel[t].onopen=c,r.dataChannel[t].onclose=c,r.dataChannel[t].onerror=function(e){Ct.error("Got error on data channel:",e)},r.dataChannel[t].pending=[],i&&r.dataChannel[t].pending.push(i)}else Ct.warn("Invalid PeerConnection")}else Ct.warn("Invalid handle")}function A(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Ct.noop,t.error="function"==typeof t.error?t.error:Ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return Ct.warn("Invalid handle"),void t.error("Invalid handle");var s=n.webrtcStuff,i=t.text||t.data;if(!i)return Ct.warn("Invalid data"),void t.error("Invalid data");var a=t.label?t.label:Ct.dataChanDefaultLabel;return s.dataChannel[a]?"open"!==s.dataChannel[a].readyState?(s.dataChannel[a].pending.push(i),void t.success()):(Ct.log("Sending data on data channel <"+a+">"),Ct.debug(i),s.dataChannel[a].send(i),void t.success()):(D(e,a,t.protocol,!1,i,t.protocol),void t.success())}function M(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Ct.noop,t.error="function"==typeof t.error?t.error:Ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return Ct.warn("Invalid handle"),void t.error("Invalid handle");var s=n.webrtcStuff;if(!s.dtmfSender){if(s.pc){var i=s.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!i)return Ct.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");s.dtmfSender=i.dtmf,s.dtmfSender&&(Ct.log("Created DTMF Sender"),s.dtmfSender.ontonechange=function(e){Ct.debug("Sent DTMF tone: "+e.tone)})}if(!s.dtmfSender)return Ct.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var a=t.dtmf;if(!a)return Ct.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var r=a.tones;if(!r)return Ct.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var c="number"===typeof a.duration?a.duration:500,o="number"===typeof a.gap?a.gap:50;Ct.debug("Sending DTMF string "+r+" (duration "+c+"ms, gap "+o+"ms)"),s.dtmfSender.insertDTMF(r,c,o),t.success()}function R(e,s){(s=s||{}).success="function"==typeof s.success?s.success:Ct.noop,s.error="function"==typeof s.error?s.error:Ct.noop;var i=!0===s.noRequest;Ct.log("Destroying handle "+e+" (only-locally="+i+")"),F(e);var a=O[e];if(!a||a.detached)return delete O[e],void s.success();if(a.detached=!0,i)return delete O[e],void s.success();if(!f)return Ct.warn("Is the server down? (connected=false)"),void s.error("Is the server down? (connected=false)");var r={janus:"detach",transaction:Ct.randomString(12)};if(a.token&&(r.token=a.token),v&&(r.apisecret=v),t)return r.session_id=x,r.handle_id=e,n.send(JSON.stringify(r)),delete O[e],void s.success();Ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:r,success:function(t){Ct.log("Destroyed handle:"),Ct.debug(t),"success"!==t.janus&&Ct.error("Ooops: "+t.error.code+" "+t.error.reason),delete O[e],s.success()},error:function(t,n){Ct.error(t+":",n),delete O[e],s.success()}})}function P(e,t,n,s,i){var a=O[e];if(!a||!a.webrtcStuff)return Ct.warn("Invalid handle"),s.stream||Ct.stopAllTracks(i),void s.error("Invalid handle");var r=a.webrtcStuff;Ct.debug("streamsDone:",i),i&&(Ct.debug("  -- Audio tracks:",i.getAudioTracks()),Ct.debug("  -- Video tracks:",i.getVideoTracks()));var c=!1;if(r.myStream&&n.update&&(!r.streamExternal||n.replaceAudio||n.replaceVideo)){if((!n.update&&W(n)||n.update&&(n.addAudio||n.replaceAudio))&&i.getAudioTracks()&&i.getAudioTracks().length)if(r.myStream.addTrack(i.getAudioTracks()[0]),Ct.unifiedPlan){Ct.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]);var h=null;if((v=r.pc.getTransceivers())&&v.length>0){var j,b=Object(st.a)(v);try{for(b.s();!(j=b.n()).done;){if((x=j.value).sender&&x.sender.track&&"audio"===x.sender.track.kind||x.receiver&&x.receiver.track&&"audio"===x.receiver.track.kind){h=x;break}}}catch(C){b.e(C)}finally{b.f()}}h&&h.sender?h.sender.replaceTrack(i.getAudioTracks()[0]):r.pc.addTrack(i.getAudioTracks()[0],i)}else Ct.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]),r.pc.addTrack(i.getAudioTracks()[0],i);if((!n.update&&G(n)||n.update&&(n.addVideo||n.replaceVideo))&&i.getVideoTracks()&&i.getVideoTracks().length)if(r.myStream.addTrack(i.getVideoTracks()[0]),Ct.unifiedPlan){Ct.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]);var v,p=null;if((v=r.pc.getTransceivers())&&v.length>0){var m,f=Object(st.a)(v);try{for(f.s();!(m=f.n()).done;){var x;if((x=m.value).sender&&x.sender.track&&"video"===x.sender.track.kind||x.receiver&&x.receiver.track&&"video"===x.receiver.track.kind){p=x;break}}}catch(C){f.e(C)}finally{f.f()}}p&&p.sender?p.sender.replaceTrack(i.getVideoTracks()[0]):r.pc.addTrack(i.getVideoTracks()[0],i)}else Ct.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]),r.pc.addTrack(i.getVideoTracks()[0],i)}else r.myStream=i,c=!0;if(!r.pc){var w={iceServers:o,iceTransportPolicy:l,bundlePolicy:d};"chrome"===Ct.webRTCAdapter.browserDetails.browser&&(w.sdpSemantics=Ct.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var y={optional:[{DtlsSrtpKeyAgreement:!0}]};if(u&&y.optional.push({googIPv6:!0}),s.rtcConstraints&&"object"===typeof s.rtcConstraints)for(var k in Ct.debug("Adding custom PeerConnection constraints:",s.rtcConstraints),s.rtcConstraints)y.optional.push(s.rtcConstraints[k]);"edge"===Ct.webRTCAdapter.browserDetails.browser&&(w.bundlePolicy="max-bundle"),RTCRtpSender&&(RTCRtpSender.prototype.createEncodedStreams||RTCRtpSender.prototype.createEncodedAudioStreams&&RTCRtpSender.prototype.createEncodedVideoStreams)&&(s.senderTransforms||s.receiverTransforms)&&(r.senderTransforms=s.senderTransforms,r.receiverTransforms=s.receiverTransforms,w.forceEncodedAudioInsertableStreams=!0,w.forceEncodedVideoInsertableStreams=!0,w.encodedInsertableStreams=!0),Ct.log("Creating PeerConnection"),Ct.debug(y),r.pc=new RTCPeerConnection(w,y),Ct.debug(r.pc),r.pc.getStats&&(r.volume={},r.bitrate.value="0 kbits/sec"),Ct.log("Preparing local SDP and gathering candidates (trickle="+r.trickle+")"),r.pc.oniceconnectionstatechange=function(e){r.pc&&a.iceState(r.pc.iceConnectionState)},r.pc.onicecandidate=function(t){if(!t.candidate||"edge"===Ct.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)Ct.log("End of candidates."),r.iceDone=!0,!0===r.trickle?I(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Ct.noop,t.error="function"==typeof t.error?t.error:Ct.noop;var n=O[e];if(!n||!n.webrtcStuff)return void Ct.warn("Invalid handle, not sending anything");var s=n.webrtcStuff;if(Ct.log("Sending offer/answer SDP..."),!s.mySdp)return void Ct.warn("Local SDP instance is invalid, not sending anything...");s.mySdp={type:s.pc.localDescription.type,sdp:s.pc.localDescription.sdp},!1===s.trickle&&(s.mySdp.trickle=!1);Ct.debug(t),s.sdpSent=!0,t.success(s.mySdp)}(e,s);else{var n={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===r.trickle&&I(e,n)}},r.pc.ontrack=function(e){if(Ct.log("Handling Remote Track"),Ct.debug(e),e.streams&&(r.remoteStream=e.streams[0],a.onremotestream(r.remoteStream),!e.track.onended)){if(r.receiverTransforms){var t=null;RTCRtpSender.prototype.createEncodedStreams?t=e.receiver.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===e.track.kind&&r.receiverTransforms.audio?t=e.receiver.createEncodedAudioStreams():"video"===e.track.kind&&r.receiverTransforms.video&&(t=e.receiver.createEncodedVideoStreams())),t&&(console.log(t),t.readableStream&&t.writableStream?t.readableStream.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writableStream):t.readable&&t.writable&&t.readable.pipeThrough(r.receiverTransforms[e.track.kind]).pipeTo(t.writable))}var n=null;Ct.log("Adding onended callback to track:",e.track),e.track.onended=function(e){Ct.log("Remote track removed:",e),r.remoteStream&&(clearTimeout(n),r.remoteStream.removeTrack(e.target),a.onremotestream(r.remoteStream))},e.track.onmute=function(e){Ct.log("Remote track muted:",e),r.remoteStream&&null==n&&(n=setTimeout((function(){Ct.log("Removing remote track"),r.remoteStream&&(r.remoteStream.removeTrack(e.target),a.onremotestream(r.remoteStream)),n=null}),2520))},e.track.onunmute=function(e){if(Ct.log("Remote track flowing again:",e),null!=n)clearTimeout(n),n=null;else try{r.remoteStream.addTrack(e.target),a.onremotestream(r.remoteStream)}catch(t){Ct.error(t)}}}}}if(c&&i){Ct.log("Adding local stream");var S=!0===s.simulcast2;i.getTracks().forEach((function(e){Ct.log("Adding local track:",e);var t=null;if(S&&"audio"!==e.kind){Ct.log("Enabling rid-based simulcasting:",e);var n=g(s.simulcastMaxBitrates),a=r.pc.addTransceiver(e,{direction:"sendrecv",streams:[i],sendEncodings:s.sendEncodings||[{rid:"h",active:!0,maxBitrate:n.high},{rid:"m",active:!0,maxBitrate:n.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:n.low,scaleResolutionDownBy:4}]});a&&(t=a.sender)}else t=r.pc.addTrack(e,i);if(t&&r.senderTransforms){var c=null;RTCRtpSender.prototype.createEncodedStreams?c=t.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===t.track.kind&&r.senderTransforms.audio?c=t.createEncodedAudioStreams():"video"===t.track.kind&&r.senderTransforms.video&&(c=t.createEncodedVideoStreams())),c&&(console.log(c),c.readableStream&&c.writableStream?c.readableStream.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writableStream):c.readable&&c.writable&&c.readable.pipeThrough(r.senderTransforms[t.track.kind]).pipeTo(c.writable))}}))}(function(e){if(Ct.debug("isDataEnabled:",e),"edge"===Ct.webRTCAdapter.browserDetails.browser)return Ct.warn("Edge doesn't support data channels yet"),!1;return void 0!==e&&null!==e&&!0===e.data})(n)&&!r.dataChannel[Ct.dataChanDefaultLabel]&&(Ct.log("Creating default data channel"),D(e,Ct.dataChanDefaultLabel,null,!1),r.pc.ondatachannel=function(t){Ct.log("Data channel created by Janus:",t),D(e,t.channel.label,t.channel.protocol,t.channel)}),r.myStream&&a.onlocalstream(r.myStream),t?r.pc.setRemoteDescription(t).then((function(){if(Ct.log("Remote description accepted!"),r.remoteSdp=t.sdp,r.candidates&&r.candidates.length>0){for(var i=0;i<r.candidates.length;i++){var a=r.candidates[i];Ct.debug("Adding remote candidate:",a),a&&!0!==a.completed?r.pc.addIceCandidate(a):r.pc.addIceCandidate(Ct.endOfCandidates)}r.candidates=[]}!function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Ct.noop,n.error="function"==typeof n.error?n.error:Ct.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:Ct.noop;var s=O[e];if(!s||!s.webrtcStuff)return Ct.warn("Invalid handle"),void n.error("Invalid handle");var i=s.webrtcStuff,a=!0===n.simulcast;a?Ct.log("Creating answer (iceDone="+i.iceDone+", simulcast="+a+")"):Ct.log("Creating answer (iceDone="+i.iceDone+")");var r=null;if(Ct.unifiedPlan){r={};var c=null,o=null,l=i.pc.getTransceivers();if(l&&l.length>0){var d,u=Object(st.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?c||(c=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(o||(o=h))}}catch(C){u.e(C)}finally{u.f()}}var j=W(t),b=q(t);if(j||b){if(j&&b){if(c)try{c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",Ct.log("Setting audio transceiver to sendrecv:",c)}catch(y){Ct.error(y)}}else if(j&&!b)try{c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",Ct.log("Setting audio transceiver to sendonly:",c))}catch(y){Ct.error(y)}else if(!j&&b)if(c)try{c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",Ct.log("Setting audio transceiver to recvonly:",c)}catch(y){Ct.error(y)}else c=i.pc.addTransceiver("audio",{direction:"recvonly"}),Ct.log("Adding recvonly audio transceiver:",c)}else if(t.removeAudio&&c)try{c.setDirection?c.setDirection("inactive"):c.direction="inactive",Ct.log("Setting audio transceiver to inactive:",c)}catch(y){Ct.error(y)}var v=G(t),p=J(t);if(v||p){if(v&&p){if(o)try{o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",Ct.log("Setting video transceiver to sendrecv:",o)}catch(y){Ct.error(y)}}else if(v&&!p){if(o)try{o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",Ct.log("Setting video transceiver to sendonly:",o)}catch(y){Ct.error(y)}}else if(!v&&p)if(o)try{o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",Ct.log("Setting video transceiver to recvonly:",o)}catch(y){Ct.error(y)}else o=i.pc.addTransceiver("video",{direction:"recvonly"}),Ct.log("Adding recvonly video transceiver:",o)}else if(t.removeVideo&&o)try{o.setDirection?o.setDirection("inactive"):o.direction="inactive",Ct.log("Setting video transceiver to inactive:",o)}catch(y){Ct.error(y)}}else r="firefox"===Ct.webRTCAdapter.browserDetails.browser||"edge"===Ct.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:q(t),offerToReceiveVideo:J(t)}:{mandatory:{OfferToReceiveAudio:q(t),OfferToReceiveVideo:J(t)}};Ct.debug(r);var m=G(t);if(m&&a&&"firefox"===Ct.webRTCAdapter.browserDetails.browser){Ct.log("Enabling Simulcasting for Firefox (RID)");var f=i.pc.getSenders()[1];Ct.log(f);var x=f.getParameters();Ct.log(x);var w=g(n.simulcastMaxBitrates);f.setParameters({encodings:n.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}]})}i.pc.createAnswer(r).then((function(e){Ct.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,Ct.log("Setting local description"),m&&a&&("chrome"===Ct.webRTCAdapter.browserDetails.browser?Ct.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==Ct.webRTCAdapter.browserDetails.browser&&Ct.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp={type:"answer",sdp:e.sdp},i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=r,i.iceDone||i.trickle?((i.senderTransforms||i.receiverTransforms)&&(e.e2ee=!0),n.success(e)):Ct.log("Waiting for all candidates...")}),n.error)}(e,n,s)}),s.error):function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Ct.noop,n.error="function"==typeof n.error?n.error:Ct.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:Ct.noop;var s=O[e];if(!s||!s.webrtcStuff)return Ct.warn("Invalid handle"),void n.error("Invalid handle");var i=s.webrtcStuff,a=!0===n.simulcast;a?Ct.log("Creating offer (iceDone="+i.iceDone+", simulcast="+a+")"):Ct.log("Creating offer (iceDone="+i.iceDone+")");var r={};if(Ct.unifiedPlan){var c=null,o=null,l=i.pc.getTransceivers();if(l&&l.length>0){var d,u=Object(st.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?c||(c=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(o||(o=h))}}catch(C){u.e(C)}finally{u.f()}}var j=W(t),b=q(t);j||b?j&&b?c&&(c.setDirection?c.setDirection("sendrecv"):c.direction="sendrecv",Ct.log("Setting audio transceiver to sendrecv:",c)):j&&!b?c&&(c.setDirection?c.setDirection("sendonly"):c.direction="sendonly",Ct.log("Setting audio transceiver to sendonly:",c)):!j&&b&&(c?(c.setDirection?c.setDirection("recvonly"):c.direction="recvonly",Ct.log("Setting audio transceiver to recvonly:",c)):(c=i.pc.addTransceiver("audio",{direction:"recvonly"}),Ct.log("Adding recvonly audio transceiver:",c))):t.removeAudio&&c&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive",Ct.log("Setting audio transceiver to inactive:",c));var v=G(t),p=J(t);v||p?v&&p?o&&(o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",Ct.log("Setting video transceiver to sendrecv:",o)):v&&!p?o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",Ct.log("Setting video transceiver to sendonly:",o)):!v&&p&&(o?(o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",Ct.log("Setting video transceiver to recvonly:",o)):(o=i.pc.addTransceiver("video",{direction:"recvonly"}),Ct.log("Adding recvonly video transceiver:",o))):t.removeVideo&&o&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive",Ct.log("Setting video transceiver to inactive:",o))}else r.offerToReceiveAudio=q(t),r.offerToReceiveVideo=J(t);!0===n.iceRestart&&(r.iceRestart=!0);Ct.debug(r);var m=G(t);if(m&&a&&"firefox"===Ct.webRTCAdapter.browserDetails.browser){Ct.log("Enabling Simulcasting for Firefox (RID)");var f=i.pc.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(f){var x=f.getParameters();x||(x={});var w=g(n.simulcastMaxBitrates);x.encodings=n.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}],f.setParameters(x)}}i.pc.createOffer(r).then((function(e){Ct.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,Ct.log("Setting local description"),m&&a&&("chrome"===Ct.webRTCAdapter.browserDetails.browser||"safari"===Ct.webRTCAdapter.browserDetails.browser?(Ct.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),n=!1,s=[-1],i=[-1],a=null,r=null,c=null,o=null,l=-1,d=0;d<t.length;d++){if(h=t[d].match(/m=(\w+) */)){if("video"===h[1]){if(!(s[0]<0)){l=d;break}n=!0}else if(s[0]>-1){l=d;break}}else if(n){if(t[d].match(/a=ssrc-group:SIM (\d+) (\d+) (\d+)/))return Ct.warn("The SDP already contains a SIM attribute, munging will be skipped"),e;var u=t[d].match(/a=ssrc-group:FID (\d+) (\d+)/);if(u)s[0]=u[1],i[0]=u[2],t.splice(d,1),d--;else{if(s[0]){if((b=t[d].match("a=ssrc:"+s[0]+" cname:(.+)"))&&(a=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+i[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+s[0])){t.splice(d,1),d--;continue}}0!=t[d].length||(t.splice(d,1),d--)}}}if(s[0]<0){l=-1,n=!1;for(d=0;d<t.length;d++){var h;if(h=t[d].match(/m=(\w+) */)){if("video"===h[1]){if(!(s[0]<0)){l=d;break}n=!0}else if(s[0]>-1){l=d;break}}else if(n){if(s[0]<0){var j=t[d].match(/a=ssrc:(\d+)/);if(j){s[0]=j[1],t.splice(d,1),d--;continue}}else{var b;if((b=t[d].match("a=ssrc:"+s[0]+" cname:(.+)"))&&(a=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" msid:(.+)"))&&(r=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" mslabel:(.+)"))&&(c=b[1]),(b=t[d].match("a=ssrc:"+s[0]+" label:(.+)"))&&(o=b[1]),0===t[d].indexOf("a=ssrc:"+i[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+s[0])){t.splice(d,1),d--;continue}}0!==t[d].length||(t.splice(d,1),d--)}}}if(s[0]<0)return Ct.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;l<0&&(l=t.length);s[1]=Math.floor(4294967295*Math.random()),s[2]=Math.floor(4294967295*Math.random()),i[1]=Math.floor(4294967295*Math.random()),i[2]=Math.floor(4294967295*Math.random());for(d=0;d<s.length;d++)a&&(t.splice(l,0,"a=ssrc:"+s[d]+" cname:"+a),l++),r&&(t.splice(l,0,"a=ssrc:"+s[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+s[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+s[d]+" label:"+o),l++),a&&(t.splice(l,0,"a=ssrc:"+i[d]+" cname:"+a),l++),r&&(t.splice(l,0,"a=ssrc:"+i[d]+" msid:"+r),l++),c&&(t.splice(l,0,"a=ssrc:"+i[d]+" mslabel:"+c),l++),o&&(t.splice(l,0,"a=ssrc:"+i[d]+" label:"+o),l++);t.splice(l,0,"a=ssrc-group:FID "+s[2]+" "+i[2]),t.splice(l,0,"a=ssrc-group:FID "+s[1]+" "+i[1]),t.splice(l,0,"a=ssrc-group:FID "+s[0]+" "+i[0]),t.splice(l,0,"a=ssrc-group:SIM "+s[0]+" "+s[1]+" "+s[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n");return e}(e.sdp)):"firefox"!==Ct.webRTCAdapter.browserDetails.browser&&Ct.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp={type:"offer",sdp:e.sdp},i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=r,i.iceDone||i.trickle?((i.senderTransforms||i.receiverTransforms)&&(e.e2ee=!0),n.success(e)):Ct.log("Waiting for all candidates...")}),n.error)}(e,n,s)}function E(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Ct.noop,n.error="function"==typeof n.error?n.error:z;var s=n.jsep;if(t&&s)return Ct.error("Provided a JSEP to a createOffer"),void n.error("Provided a JSEP to a createOffer");if(!t&&(!s||!s.type||!s.sdp))return Ct.error("A valid JSEP is required for createAnswer"),void n.error("A valid JSEP is required for createAnswer");n.media="object"===typeof n.media&&n.media?n.media:{audio:!0,video:!0};var i=n.media,a=O[e];if(!a||!a.webrtcStuff)return Ct.warn("Invalid handle"),void n.error("Invalid handle");var r,c=a.webrtcStuff;if(c.trickle=(r=n.trickle,Ct.debug("isTrickleEnabled:",r),!1!==r),c.pc){if(Ct.log("Updating existing media session"),i.update=!0,n.stream)n.stream!==c.myStream&&Ct.log("Renegotiation involves a new external stream");else{if(i.addAudio){if(i.keepAudio=!1,i.replaceAudio=!1,i.removeAudio=!1,i.audioSend=!0,c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length)return Ct.error("Can't add audio stream, there already is one"),void n.error("Can't add audio stream, there already is one")}else i.removeAudio?(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!1,i.audioSend=!1):i.replaceAudio&&(i.keepAudio=!1,i.addAudio=!1,i.removeAudio=!1,i.audioSend=!0);if(c.myStream&&c.myStream.getAudioTracks()&&0!==c.myStream.getAudioTracks().length?!W(i)||i.removeAudio||i.replaceAudio||(i.keepAudio=!0):(i.replaceAudio&&(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!0,i.audioSend=!0),W(i)&&(i.keepAudio=!1,i.addAudio=!0)),i.addVideo){if(i.keepVideo=!1,i.replaceVideo=!1,i.removeVideo=!1,i.videoSend=!0,c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length)return Ct.error("Can't add video stream, there already is one"),void n.error("Can't add video stream, there already is one")}else i.removeVideo?(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!1,i.videoSend=!1):i.replaceVideo&&(i.keepVideo=!1,i.addVideo=!1,i.removeVideo=!1,i.videoSend=!0);c.myStream&&c.myStream.getVideoTracks()&&0!==c.myStream.getVideoTracks().length?!G(i)||i.removeVideo||i.replaceVideo||(i.keepVideo=!0):(i.replaceVideo&&(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!0,i.videoSend=!0),G(i)&&(i.keepVideo=!1,i.addVideo=!0)),i.addData&&(i.data=!0)}if(W(i)&&i.keepAudio&&G(i)&&i.keepVideo)return a.consentDialog(!1),void P(e,s,i,n,c.myStream)}else i.update=!1,i.keepAudio=!1,i.keepVideo=!1;if(i.update&&(!c.streamExternal||c.streamExternal&&(i.replaceAudio||i.replaceVideo))){if(i.removeAudio||i.replaceAudio){if(c.myStream&&c.myStream.getAudioTracks()&&c.myStream.getAudioTracks().length){var o=c.myStream.getAudioTracks()[0];Ct.log("Removing audio track:",o),c.myStream.removeTrack(o);try{o.stop()}catch(A){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var l=!0;if(i.replaceAudio&&Ct.unifiedPlan&&(l=!1),l){var d,u=Object(st.a)(c.pc.getSenders());try{for(u.s();!(d=u.n()).done;){var h=d.value;h&&h.track&&"audio"===h.track.kind&&(Ct.log("Removing audio sender:",h),c.pc.removeTrack(h))}}catch(M){u.e(M)}finally{u.f()}}}}if(i.removeVideo||i.replaceVideo){if(c.myStream&&c.myStream.getVideoTracks()&&c.myStream.getVideoTracks().length){var j=c.myStream.getVideoTracks()[0];Ct.log("Removing video track:",j),c.myStream.removeTrack(j);try{j.stop()}catch(A){}}if(c.pc.getSenders()&&c.pc.getSenders().length){var b=!0;if(i.replaceVideo&&Ct.unifiedPlan&&(b=!1),b){var v,p=Object(st.a)(c.pc.getSenders());try{for(p.s();!(v=p.n()).done;){var m=v.value;m&&m.track&&"video"===m.track.kind&&(Ct.log("Removing video sender:",m),c.pc.removeTrack(m))}}catch(M){p.e(M)}finally{p.f()}}}}}if(n.stream){var g=n.stream;return Ct.log("MediaStream provided by the application"),Ct.debug(g),!i.update||!c.myStream||c.myStream===n.stream||c.streamExternal||i.replaceAudio||i.replaceVideo||(Ct.stopAllTracks(c.myStream),c.myStream=null),c.streamExternal=!0,a.consentDialog(!1),void P(e,s,i,n,g)}if(W(i)||G(i)){if(!Ct.isGetUserMediaAvailable())return void n.error("getUserMedia not available");var f={mandatory:{},optional:[]};a.consentDialog(!0);var x=W(i);x&&i&&"object"===typeof i.audio&&(x=i.audio);var w=G(i);if(w&&i){var y=!0===n.simulcast,k=!0===n.simulcast2;if(!y&&!k||s||i.video||(i.video="hires"),i.video&&"screen"!=i.video&&"window"!=i.video)if("object"===typeof i.video)w=i.video;else{var S=0,C=0;"lowres"===i.video?(C=240,240,S=320):"lowres-16:9"===i.video?(C=180,180,S=320):"hires"===i.video||"hires-16:9"===i.video||"hdres"===i.video?(C=720,720,S=1280):"fhdres"===i.video?(C=1080,1080,S=1920):"4kres"===i.video?(C=2160,2160,S=3840):"stdres"===i.video?(C=480,480,S=640):"stdres-16:9"===i.video?(C=360,360,S=640):(Ct.log("Default video setting is stdres 4:3"),C=480,480,S=640),Ct.log("Adding media constraint:",i.video),w={height:{ideal:C},width:{ideal:S}},Ct.log("Adding video constraint:",w)}else if("screen"===i.video||"window"===i.video){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return f.video={},i.screenshareFrameRate&&(f.video.frameRate=i.screenshareFrameRate),i.screenshareHeight&&(f.video.height=i.screenshareHeight),i.screenshareWidth&&(f.video.width=i.screenshareWidth),f.audio=i.captureDesktopAudio,void navigator.mediaDevices.getDisplayMedia(f).then((function(t){a.consentDialog(!1),W(i)&&!i.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(a){t.addTrack(a.getAudioTracks()[0]),P(e,s,i,n,t)})):P(e,s,i,n,t)}),(function(e){a.consentDialog(!1),n.error(e)}));function _(t,r){a.consentDialog(!1),t?n.error(t):P(e,s,i,n,r)}function N(e,t,n){Ct.log("Adding media constraint (screen capture)"),Ct.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){n?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){e.addTrack(n.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){a.consentDialog(!1),t(e)}))}if("chrome"===Ct.webRTCAdapter.browserDetails.browser){var T=Ct.webRTCAdapter.browserDetails.version,I=33;window.navigator.userAgent.match("Linux")&&(I=35),T>=26&&T<=I?N(f={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate,chromeMediaSource:"screen"}},audio:W(i)&&!i.keepAudio},_):Ct.extension.getScreen((function(e,t){if(e)return a.consentDialog(!1),n.error(e);(f={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,N(f,_,W(i)&&!i.keepAudio)}))}else if("firefox"===Ct.webRTCAdapter.browserDetails.browser){if(!(Ct.webRTCAdapter.browserDetails.version>=33)){var D=new Error("NavigatorUserMediaError");return D.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",a.consentDialog(!1),void n.error(D)}N(f={video:{mozMediaSource:i.video,mediaSource:i.video},audio:W(i)&&!i.keepAudio},(function(e,t){if(_(e,t),!e)var n=t.currentTime,s=window.setInterval((function(){t||window.clearInterval(s),t.currentTime==n&&(window.clearInterval(s),t.onended&&t.onended()),n=t.currentTime}),500)}))}return}}i&&"screen"===i.video||navigator.mediaDevices.enumerateDevices().then((function(t){var r=t.some((function(e){return"audioinput"===e.kind})),c=function(e){if(Ct.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!==typeof e.video||"object"!==typeof e.video.mandatory)return!1;var t=e.video.mandatory;if(t.chromeMediaSource)return"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource;if(t.mozMediaSource)return"window"===t.mozMediaSource||"screen"===t.mozMediaSource;if(t.mediaSource)return"window"===t.mediaSource||"screen"===t.mediaSource;return!1}(i)||t.some((function(e){return"videoinput"===e.kind})),o=W(i),l=G(i),d=function(e){return Ct.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}(i),u=function(e){return Ct.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}(i);if(o||l||d||u){var h=!!o&&r,j=!!l&&c;if(!h&&!j)return a.consentDialog(!1),n.error("No capture device found"),!1;if(!h&&d)return a.consentDialog(!1),n.error("Audio capture is required, but no capture device found"),!1;if(!j&&u)return a.consentDialog(!1),n.error("Video capture is required, but no capture device found"),!1}var b={audio:!(!r||i.keepAudio)&&x,video:!(!c||i.keepVideo)&&w};Ct.debug("getUserMedia constraints",b),b.audio||b.video?navigator.mediaDevices.getUserMedia(b).then((function(t){a.consentDialog(!1),P(e,s,i,n,t)})).catch((function(e){a.consentDialog(!1),n.error({code:e.code,name:e.name,message:e.message})})):(a.consentDialog(!1),P(e,s,i,n,g))})).catch((function(e){a.consentDialog(!1),n.error(e)}))}else P(e,s,i,n)}function L(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Ct.noop,t.error="function"==typeof t.error?t.error:z,t.customizeSdp="function"==typeof t.customizeSdp?t.customizeSdp:Ct.noop;var n=t.jsep,s=O[e];if(!s||!s.webrtcStuff)return Ct.warn("Invalid handle"),void t.error("Invalid handle");var i=s.webrtcStuff;if(n){if(!i.pc)return Ct.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");t.customizeSdp(n),i.pc.setRemoteDescription(n).then((function(){if(Ct.log("Remote description accepted!"),i.remoteSdp=n.sdp,i.candidates&&i.candidates.length>0){for(var e=0;e<i.candidates.length;e++){var s=i.candidates[e];Ct.debug("Adding remote candidate:",s),s&&!0!==s.completed?i.pc.addIceCandidate(s):i.pc.addIceCandidate(Ct.endOfCandidates)}i.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function V(e,t){var n=O[e];if(!n||!n.webrtcStuff)return Ct.warn("Invalid handle"),0;var s=t?"remote":"local",i=n.webrtcStuff;return i.volume[s]||(i.volume[s]={value:0}),!i.pc.getStats||"chrome"!==Ct.webRTCAdapter.browserDetails.browser&&"safari"!==Ct.webRTCAdapter.browserDetails.browser?(Ct.warn("Getting the "+s+" volume unsupported by browser"),0):t&&!i.remoteStream?(Ct.warn("Remote stream unavailable"),0):t||i.myStream?i.volume[s].timer?i.volume[s].value:(Ct.log("Starting "+s+" volume monitor"),i.volume[s].timer=setInterval((function(){i.pc.getStats().then((function(e){e.forEach((function(e){e&&"audio"===e.kind&&(t&&!e.remoteSource||!t&&"media-source"!==e.type||(i.volume[s].value=e.audioLevel?e.audioLevel:0))}))}))}),200),0):(Ct.warn("Local stream unavailable"),0)}function B(e,t){var n=O[e];if(!n||!n.webrtcStuff)return Ct.warn("Invalid handle"),!0;var s=n.webrtcStuff;return s.pc?s.myStream?t?s.myStream.getVideoTracks()&&0!==s.myStream.getVideoTracks().length?!s.myStream.getVideoTracks()[0].enabled:(Ct.warn("No video track"),!0):s.myStream.getAudioTracks()&&0!==s.myStream.getAudioTracks().length?!s.myStream.getAudioTracks()[0].enabled:(Ct.warn("No audio track"),!0):(Ct.warn("Invalid local MediaStream"),!0):(Ct.warn("Invalid PeerConnection"),!0)}function U(e,t,n){var s=O[e];if(!s||!s.webrtcStuff)return Ct.warn("Invalid handle"),!1;var i=s.webrtcStuff;return i.pc?i.myStream?t?i.myStream.getVideoTracks()&&0!==i.myStream.getVideoTracks().length?(i.myStream.getVideoTracks()[0].enabled=!n,!0):(Ct.warn("No video track"),!1):i.myStream.getAudioTracks()&&0!==i.myStream.getAudioTracks().length?(i.myStream.getAudioTracks()[0].enabled=!n,!0):(Ct.warn("No audio track"),!1):(Ct.warn("Invalid local MediaStream"),!1):(Ct.warn("Invalid PeerConnection"),!1)}function H(e){var t=O[e];if(!t||!t.webrtcStuff)return Ct.warn("Invalid handle"),"Invalid handle";var n=t.webrtcStuff;return n.pc?n.pc.getStats?n.bitrate.timer?n.bitrate.value:(Ct.log("Starting bitrate timer (via getStats)"),n.bitrate.timer=setInterval((function(){n.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(n.bitrate.bsnow=e.bytesReceived,n.bitrate.tsnow=e.timestamp,null===n.bitrate.bsbefore||null===n.bitrate.tsbefore)n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow;else{var s=n.bitrate.tsnow-n.bitrate.tsbefore;"safari"===Ct.webRTCAdapter.browserDetails.browser&&(s/=1e3);var i=Math.round(8*(n.bitrate.bsnow-n.bitrate.bsbefore)/s);"safari"===Ct.webRTCAdapter.browserDetails.browser&&(i=parseInt(i/1e3)),n.bitrate.value=i+" kbits/sec",n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):(Ct.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function z(e){Ct.error("WebRTC error:",e)}function F(e,s){Ct.log("Cleaning WebRTC stuff");var i=O[e];if(i){var a=i.webrtcStuff;if(a){if(!0===s){var r={janus:"hangup",transaction:Ct.randomString(12)};i.token&&(r.token=i.token),v&&(r.apisecret=v),Ct.debug("Sending hangup request (handle="+e+"):"),Ct.debug(r),t?(r.session_id=x,r.handle_id=e,n.send(JSON.stringify(r))):Ct.httpAPICall(c+"/"+x+"/"+e,{verb:"POST",withCredentials:h,body:r})}a.remoteStream=null,a.volume&&(a.volume.local&&a.volume.local.timer&&clearInterval(a.volume.local.timer),a.volume.remote&&a.volume.remote.timer&&clearInterval(a.volume.remote.timer)),a.volume={},a.bitrate.timer&&clearInterval(a.bitrate.timer),a.bitrate.timer=null,a.bitrate.bsnow=null,a.bitrate.bsbefore=null,a.bitrate.tsnow=null,a.bitrate.tsbefore=null,a.bitrate.value=null,!a.streamExternal&&a.myStream&&(Ct.log("Stopping local stream tracks"),Ct.stopAllTracks(a.myStream)),a.streamExternal=!1,a.myStream=null;try{a.pc.close()}catch(o){}a.pc=null,a.candidates=null,a.mySdp=null,a.remoteSdp=null,a.iceDone=!1,a.dataChannel={},a.dtmfSender=null,a.senderTransforms=null,a.receiverTransforms=null}i.oncleanup()}}function W(e){return Ct.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function q(e){return Ct.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function G(e){return Ct.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function J(e){return Ct.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}N(e),this.getServer=function(){return c},this.isConnected=function(){return f},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:Ct.noop,e.error="function"==typeof e.error?e.error:Ct.noop,e.reconnect=!0,N(e)},this.getSessionId=function(){return x},this.getInfo=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:Ct.noop,e.error="function"==typeof e.error?e.error:Ct.noop,Ct.log("Getting info on Janus instance"),!f)return Ct.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var s=Ct.randomString(12),i={janus:"info",transaction:s};b&&(i.token=b);v&&(i.apisecret=v);if(t)return k[s]=function(t){Ct.log("Server info:"),Ct.debug(t),"server_info"!==t.janus&&Ct.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},void n.send(JSON.stringify(i));Ct.httpAPICall(c,{verb:"POST",withCredentials:h,body:i,success:function(t){Ct.log("Server info:"),Ct.debug(t),"server_info"!==t.janus&&Ct.error("Ooops: "+t.error.code+" "+t.error.reason),e.success(t)},error:function(t,n){Ct.error(t+":",n),""===n?e.error(t+": Is the server down?"):e.error(t+": "+n)}})}(e)},this.destroy=function(a){!function(a){(a=a||{}).success="function"==typeof a.success?a.success:Ct.noop,a.error="function"==typeof a.error?a.error:Ct.noop;var r=!0===a.unload,o=!0;void 0!==a.notifyDestroyed&&null!==a.notifyDestroyed&&(o=!0===a.notifyDestroyed);var l=!0===a.cleanupHandles;if(Ct.log("Destroying session "+x+" (unload="+r+")"),!x)return Ct.warn("No session to destroy"),a.success(),void(o&&e.destroyed());if(l)for(var d in O)R(d,{noRequest:!0});if(!f)return Ct.warn("Is the server down? (connected=false)"),x=null,void a.success();var u={janus:"destroy",transaction:Ct.randomString(12)};b&&(u.token=b);v&&(u.apisecret=v);if(r)return t?(n.onclose=null,n.close(),n=null):navigator.sendBeacon(c+"/"+x,JSON.stringify(u)),Ct.log("Destroyed session:"),x=null,f=!1,a.success(),void(o&&e.destroyed());if(t){u.session_id=x;var j=function(){for(var e in s)n.removeEventListener(e,s[e]);n.removeEventListener("message",p),n.removeEventListener("error",m),i&&clearTimeout(i),n.close()},p=function(t){var n=JSON.parse(t.data);n.session_id==u.session_id&&n.transaction==u.transaction&&(j(),a.success(),o&&e.destroyed())},m=function(t){j(),a.error("Failed to destroy the server: Is the server down?"),o&&e.destroyed()};return n.addEventListener("message",p),n.addEventListener("error",m),void(1===n.readyState?n.send(JSON.stringify(u)):m())}Ct.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:h,body:u,success:function(t){Ct.log("Destroyed session:"),Ct.debug(t),x=null,f=!1,"success"!==t.janus&&Ct.error("Ooops: "+t.error.code+" "+t.error.reason),a.success(),o&&e.destroyed()},error:function(t,n){Ct.error(t+":",n),x=null,f=!1,a.success(),o&&e.destroyed()}})}(a)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:Ct.noop,e.error="function"==typeof e.error?e.error:Ct.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:Ct.noop,e.iceState="function"==typeof e.iceState?e.iceState:Ct.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:Ct.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:Ct.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:Ct.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:Ct.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:Ct.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:Ct.noop,e.ondata="function"==typeof e.ondata?e.ondata:Ct.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:Ct.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:Ct.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:Ct.noop,!f)return Ct.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var s=e.plugin;if(!s)return Ct.error("Invalid plugin"),void e.error("Invalid plugin");var i=e.opaqueId,a=e.token?e.token:b,r=Ct.randomString(12),o={janus:"attach",plugin:s,opaque_id:i,transaction:r};a&&(o.token=a);v&&(o.apisecret=v);if(t)return k[r]=function(t){if(Ct.debug(t),"success"!==t.janus)return Ct.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;Ct.log("Created handle: "+n);var i={session:w,plugin:s,id:n,token:a,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return s},getVolume:function(){return V(n,!0)},getRemoteVolume:function(){return V(n,!0)},getLocalVolume:function(){return V(n,!1)},isAudioMuted:function(){return B(n,!1)},muteAudio:function(){return U(n,!1,!0)},unmuteAudio:function(){return U(n,!1,!1)},isVideoMuted:function(){return B(n,!0)},muteVideo:function(){return U(n,!0,!0)},unmuteVideo:function(){return U(n,!0,!1)},getBitrate:function(){return H(n)},send:function(e){T(n,e)},data:function(e){A(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){E(n,!0,e)},createAnswer:function(e){E(n,!1,e)},handleRemoteJsep:function(e){L(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){F(n,!0===e)},detach:function(e){R(n,e)}};O[n]=i,e.success(i)},o.session_id=x,void n.send(JSON.stringify(o));Ct.httpAPICall(c+"/"+x,{verb:"POST",withCredentials:h,body:o,success:function(t){if(Ct.debug(t),"success"!==t.janus)return Ct.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;Ct.log("Created handle: "+n);var i={session:w,plugin:s,id:n,token:a,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return s},getVolume:function(){return V(n,!0)},getRemoteVolume:function(){return V(n,!0)},getLocalVolume:function(){return V(n,!1)},isAudioMuted:function(){return B(n,!1)},muteAudio:function(){return U(n,!1,!0)},unmuteAudio:function(){return U(n,!1,!1)},isVideoMuted:function(){return B(n,!0)},muteVideo:function(){return U(n,!0,!0)},unmuteVideo:function(){return U(n,!0,!1)},getBitrate:function(){return H(n)},send:function(e){T(n,e)},data:function(e){A(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){E(n,!0,e)},createAnswer:function(e){E(n,!1,e)},handleRemoteJsep:function(e){L(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){F(n,!0===e)},detach:function(e){R(n,e)}};O[n]=i,e.success(i)},error:function(t,n){Ct.error(t+":",n),""===n?e.error(t+": Is the server down?"):e.error(t+": "+n)}})}(e)}}Ct.UseDefaultDependencies=function(e){var t=e&&e.fetch||fetch,n=e&&e.Promise||Promise,s=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new s(e,t)},extension:e&&e.extension||St,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||it.a,httpAPICall:function(e,s){var i={method:s.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===s.verb&&(i.headers["Content-Type"]="application/json"),void 0!==s.withCredentials&&(i.credentials=!0===s.withCredentials?"include":s.withCredentials?s.withCredentials:"omit"),s.body&&(i.body=JSON.stringify(s.body));var a=t(e,i).catch((function(e){return n.reject({message:"Probably a network error, is the server down?",error:e})}));if(s.timeout){var r=new n((function(e,t){var n=setTimeout((function(){return clearTimeout(n),t({message:"Request timed out",timeout:s.timeout})}),s.timeout)}));a=n.race([a,r])}return a.then((function(e){return e.ok?typeof s.success===typeof Ct.noop?e.json().then((function(e){try{s.success(e)}catch(t){Ct.error("Unhandled httpAPICall success callback error",t)}}),(function(t){return n.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:n.reject({message:"API call failed",response:e})})).catch((function(e){typeof s.error===typeof Ct.noop&&s.error(e.message||"<< internal error >>",e)})),a}}},Ct.useOldDependencies=function(e){var t=e&&e.jQuery||le.a,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||St,webRTCAdapter:e&&e.adapter||it.a,httpAPICall:function(e,n){var s=void 0!==n.body?{contentType:"application/json",data:JSON.stringify(n.body)}:{},i=void 0!==n.withCredentials?{xhrFields:{withCredentials:n.withCredentials}}:{};return t.ajax(t.extend(s,i,{url:e,type:n.verb,cache:!1,dataType:"json",async:n.async,timeout:n.timeout,success:function(e){typeof n.success===typeof Ct.noop&&n.success(e)},error:function(e,t,s){typeof n.error===typeof Ct.noop&&n.error(t,s)}}))}}},Ct.noop=function(){},Ct.dataChanDefaultLabel="JanusDataChannel",Ct.endOfCandidates=null,Ct.stopAllTracks=function(e){try{var t,n=e.getTracks(),s=Object(st.a)(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;Ct.log(i),i&&i.stop()}}catch(a){s.e(a)}finally{s.f()}}catch(r){}},Ct.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:Ct.noop,Ct.initDone)e.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),Ct.trace=Ct.noop,Ct.debug=Ct.noop,Ct.vdebug=Ct.noop,Ct.log=Ct.noop,Ct.warn=Ct.noop,Ct.error=Ct.noop,!0===e.debug||"all"===e.debug)Ct.trace=console.trace.bind(console),Ct.debug=console.debug.bind(console),Ct.vdebug=console.debug.bind(console),Ct.log=console.log.bind(console),Ct.warn=console.warn.bind(console),Ct.error=console.error.bind(console);else if(Array.isArray(e.debug)){var t,n=Object(st.a)(e.debug);try{for(n.s();!(t=n.n()).done;){var s=t.value;switch(s){case"trace":Ct.trace=console.trace.bind(console);break;case"debug":Ct.debug=console.debug.bind(console);break;case"vdebug":Ct.vdebug=console.debug.bind(console);break;case"log":Ct.log=console.log.bind(console);break;case"warn":Ct.warn=console.warn.bind(console);break;case"error":Ct.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+s+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}}catch(h){n.e(h)}finally{n.f()}}Ct.log("Initializing library");var i=e.dependencies||Ct.UseDefaultDependencies();Ct.isArray=i.isArray,Ct.webRTCAdapter=i.webRTCAdapter,Ct.httpAPICall=i.httpAPICall,Ct.newWebSocket=i.newWebSocket,Ct.extension=i.extension,Ct.extension.init(),Ct.listDevices=function(e,t){e="function"==typeof e?e:Ct.noop,null==t&&(t={audio:!0,video:!0}),Ct.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){Ct.debug(n),e(n),Ct.stopAllTracks(t)}))})).catch((function(t){Ct.error(t),e([])})):(Ct.warn("navigator.mediaDevices unavailable"),e([]))},Ct.attachMediaStream=function(e,t){try{e.srcObject=t}catch(n){try{e.src=URL.createObjectURL(t)}catch(n){Ct.error("Error attaching stream to element")}}},Ct.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(n){try{e.src=t.src}catch(n){Ct.error("Error reattaching stream to element")}}};var a=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",r=window["on"+a];if(window.addEventListener(a,(function(e){for(var t in Ct.log("Closing window"),Ct.sessions)Ct.sessions[t]&&Ct.sessions[t].destroyOnUnload&&(Ct.log("Destroying session "+t),Ct.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));r&&"function"==typeof r&&r()})),Ct.safariVp8=!1,"safari"===Ct.webRTCAdapter.browserDetails.browser&&Ct.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){var c,o=Object(st.a)(RTCRtpSender.getCapabilities("video").codecs);try{for(o.s();!(c=o.n()).done;){var l=c.value;if(l&&l.mimeType&&"video/vp8"===l.mimeType.toLowerCase()){Ct.safariVp8=!0;break}}}catch(h){o.e(h)}finally{o.f()}Ct.safariVp8?Ct.log("This version of Safari supports VP8"):Ct.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var d=new RTCPeerConnection({});d.createOffer({offerToReceiveVideo:!0}).then((function(e){Ct.safariVp8=-1!==e.sdp.indexOf("VP8"),Ct.safariVp8?Ct.log("This version of Safari supports VP8"):Ct.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),d.close(),d=null}))}if(Ct.unifiedPlan=!1,"firefox"===Ct.webRTCAdapter.browserDetails.browser&&Ct.webRTCAdapter.browserDetails.version>=59)Ct.unifiedPlan=!0;else if("chrome"===Ct.webRTCAdapter.browserDetails.browser&&Ct.webRTCAdapter.browserDetails.version>=72)Ct.unifiedPlan=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in kt.prototype){var u=new RTCPeerConnection;try{u.addTransceiver("audio"),Ct.unifiedPlan=!0}catch(j){}u.close()}else Ct.unifiedPlan=!1;Ct.initDone=!0,e.callback()}},Ct.isWebrtcSupported=function(){return!!window.RTCPeerConnection},Ct.isGetUserMediaAvailable=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},Ct.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",s=0;s<e;s++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n};var _t=Ct;function Nt(e){var t=this;_t.init({debug:"none",callback:function(){var n=new _t({server:t.state.server,success:function(){n.attach({plugin:"janus.plugin.videoroom",opaqueId:t.state.opaqueId,success:function(s){t.setState({janus:n}),t.setState({sfutest:s}),_t.log("Plugin attached! ("+t.state.sfutest.getPlugin()+", id="+t.state.sfutest.getId()+")"),_t.log("  -- This is a publisher/manager"),t.vregisterUsername(e),navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){console.log(e.kind),"audiooutput"===e.kind&&le()("#speakerSelect").append("<option value='"+e.deviceId+"'>"+e.label+"</option>"),"audioinput"===e.kind&&le()("#audioSourceSelect").append("<option value='"+e.deviceId+"'>"+e.label+"</option>"),"videoinput"===e.kind&&le()("#videoSourceSelect").append("<option value='"+e.deviceId+"'>"+e.label+"</option>")}))})).catch((function(e){console.log(e.name+": "+e.message)}))},error:function(e){_t.error("  -- Error attaching plugin...",e)},consentDialog:function(e){_t.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){_t.log("ICE state changed to "+e)},mediaState:function(e,t){_t.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){_t.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},onmessage:function(e,n){_t.debug(" ::: Got a message (publisher) :::",e);var s=e.videoroom;if(_t.debug("Event: "+s),s)if("joined"===s){if(t.setState({myVroomId:e.id,vJoined:!0}),_t.log("Successfully joined room "+e.room+" with ID "+e.id),t.addParticipant(e.id,t.state.fullname+"\xa7"+t.state.userUUID),t.state.reloadParams&&t.state.reloadParams.cam&&t.ionRequestRoom(),e.publishers){var i=e.publishers;for(var a in _t.debug("Got a list of available publishers/feeds:",i),i){console.log("List >>",i);var r=i[a].id,c=i[a].display,o=i[a].audio_codec,l=i[a].video_codec;_t.debug("  >> ["+r+"] "+c+" (audio: "+o+", video: "+l+")"),t.vAddParticipant(i[a].id,i[a].display),t.vNewRemoteFeed(r,"",c,o,l)}}}else if("destroyed"===s)_t.warn("The room has been destroyed!");else if("event"===s)if(e.publishers){i=e.publishers;for(var a in _t.debug("Got a list of available publishers/feeds:",i),i){r=i[a].id,c=i[a].display,o=i[a].audio_codec,l=i[a].video_codec;console.log(i),_t.debug("  >> ["+r+"] "+c+" (audio: "+o+", video: "+l+")"),t.vAddParticipant(i[a].id,i[a].display),t.vNewRemoteFeed(r,"",c,o,l)}}else if(e.leaving){var d=e.leaving;console.log("Publisher leaving: "+d),t.setState({feeds:t.state.feeds.filter((function(e){return e.rfid!=d}))},(function(){return console.log("feeds: >>>>",t.state.feeds)})),null!=(u=t.state.feeds.filter((function(e){return e.rfid===d})).shift())&&u.detach(),t.removeParticipant(d)}else if(e.unpublished){var u,h=e.unpublished;if(console.log("Publisher left: "+h),"ok"===h)return t.state.sfutest.hangup(),void t.vStreamDettacher(t.state.sfutest);null!=(u=t.state.feeds.filter((function(e){return e.rfid===h})).shift())&&(u.detach(),t.vStreamDettacher(u)),t.removeParticipant(h),t.setState({feeds:t.state.feeds.filter((function(e){return e.rfid!=h}))})}else e.error&&e.error_code;n&&(_t.debug("Handling SDP as well...",n),t.state.sfutest.handleRemoteJsep({jsep:n}))},onlocalstream:function(e){_t.debug(" ::: Got a local stream :::",e),console.log(" ::: Got a local stream :::",e),console.log(t.state.sfutest.id),0===t.state.feeds.filter((function(e){return e.id===t.state.sfutest.id})).length&&(t.state.sfutest.rfid=t.state.myVroomId,t.setState({feeds:t.state.feeds.concat(t.state.sfutest)}));var n=e.getVideoTracks();console.log("onlocalstream",n),n&&0!==n.length?(console.log(t.state.vparticipants),t.vStreamAttacher(t.state.sfutest,t.state.name)):t.vStreamDettacher(t.state.sfutest)},onremotestream:function(e){},oncleanup:function(){_t.log(" ::: Got a cleanup notification: we are unpublished now :::")}})},error:function(e){_t.error(e);var n="";if(t.state.publishedCamera&&(n=n+"?cam=true&roomId="+t.state.slot),t.state.muted||(n+="&mic=true"),""===n){var s=t.getJsonFromUrl(t.$f7.view[0].history[0]);n=n+"?cam="+s.cam+"&mic="+s.mic}window.location.replace("http://localhost:3000/"+n)},destroyed:function(){window.location.reload()}})}})}function Tt(e,t,n,s,i){var a=this,r=n.split("\xa7")[0],c=null;a.state.janus.attach({plugin:"janus.plugin.videoroom",opaqueId:this.state.opaqueId,success:function(t){(c=t).simulcastStarted=!1,_t.log("Plugin attached! ("+c.getPlugin()+", id="+c.getId()+")"),_t.log("  -- This is a subscriber");var n={request:"join",room:1234,ptype:"subscriber",pin:a.state.pin,feed:e,private_id:a.state.mypvtid};"safari"!==_t.webRTCAdapter.browserDetails.browser||"vp9"!==i&&("vp8"!==i||_t.safariVp8)||(i&&(i=i.toUpperCase()),console.log("Publisher is using "+i+", but Safari doesn't support it: disabling video"),n.offer_video=!1),c.videoCodec=i,c.send({message:n})},error:function(e){_t.error("  -- Error attaching plugin...",e),window.alert("Error attaching plugin... "+e)},onmessage:function(e,t){_t.debug(" ::: Got a message (subscriber) :::",e);var n=e.videoroom;_t.log("Event: "+n),e.error?window.alert(e.error):n&&"attached"===n&&(c.rfid=e.id,c.rfdisplay=e.display,a.setState({feeds:a.state.feeds.concat(c)},(function(){return console.log("@@@@",a.state.feeds)})),i||a.vStreamDettacher(c),_t.log("Successfully attached to feed "+c.rfid+" ("+c.rfdisplay+") in room "+e.room)),t&&(_t.log("Handling SDP as well...",t),c.createAnswer({jsep:t,media:{audioSend:!1,videoSend:!1,data:!1},success:function(e){_t.log("Got SDP!",e);var t={request:"start",room:a.state.roomId};c.send({message:t,jsep:e})},error:function(e){_t.log("WebRTC error:",e),window.alert("WebRTC error... "+e.message)}}))},iceState:function(e){_t.log("ICE state of this WebRTC PeerConnection (feed #"+c.rfid+") changed to "+e)},webrtcState:function(e){_t.log("Janus says this WebRTC PeerConnection (feed #"+c.rfid+") is "+(e?"up":"down")+" now"),"down"===e&&a.vremoveParticipant(c.rfid)},onlocalstream:function(e){console.log(">>>>>>>>>>>",e)},onremotestream:function(e){console.log(">>>>>>>>>>>",e),a.vStreamAttacher(c,r)},ondata:function(e){},oncleanup:function(){_t.log(" ::: Got a cleanup notification (remote feed "+e+") :::")}})}function It(e){var t=this,n={request:"join",room:1234,ptype:"publisher",display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.slot};t.state.sfutest.send({message:n})}function Dt(e){var t=this,n={request:"configure",room:1234,ptype:"publisher",display:t.state.fullname+" \xa7"+t.state.userUUID+"\xa7"+t.state.userColor+"\xa7"+t.state.slot};t.state.sfutest.send({message:n})}function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this;if(console.log("Attaching "+e),console.log(le()("#video-"+e.id)),0==le()("#video-"+e.id).length){var s=document.createElement("video");s.autoplay=!0,s.muted=!0,s.id="video-"+e.id,le()("#Dish").append("<div id='d-"+e.id+"' class='Camera' data-content='"+t+"'></div>")}s&&le()("#d-"+e.id).append(s),e.id&&e.webrtcStuff&&e.webrtcStuff.remoteStream&&(n.setState({vActive:!0}),_t.attachMediaStream(document.getElementById("video-"+e.id),e.webrtcStuff.remoteStream),n.disher()),e.id&&e.webrtcStuff&&e.webrtcStuff.myStream&&(le()("#videoLoaderIcon").hide(),le()("#videoLoaderIcon2").hide(),le()("#disableVideo").show(),_t.attachMediaStream(document.getElementById("video-"+e.id),e.webrtcStuff.myStream),n.disher()),le()("#video-"+e.id).css("width","inherit")}function Mt(e){e.id&&(le()("#video-"+e.id).remove(),le()("#d-"+e.id).remove(),this.disher())}function Rt(e,t){var n=t.split("\xa7");this.exisitingParticipant(n[1])&&this.setState({vparticipants:this.state.vparticipants.concat({id:e,display:n[0],uuid:n[1],userColor:n[2],role:"listener",current:"stopped-talking"})})}function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,s=!0,i=!0;n.state.isAdmin||(s={width:180,height:151}),"0"===n.state.slot&&(s="hires-16:9"),t&&(i={deviceId:{exact:t}}),n.state.sfutest.createOffer({media:Object(D.a)({audioRecv:!1,videoRecv:!1,data:!1,videoSend:!0,audioSend:!1,video:s},"video",i),success:function(t){if(_t.debug("********* Got publisher SDP!",t),console.log("switching to "+e),t){var s={request:"configure",audio:!1,video:!0,data:!1,bitrate:8e3*e,bitrate_cap:!0};n.state.sfutest.send({message:s,jsep:t})}n.setState({publishedCamera:!0}),le()("#camera-spinner").hide(),le()("#camera-off").show(),le()("#camera-off").css("color","black"),console.log("ID: >>>",n.state.sfutest.id),dt.emit("ionSetSlot",{slot:n.state.slot,stream:n.state.sfutest.id});var i=n.state.sfutest.webrtcStuff.myStream.getTracks();console.log(i)},error:function(e){_t.error("***** WebRTC error:",e)}})}function Et(){var e=this;console.log("unPublishing ..");e.state.sfutest.send({message:{request:"unpublish"}}),e.vStreamDettacher(e.state.sfutest),le()("#camera-spinner").hide(),le()("#camera-on").show(),le()("#camera-off").css("color","initial"),e.setState({publishedCamera:!1,videoState:"initial",slot:null})}function Lt(e){var t=this;t.state.publishedCamera&&t.unPublishCamera(),t.publishCamera(16,e)}function Vt(){this.state.sfutest&&(this.state.sfutest.send({message:{request:"unpublish"}}),this.state.sfutest.send({message:{request:"leave"}}))}function Bt(){var e=this;le()("#camera-spinner").show(),le()("#camera-off").hide(),le()("#camera-on").hide(),e.state.publishedCamera?e.unPublishCamera():e.publishCamera()}function Ut(e,t,n,s){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=0,r=0,c=.75*e+2*i;a<t;)r+e>n&&(r=0,c=c+.75*e+2*i),r=r+e+2*i,a++;return!(c>s)&&e}function Ht(){for(var e=document.getElementById("Dish"),t=e.offsetWidth-4,n=e.offsetHeight-4,s=document.getElementsByClassName("Camera"),i=0,a=1;a<5e3;){if(!1===Ut(a,s.length,t,n,2)){i=a-1;break}a++}zt(i-=4,2)}function zt(e,t){for(var n=document.getElementsByClassName("Camera"),s=0;s<n.length;s++)n[s].style.width=e+"px",n[s].style.margin=t+"px",n[s].style.height=.75*e+"px"}var Ft=A.fa,Wt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s,i;return Object(c.a)(this,n),(i=t.call(this,e)).getInstance=i.getInstance.bind(Object(j.a)(i)),i.handleChange=i.handleChange.bind(Object(j.a)(i)),i.setInstance=i.setInstance.bind(Object(j.a)(i)),i.vsessionCreate=Nt.bind(Object(j.a)(i)),i.vregisterUsername=It.bind(Object(j.a)(i)),i.vNewRemoteFeed=Tt.bind(Object(j.a)(i)),i.publishCamera=Pt.bind(Object(j.a)(i)),i.toggleCamera=Bt.bind(Object(j.a)(i)),i.vStreamAttacher=At.bind(Object(j.a)(i)),i.vStreamDettacher=Mt.bind(Object(j.a)(i)),i.unPublishCamera=Et.bind(Object(j.a)(i)),i.vChangeUsername=Dt.bind(Object(j.a)(i)),i.vAddParticipant=Rt.bind(Object(j.a)(i)),i.toggleVideoDevice=Lt.bind(Object(j.a)(i)),i.exitVideoRoom=Vt.bind(Object(j.a)(i)),i.currentRole=bt.bind(Object(j.a)(i)),i.sessionCreate=ht.bind(Object(j.a)(i)),i.registerUsername=jt.bind(Object(j.a)(i)),i.participantChangeStatus=ft.bind(Object(j.a)(i)),i.participantDisplay=gt.bind(Object(j.a)(i)),i.forceMute=wt.bind(Object(j.a)(i)),i.participantChangeRoom=xt.bind(Object(j.a)(i)),i.exitAudioRoom=yt.bind(Object(j.a)(i)),i.removeParticipant=vt.bind(Object(j.a)(i)),i.addParticipant=pt.bind(Object(j.a)(i)),i.toggleMute=Ot.bind(Object(j.a)(i)),i.exisitingParticipant=mt.bind(Object(j.a)(i)),i.dishArea=Ut.bind(Object(j.a)(i)),i.disher=Ht.bind(Object(j.a)(i)),i.setWidth=zt.bind(Object(j.a)(i)),i.socketHandle=i.socketHandle.bind(Object(j.a)(i)),i.wsSend=i.wsSend.bind(Object(j.a)(i)),i.state=(s={token:window.localStorage.getItem("token"),name:null,fullname:null,userUUID:null,initials:null,is_speaker:!1,is_moderator:!1,is_presenter:!1,role:null,talking:{},opaqueId:"videoroomtest-"+ot.randomString(12),mixertest:null,server:w,roomId:null,pin:null,participants:[],vparticipants:[],muted:!0},Object(D.a)(s,"talking",!1),Object(D.a)(s,"myId",null),Object(D.a)(s,"vroomId",null),Object(D.a)(s,"vpin",null),Object(D.a)(s,"janus",null),Object(D.a)(s,"sfutest",null),Object(D.a)(s,"feeds",[]),Object(D.a)(s,"propagates",[]),Object(D.a)(s,"chats",[]),Object(D.a)(s,"lastTime",Date.now()),Object(D.a)(s,"content",null),Object(D.a)(s,"item",null),s),i}return Object(o.a)(n,[{key:"componentWillMount",value:function(){var e=this;m.on("set_instance",this.setInstance),m.on("got_instance",this.getInstance),m.on("deleted_instance",this.getInstance),this.props.history.listen((function(t){console.log(t.pathname,"/rooms/"+e.props.match.params.id),t.pathname!=="/rooms/"+e.props.match.params.id&&(e.exitAudioRoom(),e.exitVideoRoom())}))}},{key:"componentWillUnmount",value:function(){m.removeListener("got_instance",this.getInstance),m.removeListener("set_instance",this.setInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this;this.state.token&&this.state.token.length>10&&N("users/validate_token",{},this.state.token),window.addEventListener("load",(function(t){e.disher(),window.onresize=Ht}),!1),dt.on("connect",(function(){e.state.roomId&&dt.emit("room",{room:e.state.roomId.toString(),uuid:e.state.userUUID})})),dt.on("message",(function(t){t.sender!==e.state.userUUID&&e.socketHandle(t)}))}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"getInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();"Room"===t&&this.setState({roomId:n.uuid,pin:n.pin,secret:n.secret,vroomId:n.vuuid,vpin:n.vpin,is_speaker:n.is_speaker,is_moderator:n.is_moderator,is_presenter:n.is_presenter},(function(){console.log(e.state),e.sessionCreate(e.state.roomId),e.vsessionCreate(e.state.vroomId),e.connectSocketRoom()}))}},{key:"setInstance",value:function(){var e=this,t=m.getKlass(),n=m.getIntance();"Validate"===t&&this.setState({name:n.name,fullname:n.name,initials:n.initials,userUUID:n.uuid},(function(){console.log(e.state),C("rooms",e.props.match.params.id,e.state.token)}))}},{key:"presentBtn",value:function(){if(this.state.is_presenter||this.state.is_moderator)return Object(M.jsx)("a",{class:"m-1",onClick:"",children:Object(M.jsx)("span",{class:"avatar",style:{backgroundColor:"#d7d8da"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M21 12v3a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h9"}),Object(M.jsx)("line",{x1:"7",y1:"20",x2:"17",y2:"20"}),Object(M.jsx)("line",{x1:"9",y1:"16",x2:"9",y2:"20"}),Object(M.jsx)("line",{x1:"15",y1:"16",x2:"15",y2:"20"}),Object(M.jsx)("path",{d:"M17 4h4v4"}),Object(M.jsx)("path",{d:"M16 9l5 -5"})]})})})}},{key:"cameraBtn",value:function(){var e=this;if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(M.jsx)("a",{class:"m-1",onClick:function(){return e.toggleMute()},children:Object(M.jsxs)("span",{class:"avatar",style:{backgroundColor:"#d7d8da"},children:[Object(M.jsxs)("svg",{id:"microphone-on",style:{display:"block"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("rect",{x:"9",y:"2",width:"6",height:"11",rx:"3"}),Object(M.jsx)("path",{d:"M5 10a7 7 0 0 0 14 0"}),Object(M.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),Object(M.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),Object(M.jsxs)("svg",{id:"microphone-off",style:{display:"none"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"3",y1:"3",x2:"21",y2:"21"}),Object(M.jsx)("path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"}),Object(M.jsx)("path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2.002 -2a6.967 6.967 0 0 0 1.152 -3.85"}),Object(M.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),Object(M.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})]})})}},{key:"microphoneBtn",value:function(){var e=this;if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(M.jsx)("a",{class:"m-1",onClick:function(){return e.toggleCamera()},children:Object(M.jsxs)("span",{class:"avatar",style:{backgroundColor:"#d7d8da"},children:[Object(M.jsx)("div",{id:"camera-spinner",class:"spinner-border text-red",role:"status",style:{display:"none"}}),Object(M.jsxs)("svg",{id:"camera-on",style:{display:"block"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"12",cy:"10",r:"7"}),Object(M.jsx)("circle",{cx:"12",cy:"10",r:"3"}),Object(M.jsx)("path",{d:"M8 16l-2.091 3.486a1 1 0 0 0 .857 1.514h10.468a1 1 0 0 0 .857 -1.514l-2.091 -3.486"})]}),Object(M.jsxs)("svg",{id:"camera-off",style:{display:"none"},xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M6.15 6.153a7 7 0 0 0 9.696 9.696m2.003 -2.001a7 7 0 0 0 -9.699 -9.695"}),Object(M.jsx)("path",{d:"M9.13 9.122a3 3 0 0 0 3.743 3.749m2.001 -2.009a3 3 0 0 0 -3.737 -3.736"}),Object(M.jsx)("path",{d:"M8 16l-2.091 3.486a1 1 0 0 0 .857 1.514h10.468a1 1 0 0 0 .857 -1.514l-2.091 -3.486"}),Object(M.jsx)("line",{x1:"3",y1:"3",x2:"21",y2:"21"})]})]})})}},{key:"settingsBtn",value:function(){if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return Object(M.jsx)("a",{class:"m-1",onClick:"",children:Object(M.jsx)("span",{class:"avatar",style:{backgroundColor:"#d7d8da"},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),Object(M.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})})}},{key:"controls",value:function(){return Object(M.jsx)("div",{class:"card card-active mb-3",children:Object(M.jsxs)("div",{class:"card-body p-1",style:{textAlign:"center"},children:[this.microphoneBtn(),this.cameraBtn(),this.presentBtn(),this.settingsBtn()]})})}},{key:"showControl",value:function(){if(this.state.is_moderator||this.state.is_presenter||this.state.is_speaker)return this.controls()}},{key:"talkingIndicator",value:function(e){if(this.state.talking[e])return Object(M.jsx)("span",{class:"badge bg-yellow"})}},{key:"speakerList",value:function(){var e=this,t=[];return this.state.participants.map((function(n){"listener"!==n.role&&t.push(Object(M.jsx)("div",{class:"col-6 mb-1",children:Object(M.jsxs)("div",{class:"row g-3 align-items-center",children:[Object(M.jsx)("a",{href:"#",class:"col-auto",children:Object(M.jsxs)("span",{class:"avatar",children:[n.initials,e.talkingIndicator(n.id)]})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block text-truncate",children:n.display}),Object(M.jsx)("small",{class:"text-muted text-truncate mt-n1",children:Ft[n.role]})]})]})}))})),t}},{key:"listenerList",value:function(){var e=this,t=[];return this.state.participants.map((function(n){"listener"===n.role&&t.push(Object(M.jsx)("div",{class:"col-6 mb-1",children:Object(M.jsxs)("div",{class:"row g-3 align-items-center",children:[Object(M.jsx)("a",{href:"#",class:"col-auto",children:Object(M.jsxs)("span",{class:"avatar",children:[n.initials,e.talkingIndicator(n.id)]})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block text-truncate",children:n.display}),Object(M.jsx)("small",{class:"text-muted text-truncate mt-n1",children:Ft[n.role]})]})]})}))})),t}},{key:"socketHandle",value:function(e){var t=e;switch(console.log(t),t.type){case"chat":this.appendChat(t.c)}}},{key:"appendChat",value:function(e){var t=this.state.chats.filter((function(t){return t.uuid===e.uuid}));t&&0===t.length&&(this.state.chats&&this.state.chats.length>50?this.setState({chats:this.state.chats.slice(1).concat(e)}):this.setState({chats:this.state.chats.concat(e)}))}},{key:"chatItems",value:function(){var e=[];return this.state.chats.map((function(t){e.push(Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar",children:t.initials})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:t.name}),Object(M.jsx)("div",{class:"text-muted mt-n1",children:t.content})]})]})}))})),e}},{key:"throttle",value:function(e,t){var n=this;Date.now()-this.state.lastTime>100&&this.setState({lastTime:Date.now()},(function(){n.wsSend({type:t,c:e})}))}},{key:"send",value:function(){this.state.item&&(this.throttle(this.state.item,"chat"),this.appendChat(this.state.item),le()("#chat-form").val(""))}},{key:"wsSend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.userUUID;e.room=this.state.roomId,e.sender=t,dt.emit("message",e)}},{key:"connectSocketRoom",value:function(){this.state.userUUID&&this.state.roomId&&dt.emit("room",{room:this.state.roomId,uuid:this.state.userUUID})}},{key:"render",value:function(){var e=this,t=A.fa;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsx)("div",{className:"page-wrapper",children:Object(M.jsx)("div",{className:"page-body pt-2",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row  row-cards",children:[Object(M.jsxs)("div",{class:"col-lg-4",children:[this.showControl(),Object(M.jsx)("div",{class:"card mb-3 maxh-250 ",children:Object(M.jsx)("div",{class:"card-body",style:{overflowY:"scroll"},children:Object(M.jsx)("div",{class:"row",children:this.speakerList()})})}),Object(M.jsx)("div",{class:"card mb-3 maxh-250",children:Object(M.jsx)("div",{class:"card-body",style:{overflowY:"scroll"},children:Object(M.jsx)("div",{class:"row",children:this.listenerList()})})}),Object(M.jsxs)("div",{class:"card mb-3 maxh-250 minh-250",children:[Object(M.jsx)("div",{class:"list-group list-group-flush overflow-auto",style:{maxHeight:"25rem"},children:this.chatItems()}),Object(M.jsx)("div",{class:"card-footer",children:Object(M.jsxs)("div",{class:"row",children:[Object(M.jsx)("div",{class:"col",children:Object(M.jsx)("input",{id:"chat-form",type:"text",class:"form-control",placeholder:t.write_something,onChange:function(t){e.handleChange({item:{content:t.target.value,name:e.state.name,initials:e.state.initials,time:Date.now(),uuid:Object(P.v4)()}})}})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{onClick:function(){return e.send()},class:"btn btn-white btn-icon","aria-label":"Button",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]})})})]})})]})]}),Object(M.jsx)("div",{class:"col-lg-8",children:Object(M.jsx)("div",{class:"card",children:Object(M.jsx)("div",{class:"card-body",id:"content",style:{height:"500px"},children:Object(M.jsx)("div",{id:"Dish"})})})})]})})})}),Object(M.jsx)("div",{id:"mixedaudio",style:{display:"block"}})]})})}}]),n}(i.a.Component),qt=A.fa,Gt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).setInstance=s.setInstance.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.getInstance=s.getInstance.bind(Object(j.a)(s)),s.getMultipleList=s.getMultipleList.bind(Object(j.a)(s)),s.search=s.search.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),title:null,attendances:null,users:null,attendable_type:"",attendable_id:0,q:"",selectedUser:null},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_multiple_list",this.getMultipleList),m.on("set_instance",this.setInstance),m.on("deleted_instance",this.getInstance)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_multiple_list",this.getMultipleList),m.removeListener("set_instance",this.setInstance),m.removeListener("deleted_instance",this.getInstance)}},{key:"componentDidMount",value:function(){var e=this,t=fe.a.parse(this.props.location.search),n="",s=0;Object.keys(t).map((function(e){var i=e.split("_");i[0]&&(n=i[0].charAt(0).toUpperCase()+i[0].slice(1),s=t[e])})),this.setState({attendable_type:n,attendable_id:s},(function(){S("attendances",e.state.page,e.state,e.state.token)}))}},{key:"getMultipleList",value:function(){var e=m.getMutipleList(),t=m.getKlass();console.log(e),e&&"Attendance"===t&&this.setState({users:e.users,attendances:e.attendances})}},{key:"getInstance",value:function(){S("attendances",this.state.page,this.state,this.state.token)}},{key:"handleChange",value:function(e){this.setState(e)}},{key:"search",value:function(e){var t=this;e.length>3?this.setState({q:e},(function(){return S("attendances",t.state.page,t.state,t.state.token)})):this.setState({q:""},(function(){return S("attendances",t.state.page,t.state,t.state.token)}))}},{key:"setInstance",value:function(){S("attendances",this.state.page,this.state,this.state.token)}},{key:"addParticipant",value:function(e){""!==this.state.attendable_type&&N("attendances",{attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type,user_id:e},this.state.token)}},{key:"removeParticipant",value:function(e){_("attendances",{id:e,attendable_id:this.state.attendable_id,attendable_type:this.state.attendable_type},this.state.token)}},{key:"userItems",value:function(e){var t=this,n=[];return e&&e.map((function(e){n.push(Object(M.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{onClick:function(){return t.addParticipant(e.user_id)},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar",children:e.initials})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:e.name}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:e.bio})]}),Object(M.jsx)("div",{class:"col-auto"})]})}))})),n}},{key:"changeDuty",value:function(e,t){console.log(e,t),N("attendances/change_duty",{id:e,duty:t},this.state.token)}},{key:"attendanceItems",value:function(e){var t=this,n=[];return e&&e.map((function(e){console.log(e);var s=e.profile;n.push(Object(M.jsx)("div",{class:"list-group-item",style:{border:"none"},children:Object(M.jsxs)("div",{class:"row align-items-center",children:[Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{onClick:function(){return t.removeParticipant(e.id)},children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsx)("a",{href:"#",children:Object(M.jsx)("span",{class:"avatar",children:s.initials})})}),Object(M.jsxs)("div",{class:"col text-truncate",children:[Object(M.jsx)("a",{href:"#",class:"text-body d-block",children:s.name}),Object(M.jsx)("small",{class:"d-block text-muted text-truncate mt-n1",children:s.bio})]}),Object(M.jsx)("div",{class:"col-auto",children:Object(M.jsxs)("select",{class:"form-select",onChange:function(n){return t.changeDuty(e.id,n.target.value)},children:[Object(M.jsx)("option",{value:"moderator",selected:"moderator"===e.duty,children:qt.moderator}),Object(M.jsx)("option",{value:"presenter",selected:"presenter"===e.duty,children:qt.presenter}),Object(M.jsx)("option",{value:"speaker",selected:"speaker"===e.duty,children:qt.speaker}),Object(M.jsx)("option",{value:"listener",selected:"listener"===e.duty,children:qt.listener})]})})]})}))})),n}},{key:"render",value:function(){var e=this;return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:qt.add_participants}),Object(M.jsx)("h2",{className:"page-title",children:qt.choose_participants})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"row row-deck row-cards",children:[Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:qt.all_users})}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:Object(M.jsx)("div",{class:"list-group-item",children:Object(M.jsxs)("div",{class:"input-icon ",children:[Object(M.jsx)("input",{type:"text",class:"form-control",placeholder:qt.search_placeholder,onInput:function(t){e.search(t.target.value)}}),Object(M.jsx)("span",{class:"input-icon-addon",children:Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(M.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})})]})})}),this.userItems(this.state.users)]})}),Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{class:"card mb-3",children:[Object(M.jsx)("div",{class:"card-header",children:Object(M.jsx)("h3",{class:"card-title",children:qt.participants})}),Object(M.jsx)("div",{class:"list-group list-group-flush list-group-hoverable",children:this.attendanceItems(this.state.attendances)})]})})]})})})]})]})})}}]),n}(i.a.Component),Jt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).getList=s.getList.bind(Object(j.a)(s)),s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.state={token:window.localStorage.getItem("token"),profiles:[]},s}return Object(o.a)(n,[{key:"componentWillMount",value:function(){m.on("got_list",this.getList)}},{key:"componentWillUnmount",value:function(){m.removeListener("got_list",this.getList)}},{key:"componentDidMount",value:function(){k("profiles",this.state.page,{},this.state.token)}},{key:"handleChange",value:function(e){}},{key:"getList",value:function(){var e=m.getList(),t=m.getKlass();e&&"Profile"===t&&this.setState({profiles:e}),console.log(e)}},{key:"tags",value:function(e){var t=[];return e.tags.map((function(e){t.push(Object(M.jsx)("span",{class:"badge bg-lime-lt",style:{margin:"2px"},children:e.title}))})),t}},{key:"items",value:function(){var e=this,t=[];return this.state.profiles.map((function(n){t.push(Object(M.jsx)("div",{class:"col-md-6 col-lg-3",children:Object(M.jsxs)("div",{class:"card",children:[Object(M.jsxs)("div",{class:"card-body p-4 text-center",children:[Object(M.jsx)("span",{class:"avatar avatar-xl mb-3 avatar-rounded",children:n.initials}),Object(M.jsx)("h3",{class:"m-0 mb-1",children:Object(M.jsx)("a",{href:"#",children:n.name})}),Object(M.jsx)("div",{class:"text-muted",children:n.short_bio}),Object(M.jsx)("div",{class:"mt-3",children:Object(M.jsx)("div",{className:"example-content",children:e.tags(n)})})]}),Object(M.jsxs)("div",{class:"d-flex",children:[Object(M.jsxs)("a",{href:"#",class:"card-btn",children:[Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M4 21v-13a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v6a3 3 0 0 1 -3 3h-9l-4 4"}),Object(M.jsx)("line",{x1:"12",y1:"11",x2:"12",y2:"11.01"}),Object(M.jsx)("line",{x1:"8",y1:"11",x2:"8",y2:"11.01"}),Object(M.jsx)("line",{x1:"16",y1:"11",x2:"16",y2:"11.01"})]}),"Message"]}),Object(M.jsxs)("a",{href:"#",class:"card-btn",children:[Object(M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon me-2 text-muted",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(M.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(M.jsx)("path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"})]}),"Call"]})]})]})}))})),t}},{key:"render",value:function(){return Object(M.jsx)("body",{className:"antialiased",children:Object(M.jsxs)("div",{className:"wrapper",children:[Object(M.jsx)(R,{history:this.props.history}),Object(M.jsxs)("div",{className:"page-wrapper",children:[Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsxs)("div",{className:"page-header d-print-none",children:[Object(M.jsx)("div",{className:"row align-items-center"}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("div",{className:"page-pretitle",children:"Overview"}),Object(M.jsx)("h2",{className:"page-title",children:"Profiles"})]})]})}),Object(M.jsx)("div",{className:"page-body",children:Object(M.jsx)("div",{className:"container-xl",children:Object(M.jsx)("div",{className:"row row-deck row-cards",children:this.items()})})})]})]})})}}]),n}(i.a.Component),Yt=n(32),Kt=Object(Yt.a)(),Zt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentWillMount",value:function(){Kt.listen((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(M.jsx)(u.a,{history:Kt,children:Object(M.jsxs)(h.c,{children:[Object(M.jsx)(h.a,{path:"/",exact:!0,component:te}),Object(M.jsx)(h.a,{path:"/wizard",exact:!0,component:J}),Object(M.jsx)(h.a,{path:"/login",exact:!0,component:K}),Object(M.jsx)(h.a,{path:"/uploads/:id",exact:!0,component:$e}),Object(M.jsx)(h.a,{path:"/uploads/cropper/:id",exact:!0,component:Xe}),Object(M.jsx)(h.a,{path:"/events",exact:!0,component:te}),Object(M.jsx)(h.a,{path:"/events/create",exact:!0,component:me}),Object(M.jsx)(h.a,{path:"/events/attendance",exact:!0,component:xe}),Object(M.jsx)(h.a,{path:"/events/:id",exact:!0,component:je}),Object(M.jsx)(h.a,{path:"/events/detail/:id",exact:!0,component:Se}),Object(M.jsx)(h.a,{path:"/events/edit/:id",exact:!0,component:me}),Object(M.jsx)(h.a,{path:"/exhibitions",exact:!0,component:ze}),Object(M.jsx)(h.a,{path:"/exhibitions/create",exact:!0,component:Ye}),Object(M.jsx)(h.a,{path:"/exhibitions/:id",exact:!0,component:We}),Object(M.jsx)(h.a,{path:"/exhibitions/edit/:id",exact:!0,component:Ye}),Object(M.jsx)(h.a,{path:"/meetings",exact:!0,component:Te}),Object(M.jsx)(h.a,{path:"/meetings/create",exact:!0,component:Le}),Object(M.jsx)(h.a,{path:"/meetings/attendance",exact:!0,component:Ve}),Object(M.jsx)(h.a,{path:"/meetings/:id",exact:!0,component:De}),Object(M.jsx)(h.a,{path:"/meetings/edit/:id",exact:!0,component:Le}),Object(M.jsx)(h.a,{path:"/flyers/create",exact:!0,component:nt}),Object(M.jsx)(h.a,{path:"/flyers/edit/:id",exact:!0,component:nt}),Object(M.jsx)(h.a,{path:"/attendances/create",exact:!0,component:Gt}),Object(M.jsx)(h.a,{path:"/rooms/:id",exact:!0,component:Wt}),Object(M.jsx)(h.a,{path:"/discussions",exact:!0,component:Ke}),Object(M.jsx)(h.a,{path:"/profiles",exact:!0,component:Jt})]})})}}]),n}(i.a.Component),Qt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,551)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),a(e),r(e)}))};r.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)(Zt,{})}),document.getElementById("root")),Qt()}},[[546,1,2]]]);
//# sourceMappingURL=main.b20a94c0.chunk.js.map